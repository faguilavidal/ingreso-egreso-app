(self.webpackChunkingresoEgresoApp=self.webpackChunkingresoEgresoApp||[]).push([[179],{440:(Me,ie,S)=>{"use strict";S.d(ie,{nm:()=>bt});var f=S(6351);S(5e3),S(5867);var Ue=S(5861),at=S(9681),Ke=S(4859),Et=S(2090),we=S(1877);const nt=new Map,Oe={activated:!1,tokenObservers:[]},Ne={initialized:!1,enabled:!1};function We(Te){return nt.get(Te)||Oe}function Ge(Te,Ce){nt.set(Te,Ce)}function ct(){return Ne}class dn{constructor(Ce,Ye,lt,Tt,jt){if(this.operation=Ce,this.retryPolicy=Ye,this.getWaitDuration=lt,this.lowerBound=Tt,this.upperBound=jt,this.pending=null,this.nextErrorWaitInterval=Tt,Tt>jt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ce){var Ye=this;return(0,Ue.Z)(function*(){Ye.stop();try{Ye.pending=new Et.BH,yield function Ht(Te){return new Promise(Ce=>{setTimeout(Ce,Te)})}(Ye.getNextRun(Ce)),Ye.pending.resolve(),yield Ye.pending.promise,Ye.pending=new Et.BH,yield Ye.operation(),Ye.pending.resolve(),yield Ye.pending.promise,Ye.process(!0).catch(()=>{})}catch(lt){Ye.retryPolicy(lt)?Ye.process(!1).catch(()=>{}):Ye.stop()}})()}getNextRun(Ce){if(Ce)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ye=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ye}}}const Rt=new Et.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Jn(Te){if(!We(Te).activated)throw Rt.create("use-before-activation",{appName:Te.name})}function Sn(Te,Ce){return ur.apply(this,arguments)}function ur(){return(ur=(0,Ue.Z)(function*({url:Te,body:Ce},Ye){const lt={"Content-Type":"application/json"},Tt=Ye.getImmediate({optional:!0});Tt&&(lt["X-Firebase-Client"]=Tt.getPlatformInfoString());const jt={method:"POST",body:JSON.stringify(Ce),headers:lt};let er,Or;try{er=yield fetch(Te,jt)}catch(ss){throw Rt.create("fetch-network-error",{originalErrorMessage:ss.message})}if(200!==er.status)throw Rt.create("fetch-status-error",{httpStatus:er.status});try{Or=yield er.json()}catch(ss){throw Rt.create("fetch-parse-error",{originalErrorMessage:ss.message})}const qn=Or.ttl.match(/^([\d.]+)(s)$/);if(!qn||!qn[2]||isNaN(Number(qn[1])))throw Rt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Or.ttl}`});const Ei=1e3*Number(qn[1]),Ki=Date.now();return{token:Or.attestationToken,expireTimeMillis:Ki+Ei,issuedAtTimeMillis:Ki}})).apply(this,arguments)}function ot(Te,Ce){const{projectId:Ye,appId:lt,apiKey:Tt}=Te.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${Ye}/apps/${lt}:exchangeDebugToken?key=${Tt}`,body:{debug_token:Ce}}}const jn="firebase-app-check-store";let bn=null;function oi(){return bn||(bn=new Promise((Te,Ce)=>{try{const Ye=indexedDB.open("firebase-app-check-database",1);Ye.onsuccess=lt=>{Te(lt.target.result)},Ye.onerror=lt=>{var Tt;Ce(Rt.create("storage-open",{originalErrorMessage:null===(Tt=lt.target.error)||void 0===Tt?void 0:Tt.message}))},Ye.onupgradeneeded=lt=>{0===lt.oldVersion&&lt.target.result.createObjectStore(jn,{keyPath:"compositeKey"})}}catch(Ye){Ce(Rt.create("storage-open",{originalErrorMessage:Ye.message}))}}),bn)}function Bt(){return(Bt=(0,Ue.Z)(function*(Te,Ce){const lt=(yield oi()).transaction(jn,"readwrite"),jt=lt.objectStore(jn).put({compositeKey:Te,value:Ce});return new Promise((er,Or)=>{jt.onsuccess=qn=>{er()},lt.onerror=qn=>{var Ei;Or(Rt.create("storage-set",{originalErrorMessage:null===(Ei=qn.target.error)||void 0===Ei?void 0:Ei.message}))}})})).apply(this,arguments)}const pr=new we.Yd("@firebase/app-check");function Ar(Te,Ce){return(0,Et.hl)()?function vt(Te,Ce){return function Pn(Te,Ce){return Bt.apply(this,arguments)}(function wi(Te){return`${Te.options.appId}-${Te.name}`}(Te),Ce)}(Te,Ce).catch(Ye=>{pr.warn(`Failed to write token to IndexedDB. Error: ${Ye}`)}):Promise.resolve()}function De(){return ct().enabled}function be(){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,Ue.Z)(function*(){const Te=ct();if(Te.enabled&&Te.token)return Te.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Nt={error:"UNKNOWN_ERROR"};function Ut(Te){return Et.US.encodeString(JSON.stringify(Te),!1)}function Mn(Te){return zn.apply(this,arguments)}function zn(){return(zn=(0,Ue.Z)(function*(Te,Ce=!1){const Ye=Te.app;Jn(Ye);const lt=We(Ye);let jt,Tt=lt.token;if(!Tt){const qn=yield lt.cachedTokenPromise;qn&&$r(qn)&&(Tt=qn)}if(!Ce&&Tt&&$r(Tt))return{token:Tt.token};let Or,er=!1;if(De()){lt.exchangeTokenPromise||(lt.exchangeTokenPromise=Sn(ot(Ye,yield be()),Te.platformLoggerProvider).then(Ei=>(lt.exchangeTokenPromise=void 0,Ei)),er=!0);const qn=yield lt.exchangeTokenPromise;return yield Ar(Ye,qn),Ge(Ye,Object.assign(Object.assign({},lt),{token:qn})),{token:qn.token}}try{lt.exchangeTokenPromise||(lt.exchangeTokenPromise=lt.provider.getToken().then(qn=>(lt.exchangeTokenPromise=void 0,qn)),er=!0),Tt=yield lt.exchangeTokenPromise}catch(qn){"appCheck/throttled"===qn.code?pr.warn(qn.message):pr.error(qn),jt=qn}return Tt?(Or={token:Tt.token},Ge(Ye,Object.assign(Object.assign({},lt),{token:Tt})),yield Ar(Ye,Tt)):Or=cn(jt),er&&Fr(Ye,Or),Or})).apply(this,arguments)}function Pr(Te,Ce){const Ye=We(Te),lt=Ye.tokenObservers.filter(Tt=>Tt.next!==Ce);0===lt.length&&Ye.tokenRefresher&&Ye.tokenRefresher.isRunning()&&Ye.tokenRefresher.stop(),Ge(Te,Object.assign(Object.assign({},Ye),{tokenObservers:lt}))}function In(Te){const{app:Ce}=Te,Ye=We(Ce);let lt=Ye.tokenRefresher;lt||(lt=function lr(Te){const{app:Ce}=Te;return new dn((0,Ue.Z)(function*(){let lt;if(lt=We(Ce).token?yield Mn(Te,!0):yield Mn(Te),lt.error)throw lt.error}),()=>!0,()=>{const Ye=We(Ce);if(Ye.token){let lt=Ye.token.issuedAtTimeMillis+.5*(Ye.token.expireTimeMillis-Ye.token.issuedAtTimeMillis)+3e5;return lt=Math.min(lt,Ye.token.expireTimeMillis-3e5),Math.max(0,lt-Date.now())}return 0},3e4,96e4)}(Te),Ge(Ce,Object.assign(Object.assign({},Ye),{tokenRefresher:lt}))),!lt.isRunning()&&Ye.isTokenAutoRefreshEnabled&&lt.start()}function Fr(Te,Ce){const Ye=We(Te).tokenObservers;for(const lt of Ye)try{"EXTERNAL"===lt.type&&null!=Ce.error?lt.error(Ce.error):lt.next(Ce)}catch(Tt){}}function $r(Te){return Te.expireTimeMillis-Date.now()>0}function cn(Te){return{token:Ut(Nt),error:Te}}class Sr{constructor(Ce,Ye){this.app=Ce,this.platformLoggerProvider=Ye}_delete(){const{tokenObservers:Ce}=We(this.app);for(const Ye of Ce)Pr(this.app,Ye.next);return Promise.resolve()}}const Je="app-check-internal";!function Pe(){(0,at._registerComponent)(new Ke.wA("app-check",Te=>function Cn(Te,Ce){return new Sr(Te,Ce)}(Te.getProvider("app").getImmediate(),Te.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Te,Ce,Ye)=>{Te.getProvider(Je).initialize()})),(0,at._registerComponent)(new Ke.wA(Je,Te=>function Xn(Te){return{getToken:Ce=>Mn(Te,Ce),addTokenListener:Ce=>function Un(Te,Ce,Ye,lt){const{app:Tt}=Te,jt=We(Tt),er={next:Ye,error:lt,type:Ce};if(Ge(Tt,Object.assign(Object.assign({},jt),{tokenObservers:[...jt.tokenObservers,er]})),jt.token&&$r(jt.token)){const Or=jt.token;Promise.resolve().then(()=>{Ye({token:Or.token}),In(Te)}).catch(()=>{})}jt.cachedTokenPromise.then(()=>In(Te))}(Te,"INTERNAL",Ce),removeTokenListener:Ce=>Pr(Te.app,Ce)}}(Te.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,at.registerVersion)("@firebase/app-check","0.5.3")}();class bt{constructor(){return(0,f.vb)("app-check")}}"undefined"!=typeof window&&window},1041:(Me,ie,S)=>{"use strict";S.d(ie,{zQ:()=>ct,ww:()=>Be,rT:()=>Oe,f7:()=>We,L6:()=>we,_Q:()=>nt,lh:()=>Ne,Qv:()=>Et,nw:()=>Ge});var f=S(5e3),R=S(7579),$=S(9646),le=S(8306),re=S(8996),ye=S(6451),_e=S(4707),ge=S(3099);function oe(At,on,kn){var Ot,ft;let dn,Ht=!1;return At&&"object"==typeof At?(dn=null!==(Ot=At.bufferSize)&&void 0!==Ot?Ot:1/0,on=null!==(ft=At.windowTime)&&void 0!==ft?ft:1/0,Ht=!!At.refCount,kn=At.scheduler):dn=null!=At?At:1/0,(0,ge.B)({connector:()=>new _e.t(dn,on,kn),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ht})}var J=S(3900),ee=S(576);function ae(At,on){return(0,ee.m)(on)?(0,J.w)(()=>At,on):(0,J.w)(()=>At)}var $e=S(5363),He=S(4004),ze=S(590),st=S(9468),Ae=S(9300),xe=S(6351),ne=S(2011),Re=S(9808),Ue=S(440),at=S(127);const Et=new f.OlP("angularfire2.auth.use-emulator"),we=new f.OlP("angularfire2.auth.settings"),nt=new f.OlP("angularfire2.auth.tenant-id"),Oe=new f.OlP("angularfire2.auth.langugage-code"),Ne=new f.OlP("angularfire2.auth.use-device-language"),We=new f.OlP("angularfire.auth.persistence"),Ge=(At,on,kn,Ot,ft,dn,Ht,sn)=>(0,ne.cc)(`${At.name}.auth`,"AngularFireAuth",At.name,()=>{const Rt=on.runOutsideAngular(()=>At.auth());if(kn&&Rt.useEmulator(...kn),Ot&&(Rt.tenantId=Ot),Rt.languageCode=ft,dn&&Rt.useDeviceLanguage(),Ht)for(const[Qn,Jn]of Object.entries(Ht))Rt.settings[Qn]=Jn;return sn&&Rt.setPersistence(sn),Rt},[kn,Ot,ft,dn,Ht,sn]);let ct=(()=>{class At{constructor(kn,Ot,ft,dn,Ht,sn,Rt,Qn,Jn,Dn,yr,fn){const Sn=new R.x,ur=(0,$.of)(void 0).pipe((0,$e.Q)(Ht.outsideAngular),(0,J.w)(()=>dn.runOutsideAngular(()=>Promise.resolve().then(S.bind(S,5735)))),(0,He.U)(()=>(0,ne.on)(kn,dn,Ot)),(0,He.U)(tr=>Ge(tr,dn,sn,Qn,Jn,Dn,Rt,yr)),oe({bufferSize:1,refCount:!1}));if((0,Re.PM)(ft))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,$.of)(null);else{ur.pipe((0,ze.P)()).subscribe();const Fn=ur.pipe((0,J.w)(It=>It.getRedirectResult().then(jn=>jn,()=>null)),xe.iC,oe({bufferSize:1,refCount:!1})),ot=ur.pipe((0,J.w)(It=>new le.y(jn=>({unsubscribe:dn.runOutsideAngular(()=>It.onAuthStateChanged(Kt=>jn.next(Kt),Kt=>jn.error(Kt),()=>jn.complete()))})))),Xt=ur.pipe((0,J.w)(It=>new le.y(jn=>({unsubscribe:dn.runOutsideAngular(()=>It.onIdTokenChanged(Kt=>jn.next(Kt),Kt=>jn.error(Kt),()=>jn.complete()))}))));this.authState=Fn.pipe(ae(ot),(0,st.R)(Ht.outsideAngular),(0,$e.Q)(Ht.insideAngular)),this.user=Fn.pipe(ae(Xt),(0,st.R)(Ht.outsideAngular),(0,$e.Q)(Ht.insideAngular)),this.idToken=this.user.pipe((0,J.w)(It=>It?(0,re.D)(It.getIdToken()):(0,$.of)(null))),this.idTokenResult=this.user.pipe((0,J.w)(It=>It?(0,re.D)(It.getIdTokenResult()):(0,$.of)(null))),this.credential=(0,ye.T)(Fn,Sn,this.authState.pipe((0,Ae.h)(It=>!It))).pipe((0,He.U)(It=>(null==It?void 0:It.user)?It:null),(0,st.R)(Ht.outsideAngular),(0,$e.Q)(Ht.insideAngular))}return(0,ne.pX)(this,ur,dn,{spy:{apply:(tr,Fn,ot)=>{(tr.startsWith("signIn")||tr.startsWith("createUser"))&&ot.then(Xt=>Sn.next(Xt))}}})}}return At.\u0275fac=function(kn){return new(kn||At)(f.LFG(ne.Dh),f.LFG(ne.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(xe.HU),f.LFG(Et,8),f.LFG(we,8),f.LFG(nt,8),f.LFG(Oe,8),f.LFG(Ne,8),f.LFG(We,8),f.LFG(Ue.nm,8))},At.\u0275prov=f.Yz7({token:At,factory:At.\u0275fac,providedIn:"any"}),At})(),Be=(()=>{class At{constructor(){at.Z.registerVersion("angularfire",xe.q4.full,"auth-compat")}}return At.\u0275fac=function(kn){return new(kn||At)},At.\u0275mod=f.oAB({type:At}),At.\u0275inj=f.cJS({providers:[ct]}),At})()},7407:(Me,ie,S)=>{"use strict";S.d(ie,{ST:()=>zp,yb:()=>Nm});var f=S(5e3),R=S(4986),$=S(8306),le=S(8996),re=S(9646),ye=S(6351),_e=S(4482),ge=S(5403);function oe(){return(0,_e.e)((i,e)=>{let r,o=!1;i.subscribe(new ge.Q(e,u=>{const p=r;r=u,o&&e.next([p,u]),o=!0}))})}var nt,J=S(8675),ee=S(4004),ae=S(5026),$e=S(1884),He=S(9300),ze=S(2011),st=S(9808),xe=(S(5735),S(3942)),ne=S(5861),Re=S(9681),Ue=S(4859),at=S(1877),Ke=S(2090),Et="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},we={},Oe=Oe||{},Ne=Et||self;function We(){}function Ge(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function ct(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var At="closure_uid_"+(1e9*Math.random()>>>0),on=0;function kn(i,e,r){return i.call.apply(i.bind,arguments)}function Ot(i,e,r){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function ft(i,e,r){return(ft=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?kn:Ot).apply(null,arguments)}function dn(i,e){var r=Array.prototype.slice.call(arguments,1);return function(){var o=r.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Ht(i,e){function r(){}r.prototype=e.prototype,i.Z=e.prototype,i.prototype=new r,i.prototype.constructor=i,i.Vb=function(o,u,p){for(var v=Array(arguments.length-2),O=2;O<arguments.length;O++)v[O-2]=arguments[O];return e.prototype[u].apply(o,v)}}function sn(){this.s=this.s,this.o=this.o}var Qn={};sn.prototype.s=!1,sn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function Be(i){return Object.prototype.hasOwnProperty.call(i,At)&&i[At]||(i[At]=++on)}(this);delete Qn[i]}},sn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Jn=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let r=0;r<i.length;r++)if(r in i&&i[r]===e)return r;return-1},Dn=Array.prototype.forEach?function(i,e,r){Array.prototype.forEach.call(i,e,r)}:function(i,e,r){const o=i.length,u="string"==typeof i?i.split(""):i;for(let p=0;p<o;p++)p in u&&e.call(r,u[p],p,i)};function fn(i){return Array.prototype.concat.apply([],arguments)}function Sn(i){const e=i.length;if(0<e){const r=Array(e);for(let o=0;o<e;o++)r[o]=i[o];return r}return[]}function ur(i){return/^[\s\xa0]*$/.test(i)}var Xt,tr=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Fn(i,e){return-1!=i.indexOf(e)}function ot(i,e){return i<e?-1:i>e?1:0}e:{var It=Ne.navigator;if(It){var jn=It.userAgent;if(jn){Xt=jn;break e}}Xt=""}function Kt(i,e,r){for(const o in i)e.call(r,i[o],o,i)}function bn(i){const e={};for(const r in i)e[r]=i[r];return e}var oi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qt(i,e){let r,o;for(let u=1;u<arguments.length;u++){for(r in o=arguments[u],o)i[r]=o[r];for(let p=0;p<oi.length;p++)r=oi[p],Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r])}}function vt(i){return vt[" "](i),i}vt[" "]=We;var en,i,kt=Fn(Xt,"Opera"),Pn=Fn(Xt,"Trident")||Fn(Xt,"MSIE"),Bt=Fn(Xt,"Edge"),Mt=Bt||Pn,$t=Fn(Xt,"Gecko")&&!(Fn(Xt.toLowerCase(),"webkit")&&!Fn(Xt,"Edge"))&&!(Fn(Xt,"Trident")||Fn(Xt,"MSIE"))&&!Fn(Xt,"Edge"),wi=Fn(Xt.toLowerCase(),"webkit")&&!Fn(Xt,"Edge");function pr(){var i=Ne.document;return i?i.documentMode:void 0}e:{var xn="",Ar=(i=Xt,$t?/rv:([^\);]+)(\)|;)/.exec(i):Bt?/Edge\/([\d\.]+)/.exec(i):Pn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):wi?/WebKit\/(\S+)/.exec(i):kt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Ar&&(xn=Ar?Ar[1]:""),Pn){var qr=pr();if(null!=qr&&qr>parseFloat(xn)){en=String(qr);break e}}en=xn}var fe={};var Ze=Ne.document&&Pn&&(pr()||parseInt(en,10))||void 0,Nt=function(){if(!Ne.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Ne.addEventListener("test",We,e),Ne.removeEventListener("test",We,e)}catch(r){}return i}();function Ut(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function Mn(i,e){if(Ut.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var r=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if($t){e:{try{vt(e.nodeName);var u=!0;break e}catch(p){}u=!1}u||(e=null)}}else"mouseover"==r?e=i.fromElement:"mouseout"==r&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:zn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Mn.Z.h.call(this)}}Ut.prototype.h=function(){this.defaultPrevented=!0},Ht(Mn,Ut);var zn={2:"touch",3:"pen",4:"mouse"};Mn.prototype.h=function(){Mn.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Un="closure_listenable_"+(1e6*Math.random()|0),Pr=0;function In(i,e,r,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=r,this.capture=!!o,this.ia=u,this.key=++Pr,this.ca=this.fa=!1}function lr(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function Fr(i){this.src=i,this.g={},this.h=0}function $r(i,e){var r=e.type;if(r in i.g){var p,o=i.g[r],u=Jn(o,e);(p=0<=u)&&Array.prototype.splice.call(o,u,1),p&&(lr(e),0==i.g[r].length&&(delete i.g[r],i.h--))}}function cn(i,e,r,o){for(var u=0;u<i.length;++u){var p=i[u];if(!p.ca&&p.listener==e&&p.capture==!!r&&p.ia==o)return u}return-1}Fr.prototype.add=function(i,e,r,o,u){var p=i.toString();(i=this.g[p])||(i=this.g[p]=[],this.h++);var v=cn(i,e,o,u);return-1<v?(e=i[v],r||(e.fa=!1)):((e=new In(e,this.src,p,!!o,u)).fa=r,i.push(e)),e};var Sr="closure_lm_"+(1e6*Math.random()|0),Cn={};function Xn(i,e,r,o,u){if(o&&o.once)return nr(i,e,r,o,u);if(Array.isArray(e)){for(var p=0;p<e.length;p++)Xn(i,e[p],r,o,u);return null}return r=Lr(r),i&&i[Un]?i.N(e,r,ct(o)?!!o.capture:!!o,u):wr(i,e,r,!1,o,u)}function wr(i,e,r,o,u,p){if(!e)throw Error("Invalid event type");var v=ct(u)?!!u.capture:!!u,O=Gr(i);if(O||(i[Sr]=O=new Fr(i)),(r=O.add(e,r,o,v,p)).proxy)return r;if(o=function _r(){var e=Hr;return function i(r){return e.call(i.src,i.listener,r)}}(),r.proxy=o,o.src=i,o.listener=r,i.addEventListener)Nt||(u=v),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(Mr(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return r}function nr(i,e,r,o,u){if(Array.isArray(e)){for(var p=0;p<e.length;p++)nr(i,e[p],r,o,u);return null}return r=Lr(r),i&&i[Un]?i.O(e,r,ct(o)?!!o.capture:!!o,u):wr(i,e,r,!0,o,u)}function Er(i,e,r,o,u){if(Array.isArray(e))for(var p=0;p<e.length;p++)Er(i,e[p],r,o,u);else o=ct(o)?!!o.capture:!!o,r=Lr(r),i&&i[Un]?(i=i.i,(e=String(e).toString())in i.g&&-1<(r=cn(p=i.g[e],r,o,u))&&(lr(p[r]),Array.prototype.splice.call(p,r,1),0==p.length&&(delete i.g[e],i.h--))):i&&(i=Gr(i))&&(e=i.g[e.toString()],i=-1,e&&(i=cn(e,r,o,u)),(r=-1<i?e[i]:null)&&gi(r))}function gi(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[Un])$r(e.i,i);else{var r=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(r,o,i.capture):e.detachEvent?e.detachEvent(Mr(r),o):e.addListener&&e.removeListener&&e.removeListener(o),(r=Gr(e))?($r(r,i),0==r.h&&(r.src=null,e[Sr]=null)):lr(i)}}}function Mr(i){return i in Cn?Cn[i]:Cn[i]="on"+i}function Hr(i,e){if(i.ca)i=!0;else{e=new Mn(e,this);var r=i.listener,o=i.ia||i.src;i.fa&&gi(i),i=r.call(o,e)}return i}function Gr(i){return(i=i[Sr])instanceof Fr?i:null}var Wt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lr(i){return"function"==typeof i?i:(i[Wt]||(i[Wt]=function(e){return i.handleEvent(e)}),i[Wt])}function Tn(){sn.call(this),this.i=new Fr(this),this.P=this,this.I=null}function gt(i,e){var r,o=i.I;if(o)for(r=[];o;o=o.I)r.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Ut(e,i);else if(e instanceof Ut)e.target=e.target||i;else{var u=e;Qt(e=new Ut(o,i),u)}if(u=!0,r)for(var p=r.length-1;0<=p;p--){var v=e.g=r[p];u=un(v,o,!0,e)&&u}if(u=un(v=e.g=i,o,!0,e)&&u,u=un(v,o,!1,e)&&u,r)for(p=0;p<r.length;p++)u=un(v=e.g=r[p],o,!1,e)&&u}function un(i,e,r,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,p=0;p<e.length;++p){var v=e[p];if(v&&!v.ca&&v.capture==r){var O=v.listener,H=v.ia||v.src;v.fa&&$r(i.i,v),u=!1!==O.call(H,o)&&u}}return u&&!o.defaultPrevented}Ht(Tn,sn),Tn.prototype[Un]=!0,Tn.prototype.removeEventListener=function(i,e,r,o){Er(this,i,e,r,o)},Tn.prototype.M=function(){if(Tn.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var r=i.g[e],o=0;o<r.length;o++)lr(r[o]);delete i.g[e],i.h--}}this.I=null},Tn.prototype.N=function(i,e,r,o){return this.i.add(String(i),e,!1,r,o)},Tn.prototype.O=function(i,e,r,o){return this.i.add(String(i),e,!0,r,o)};var Nn=Ne.JSON.stringify;function cr(){var i=ai;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var ir,$n=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new xr,i=>i.reset());class xr{constructor(){this.next=this.g=this.h=null}set(e,r){this.h=e,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function hn(i){Ne.setTimeout(()=>{throw i},0)}function Vr(i,e){ir||function _n(){var i=Ne.Promise.resolve(void 0);ir=function(){i.then(he)}}(),ti||(ir(),ti=!0),ai.add(i,e)}var ti=!1,ai=new class br{constructor(){this.h=this.g=null}add(e,r){const o=$n.get();o.set(e,r),this.h?this.h.next=o:this.g=o,this.h=o}};function he(){for(var i;i=cr();){try{i.h.call(i.g)}catch(r){hn(r)}var e=$n;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}ti=!1}function Je(i,e){Tn.call(this),this.h=i||1,this.g=e||Ne,this.j=ft(this.kb,this),this.l=Date.now()}function Pe(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function Qe(i,e,r){if("function"==typeof i)r&&(i=ft(i,r));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=ft(i.handleEvent,i)}return 2147483647<Number(e)?-1:Ne.setTimeout(i,e||0)}function yt(i){i.g=Qe(()=>{i.g=null,i.i&&(i.i=!1,yt(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Ht(Je,Tn),(nt=Je.prototype).da=!1,nt.S=null,nt.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),gt(this,"tick"),this.da&&(Pe(this),this.start()))}},nt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},nt.M=function(){Je.Z.M.call(this),Pe(this),delete this.g};class bt extends sn{constructor(e,r){super(),this.m=e,this.j=r,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:yt(this)}M(){super.M(),this.g&&(Ne.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lt(i){sn.call(this),this.h=i,this.g={}}Ht(Lt,sn);var sr=[];function Kn(i,e,r,o){Array.isArray(r)||(r&&(sr[0]=r.toString()),r=sr);for(var u=0;u<r.length;u++){var p=Xn(e,r[u],o||i.handleEvent,!1,i.h||i);if(!p)break;i.g[p.key]=p}}function rr(i){Kt(i.g,function(e,r){this.g.hasOwnProperty(r)&&gi(e)},i),i.g={}}function An(){this.g=!0}function ce(i,e,r,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function te(i,e){if(!i.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r)for(i=0;i<r.length;i++)if(Array.isArray(r[i])){var o=r[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var p=u[0];if("noop"!=p&&"stop"!=p&&"close"!=p)for(var v=1;v<u.length;v++)u[v]=""}}}return Nn(r)}catch(O){return e}}(i,r)+(o?" "+o:"")})}Lt.prototype.M=function(){Lt.Z.M.call(this),rr(this)},Lt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},An.prototype.Aa=function(){this.g=!1},An.prototype.info=function(){};var Le={},ut=null;function Gt(){return ut=ut||new Tn}function Vn(i){Ut.call(this,Le.Ma,i)}function Dr(i){const e=Gt();gt(e,new Vn(e,i))}function Te(i,e){Ut.call(this,Le.STAT_EVENT,i),this.stat=e}function Ce(i){const e=Gt();gt(e,new Te(e,i))}function Ye(i,e){Ut.call(this,Le.Na,i),this.size=e}function lt(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Ne.setTimeout(function(){i()},e)}Le.Ma="serverreachability",Ht(Vn,Ut),Le.STAT_EVENT="statevent",Ht(Te,Ut),Le.Na="timingevent",Ht(Ye,Ut);var Tt={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},jt={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function er(){}function qn(){}er.prototype.h=null;var Es,Ei={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ki(){Ut.call(this,"d")}function ss(){Ut.call(this,"c")}function qi(){}function bs(i,e,r,o){this.l=i,this.j=e,this.m=r,this.X=o||1,this.V=new Lt(this),this.P=mo,this.W=new Je(i=Mt?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Is}function Is(){this.i=null,this.g="",this.h=!1}Ht(Ki,Ut),Ht(ss,Ut),Ht(qi,er),qi.prototype.g=function(){return new XMLHttpRequest},qi.prototype.i=function(){return{}},Es=new qi;var mo=45e3,os={},Zi={};function as(i,e,r){i.K=1,i.v=tt(wn(e)),i.s=r,i.U=!0,ui(i,null)}function ui(i,e){i.F=Date.now(),ks(i),i.A=wn(i.v);var r=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),x(r.h,"t",o),i.C=0,r=i.l.H,i.h=new Is,i.g=_o(i.l,r?e:null,!i.s),0<i.O&&(i.L=new bt(ft(i.Ia,i,i.g),i.O)),Kn(i.V,i.g,"readystatechange",i.gb),e=i.H?bn(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),Dr(1),function Zr(i,e,r,o,u,p){i.info(function(){if(i.g)if(p)for(var v="",O=p.split("&"),H=0;H<O.length;H++){var X=O[H].split("=");if(1<X.length){var pe=X[0];X=X[1];var ke=pe.split("_");v=2<=ke.length&&"type"==ke[1]?v+(pe+"=")+X+"&":v+(pe+"=redacted&")}}else v=null;else v=p;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+r+"\n"+v})}(i.j,i.u,i.A,i.m,i.X,i.s)}function Ns(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function ni(i,e,r){let u,o=!0;for(;!i.I&&i.C<r.length;){if(u=no(i,r),u==Zi){4==e&&(i.o=4,Ce(14),o=!1),ce(i.j,i.m,null,"[Incomplete Response]");break}if(u==os){i.o=4,Ce(15),ce(i.j,i.m,r,"[Invalid Chunk]"),o=!1;break}ce(i.j,i.m,u,null),Fs(i,u)}Ns(i)&&u!=Zi&&u!=os&&(i.h.g="",i.C=0),4!=e||0!=r.length||i.h.h||(i.o=1,Ce(16),o=!1),i.i=i.i&&o,o?0<r.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+r.length),Mo(e),e.L=!0,Ce(11))):(ce(i.j,i.m,r,"[Invalid Chunked Response]"),Cr(i),Yi(i))}function no(i,e){var r=i.C,o=e.indexOf("\n",r);return-1==o?Zi:(r=Number(e.substring(r,o)),isNaN(r)?os:(o+=1)+r>e.length?Zi:(e=e.substr(o,r),i.C=o+r,e))}function ks(i){i.Y=Date.now()+i.P,ci(i,i.P)}function ci(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=lt(ft(i.eb,i),e)}function Yr(i){i.B&&(Ne.clearTimeout(i.B),i.B=null)}function Yi(i){0==i.l.G||i.I||ao(i.l,i)}function Cr(i){Yr(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Pe(i.W),rr(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Fs(i,e){try{var r=i.l;if(0!=r.G&&(r.g==i||zr(r.i,i)))if(r.I=i.N,!i.J&&zr(r.i,i)&&3==r.G){try{var o=r.Ca.g.parse(e)}catch(X){o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0])e:if(r.u)r.ta=u[1],0<r.ta-r.U&&37500>u[2]&&r.N&&0==r.A&&!r.v&&(r.v=lt(ft(r.ab,r),6e3));else{if(r.g){if(!(r.g.F+3e3<i.F))break e;Tr(r),oo(r)}Si(r),Ce(18)}if(1>=bi(r.i)&&r.ka){try{r.ka()}catch(X){}r.ka=void 0}}else ys(r,11)}else if((i.J||r.g==i)&&Tr(r),!ur(e))for(u=r.Ca.g.parse(e),e=0;e<u.length;e++){let X=u[e];if(r.U=X[0],X=X[1],2==r.G)if("c"==X[0]){r.J=X[1],r.la=X[2];const pe=X[3];null!=pe&&(r.ma=pe,r.h.info("VER="+r.ma));const ke=X[4];null!=ke&&(r.za=ke,r.h.info("SVER="+r.za));const it=X[5];null!=it&&"number"==typeof it&&0<it&&(r.K=o=1.5*it,r.h.info("backChannelRequestTimeoutMs_="+o)),o=r;const Xe=i.g;if(Xe){const Pt=Xe.g?Xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pt){var p=o.i;!p.g&&(Fn(Pt,"spdy")||Fn(Pt,"quic")||Fn(Pt,"h2"))&&(p.j=p.l,p.g=new Set,p.h&&(Li(p,p.h),p.h=null))}if(o.D){const vn=Xe.g?Xe.g.getResponseHeader("X-HTTP-Session-Id"):null;vn&&(o.sa=vn,me(o.F,o.D,vn))}}r.G=3,r.j&&r.j.xa(),r.$&&(r.O=Date.now()-i.F,r.h.info("Handshake RTT: "+r.O+"ms"));var v=i;if((o=r).oa=zo(o,o.H?o.la:null,o.W),v.J){Qs(o.i,v);var O=v,H=o.K;H&&O.setTimeout(H),O.B&&(Yr(O),ks(O)),o.g=v}else So(o);0<r.l.length&&Ao(r)}else"stop"!=X[0]&&"close"!=X[0]||ys(r,7);else 3==r.G&&("stop"==X[0]||"close"==X[0]?"stop"==X[0]?ys(r,7):Go(r):"noop"!=X[0]&&r.j&&r.j.wa(X),r.A=0)}Dr(4)}catch(X){}}function us(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Ge(i)||"string"==typeof i)Dn(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var r=i.T();else if(i.R&&"function"==typeof i.R)r=void 0;else if(Ge(i)||"string"==typeof i){r=[];for(var o=i.length,u=0;u<o;u++)r.push(u)}else for(u in r=[],o=0,i)r[o++]=u;o=function Ds(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(Ge(i)){for(var e=[],r=i.length,o=0;o<r;o++)e.push(i[o]);return e}for(o in e=[],r=0,i)e[r++]=i[o];return e}(i),u=o.length;for(var p=0;p<u;p++)e.call(void 0,o[p],r&&r[p],i)}}function Ni(i,e){this.h={},this.g=[],this.i=0;var r=arguments.length;if(1<r){if(r%2)throw Error("Uneven number of arguments");for(var o=0;o<r;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof Ni)for(r=i.T(),o=0;o<r.length;o++)this.set(r[o],i.get(r[o]));else for(o in i)this.set(o,i[o])}function Ls(i){if(i.i!=i.g.length){for(var e=0,r=0;e<i.g.length;){var o=i.g[e];Qi(i.h,o)&&(i.g[r++]=o),e++}i.g.length=r}if(i.i!=i.g.length){var u={};for(r=e=0;e<i.g.length;)Qi(u,o=i.g[e])||(i.g[r++]=o,u[o]=1),e++;i.g.length=r}}function Qi(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(nt=bs.prototype).setTimeout=function(i){this.P=i},nt.gb=function(i){i=i.target;const e=this.L;e&&3==gs(i)?e.l():this.Ia(i)},nt.Ia=function(i){try{if(i==this.g)e:{const pe=gs(this.g);var e=this.g.Da();const ke=this.g.ba();if(!(3>pe)&&(3!=pe||Mt||this.g&&(this.h.h||this.g.ga()||ia(this.g)))){this.I||4!=pe||7==e||Dr(8==e||0>=ke?3:2),Yr(this);var r=this.g.ba();this.N=r;t:if(Ns(this)){var o=ia(this.g);i="";var u=o.length,p=4==gs(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Cr(this),Yi(this);var v="";break t}this.h.i=new Ne.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:p&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,v=this.h.g}else v=this.g.ga();if(this.i=200==r,function Ir(i,e,r,o,u,p,v){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+r+"\n"+p+" "+v})}(this.j,this.u,this.A,this.m,this.X,pe,r),this.i){if(this.$&&!this.J){t:{if(this.g){var O,H=this.g;if((O=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ur(O)){var X=O;break t}}X=null}if(!(r=X)){this.i=!1,this.o=3,Ce(12),Cr(this),Yi(this);break e}ce(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Fs(this,r)}this.U?(ni(this,pe,v),Mt&&this.i&&3==pe&&(Kn(this.V,this.W,"tick",this.fb),this.W.start())):(ce(this.j,this.m,v,null),Fs(this,v)),4==pe&&Cr(this),this.i&&!this.I&&(4==pe?ao(this.l,this):(this.i=!1,ks(this)))}else 400==r&&0<v.indexOf("Unknown SID")?(this.o=3,Ce(12)):(this.o=0,Ce(13)),Cr(this),Yi(this)}}}catch(pe){}},nt.fb=function(){if(this.g){var i=gs(this.g),e=this.g.ga();this.C<e.length&&(Yr(this),ni(this,i,e),this.i&&4!=i&&ks(this))}},nt.cancel=function(){this.I=!0,Cr(this)},nt.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function ue(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Dr(3),Ce(17)),Cr(this),this.o=2,Yi(this)):ci(this,this.Y-i)},(nt=Ni.prototype).R=function(){Ls(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},nt.T=function(){return Ls(this),this.g.concat()},nt.get=function(i,e){return Qi(this.h,i)?this.h[i]:e},nt.set=function(i,e){Qi(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},nt.forEach=function(i,e){for(var r=this.T(),o=0;o<r.length;o++){var u=r[o],p=this.get(u);i.call(e,p,u,this)}};var or=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Fi(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Fi){this.g=void 0!==e?e:i.g,N(this,i.j),this.s=i.s,z(this,i.i),P(this,i.m),this.l=i.l,e=i.h;var r=new mi;r.i=e.i,e.g&&(r.g=new Ni(e.g),r.h=e.h),K(this,r),this.o=i.o}else i&&(r=String(i).match(or))?(this.g=!!e,N(this,r[1]||"",!0),this.s=yn(r[2]||""),z(this,r[3]||"",!0),P(this,r[4]),this.l=yn(r[5]||"",!0),K(this,r[6]||"",!0),this.o=yn(r[7]||"")):(this.g=!!e,this.h=new mi(null,this.g))}function wn(i){return new Fi(i)}function N(i,e,r){i.j=r?yn(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function z(i,e,r){i.i=r?yn(e,!0):e}function P(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function K(i,e,r){e instanceof mi?(i.h=e,function U(i,e){e&&!i.j&&(Ti(i),i.i=null,i.g.forEach(function(r,o){var u=o.toLowerCase();o!=u&&(cs(this,o),x(this,u,r))},i)),i.j=e}(i.h,i.g)):(r||(e=Bn(e,qt)),i.h=new mi(e,i.g))}function me(i,e,r){i.h.set(e,r)}function tt(i){return me(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function yn(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Bn(i,e,r){return"string"==typeof i?(i=encodeURI(i).replace(e,vr),r&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function vr(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Fi.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Bn(e,pn,!0),":");var r=this.i;return(r||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Bn(e,pn,!0),"@"),i.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&i.push(":",String(r))),(r=this.l)&&(this.i&&"/"!=r.charAt(0)&&i.push("/"),i.push(Bn(r,"/"==r.charAt(0)?ar:Wr,!0))),(r=this.h.toString())&&i.push("?",r),(r=this.o)&&i.push("#",Bn(r,ri)),i.join("")};var pn=/[#\/\?@]/g,Wr=/[#\?:]/g,ar=/[#\?]/g,qt=/[#\?@]/g,ri=/#/g;function mi(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Ti(i){i.g||(i.g=new Ni,i.h=0,i.i&&function ki(i,e){if(i){i=i.split("&");for(var r=0;r<i.length;r++){var o=i[r].indexOf("="),u=null;if(0<=o){var p=i[r].substring(0,o);u=i[r].substring(o+1)}else p=i[r];e(p,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,r){i.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}function cs(i,e){Ti(i),e=A(i,e),Qi(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,Qi((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&Ls(i)))}function L(i,e){return Ti(i),e=A(i,e),Qi(i.g.h,e)}function x(i,e,r){cs(i,e),0<r.length&&(i.i=null,i.g.set(A(i,e),Sn(r)),i.h+=r.length)}function A(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Zt(i){this.l=i||En,i=Ne.PerformanceNavigationTiming?0<(i=Ne.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Ne.g&&Ne.g.Ea&&Ne.g.Ea()&&Ne.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(nt=mi.prototype).add=function(i,e){Ti(this),this.i=null,i=A(this,i);var r=this.g.get(i);return r||this.g.set(i,r=[]),r.push(e),this.h+=1,this},nt.forEach=function(i,e){Ti(this),this.g.forEach(function(r,o){Dn(r,function(u){i.call(e,u,o,this)},this)},this)},nt.T=function(){Ti(this);for(var i=this.g.R(),e=this.g.T(),r=[],o=0;o<e.length;o++)for(var u=i[o],p=0;p<u.length;p++)r.push(e[o]);return r},nt.R=function(i){Ti(this);var e=[];if("string"==typeof i)L(this,i)&&(e=fn(e,this.g.get(A(this,i))));else{i=this.g.R();for(var r=0;r<i.length;r++)e=fn(e,i[r])}return e},nt.set=function(i,e){return Ti(this),this.i=null,L(this,i=A(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},nt.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},nt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),r=0;r<e.length;r++){var o=e[r],u=encodeURIComponent(String(o));o=this.R(o);for(var p=0;p<o.length;p++){var v=u;""!==o[p]&&(v+="="+encodeURIComponent(String(o[p]))),i.push(v)}}return this.i=i.join("&")};var En=10;function Ur(i){return!!i.h||!!i.g&&i.g.size>=i.j}function bi(i){return i.h?1:i.g?i.g.size:0}function zr(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Li(i,e){i.g?i.g.add(e):i.h=e}function Qs(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Vs(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const r of i.g.values())e=e.concat(r.D);return e}return Sn(i.i)}function bo(){}function Io(){this.g=new bo}function Do(i,e,r){const o=r||"";try{us(i,function(u,p){let v=u;ct(u)&&(v=Nn(u)),e.push(o+p+"="+encodeURIComponent(v))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function Ji(i,e,r,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch(p){}}function ro(i){this.l=i.$b||null,this.j=i.ib||!1}function Cs(i,e){Tn.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=Xi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Zt.prototype.cancel=function(){if(this.i=Vs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},bo.prototype.stringify=function(i){return Ne.JSON.stringify(i,void 0)},bo.prototype.parse=function(i){return Ne.JSON.parse(i,void 0)},Ht(ro,er),ro.prototype.g=function(){return new Cs(this.l,this.j)},ro.prototype.i=function(i){return function(){return i}}({}),Ht(Cs,Tn);var Xi=0;function Uo(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function Ts(i){i.readyState=4,i.l=null,i.j=null,i.A=null,io(i)}function io(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(nt=Cs.prototype).open=function(i,e){if(this.readyState!=Xi)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,io(this)},nt.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||Ne).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},nt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ts(this)),this.readyState=Xi},nt.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,io(this)),this.g&&(this.readyState=3,io(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ne.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Uo(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},nt.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Ts(this):io(this),3==this.readyState&&Uo(this)}},nt.Ua=function(i){this.g&&(this.response=this.responseText=i,Ts(this))},nt.Ta=function(i){this.g&&(this.response=i,Ts(this))},nt.ha=function(){this.g&&Ts(this)},nt.setRequestHeader=function(i,e){this.v.append(i,e)},nt.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},nt.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var r=e.next();!r.done;)i.push((r=r.value)[0]+": "+r[1]),r=e.next();return i.join("\r\n")},Object.defineProperty(Cs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Bo=Ne.JSON.parse;function Nr(i){Tn.call(this),this.headers=new Ni,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Co,this.K=this.L=!1}Ht(Nr,Tn);var Co="",jo=/^https?$/i,Us=["POST","PUT"];function $o(i){return"content-type"==i.toLowerCase()}function As(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Ho(i),To(i)}function Ho(i){i.D||(i.D=!0,gt(i,"complete"),gt(i,"error"))}function so(i){if(i.h&&void 0!==Oe&&(!i.C[1]||4!=gs(i)||2!=i.ba()))if(i.v&&4==gs(i))Qe(i.Fa,0,i);else if(gt(i,"readystatechange"),4==gs(i)){i.h=!1;try{const O=i.ba();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var r;if(!(r=e)){var o;if(o=0===O){var u=String(i.H).match(or)[1]||null;if(!u&&Ne.self&&Ne.self.location){var p=Ne.self.location.protocol;u=p.substr(0,p.length-1)}o=!jo.test(u?u.toLowerCase():"")}r=o}if(r)gt(i,"complete"),gt(i,"success");else{i.m=6;try{var v=2<gs(i)?i.g.statusText:""}catch(H){v=""}i.j=v+" ["+i.ba()+"]",Ho(i)}}finally{To(i)}}}function To(i,e){if(i.g){yo(i);const r=i.g,o=i.C[0]?We:null;i.g=null,i.C=null,e||gt(i,"ready");try{r.onreadystatechange=o}catch(u){}}}function yo(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(Ne.clearTimeout(i.A),i.A=null)}function gs(i){return i.g?i.g.readyState:0}function ia(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Co:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function li(i,e,r){e:{for(o in r){var o=!1;break e}o=!0}o||(r=function _u(i){let e="";return Kt(i,function(r,o){e+=o,e+=":",e+=r,e+="\r\n"}),e}(r),"string"==typeof i?null!=r&&encodeURIComponent(String(r)):me(i,e,r))}function Ai(i,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[i]||e}function Kr(i){this.za=0,this.l=[],this.h=new An,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ai("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ai("baseRetryDelayMs",5e3,i),this.$a=Ai("retryDelaySeedMs",1e4,i),this.Ya=Ai("forwardChannelMaxRetries",2,i),this.ra=Ai("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new Zt(i&&i.concurrentRequestLimit),this.Ca=new Io,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function Go(i){if(Qa(i),3==i.G){var e=i.V++,r=wn(i.F);me(r,"SID",i.J),me(r,"RID",e),me(r,"TYPE","terminate"),es(i,r),(e=new bs(i,i.h,e,void 0)).K=2,e.v=tt(wn(r)),r=!1,Ne.navigator&&Ne.navigator.sendBeacon&&(r=Ne.navigator.sendBeacon(e.v.toString(),"")),!r&&Ne.Image&&((new Image).src=e.v,r=!0),r||(e.g=_o(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ks(e)}xo(i)}function oo(i){i.g&&(Mo(i),i.g.cancel(),i.g=null)}function Qa(i){oo(i),i.u&&(Ne.clearTimeout(i.u),i.u=null),Tr(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Ne.clearTimeout(i.m),i.m=null)}function sa(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&Ao(i)}function Ao(i){Ur(i.i)||i.m||(i.m=!0,Vr(i.Ha,i),i.C=0)}function oa(i,e){var r;r=e?e.m:i.V++;const o=wn(i.F);me(o,"SID",i.J),me(o,"RID",r),me(o,"AID",i.U),es(i,o),i.o&&i.s&&li(o,i.o,i.s),r=new bs(i,i.h,r,i.C+1),null===i.o&&(r.H=i.s),e&&(i.l=e.D.concat(i.l)),e=Wo(i,r,1e3),r.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),Li(i.i,r),as(r,o,e)}function es(i,e){i.j&&us({},function(r,o){me(e,o,r)})}function Wo(i,e,r){r=Math.min(i.l.length,r);var o=i.j?ft(i.j.Oa,i.j,i):null;e:{var u=i.l;let p=-1;for(;;){const v=["count="+r];-1==p?0<r?(p=u[0].h,v.push("ofs="+p)):p=0:v.push("ofs="+p);let O=!0;for(let H=0;H<r;H++){let X=u[H].h;const pe=u[H].g;if(X-=p,0>X)p=Math.max(0,u[H].h-100),O=!1;else try{Do(pe,v,"req"+X+"_")}catch(ke){o&&o(pe)}}if(O){o=v.join("&");break e}}}return i=i.l.splice(0,r),e.D=i,o}function So(i){i.g||i.u||(i.Y=1,Vr(i.Ga,i),i.A=0)}function Si(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=lt(ft(i.Ga,i),ms(i,i.A)),i.A++,0))}function Mo(i){null!=i.B&&(Ne.clearTimeout(i.B),i.B=null)}function Vi(i){i.g=new bs(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=wn(i.oa);me(e,"RID","rpc"),me(e,"SID",i.J),me(e,"CI",i.N?"0":"1"),me(e,"AID",i.U),es(i,e),me(e,"TYPE","xmlhttp"),i.o&&i.s&&li(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var r=i.g;i=i.la,r.K=1,r.v=tt(wn(e)),r.s=null,r.U=!0,ui(r,i)}function Tr(i){null!=i.v&&(Ne.clearTimeout(i.v),i.v=null)}function ao(i,e){var r=null;if(i.g==e){Tr(i),Mo(i),i.g=null;var o=2}else{if(!zr(i.i,e))return;r=e.D,Qs(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){r=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;gt(o=Gt(),new Ye(o,r,e,u)),Ao(i)}else So(i);else if(3==(u=e.o)||0==u&&0<i.I||!(1==o&&function Ja(i,e){return!(bi(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=lt(ft(i.Ha,i,e),ms(i,i.C)),i.C++,0)))}(i,e)||2==o&&Si(i)))switch(r&&0<r.length&&(e=i.i,e.i=e.i.concat(r)),u){case 1:ys(i,5);break;case 4:ys(i,10);break;case 3:ys(i,6);break;default:ys(i,2)}}function ms(i,e){let r=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(r*=2),r*e}function ys(i,e){if(i.h.info("Error code "+e),2==e){var r=null;i.j&&(r=null);var o=ft(i.jb,i);r||(r=new Fi("//www.google.com/images/cleardot.gif"),Ne.location&&"http"==Ne.location.protocol||N(r,"https"),tt(r)),function Ii(i,e){const r=new An;if(Ne.Image){const o=new Image;o.onload=dn(Ji,r,o,"TestLoadImage: loaded",!0,e),o.onerror=dn(Ji,r,o,"TestLoadImage: error",!1,e),o.onabort=dn(Ji,r,o,"TestLoadImage: abort",!1,e),o.ontimeout=dn(Ji,r,o,"TestLoadImage: timeout",!1,e),Ne.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(r.toString(),o)}else Ce(2);i.G=0,i.j&&i.j.va(e),xo(i),Qa(i)}function xo(i){i.G=0,i.I=-1,i.j&&((0!=Vs(i.i).length||0!=i.l.length)&&(i.i.i.length=0,Sn(i.l),i.l.length=0),i.j.ua())}function zo(i,e,r){let o=function pt(i){return i instanceof Fi?wn(i):new Fi(i,void 0)}(r);if(""!=o.i)e&&z(o,e+"."+o.i),P(o,o.m);else{const u=Ne.location;o=function Vt(i,e,r,o){var u=new Fi(null,void 0);return i&&N(u,i),e&&z(u,e),r&&P(u,r),o&&(u.l=o),u}(u.protocol,e?e+"."+u.hostname:u.hostname,+u.port,r)}return i.aa&&Kt(i.aa,function(u,p){me(o,p,u)}),r=i.sa,(e=i.D)&&r&&me(o,e,r),me(o,"VER",i.ma),es(i,o),o}function _o(i,e,r){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Nr(r&&i.Ba&&!i.qa?new ro({ib:!0}):i.qa)).L=i.H,e}function Ko(){}function aa(){if(Pn&&!(10<=Number(Ze)))throw Error("Environmental error: no available transport.")}function Di(i,e){Tn.call(this),this.g=new Kr(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!ur(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ur(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new D(this)}function qo(i){Ki.call(this);var e=i.__sm__;if(e){e:{for(const r in e){i=r;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function b(){ss.call(this),this.status=1}function D(i){this.g=i}(nt=Nr.prototype).ea=function(i,e,r,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Es.g(),this.C=function Or(i){return i.h||(i.h=i.i())}(this.u?this.u:Es),this.g.onreadystatechange=ft(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(p){return void As(this,p)}i=r||"";const u=new Ni(this.headers);o&&us(o,function(p,v){u.set(v,p)}),o=function yr(i){e:{var e=$o;const r=i.length,o="string"==typeof i?i.split(""):i;for(let u=0;u<r;u++)if(u in o&&e.call(void 0,o[u],u,i)){e=u;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(u.T()),r=Ne.FormData&&i instanceof Ne.FormData,!(0<=Jn(Us,e))||o||r||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),u.forEach(function(p,v){this.g.setRequestHeader(v,p)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{yo(this),0<this.B&&((this.K=function Oa(i){return Pn&&function De(){return function an(i){var e=fe;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=tr(String(en)).split("."),r=tr("9").split("."),o=Math.max(e.length,r.length);for(let v=0;0==i&&v<o;v++){var u=e[v]||"",p=r[v]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],p=/(\d*)(\D*)(.*)/.exec(p)||["","","",""],0==u[0].length&&0==p[0].length)break;i=ot(0==u[1].length?0:parseInt(u[1],10),0==p[1].length?0:parseInt(p[1],10))||ot(0==u[2].length,0==p[2].length)||ot(u[2],p[2]),u=u[3],p=p[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ft(this.pa,this)):this.A=Qe(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(p){As(this,p)}},nt.pa=function(){void 0!==Oe&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gt(this,"timeout"),this.abort(8))},nt.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,gt(this,"complete"),gt(this,"abort"),To(this))},nt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),To(this,!0)),Nr.Z.M.call(this)},nt.Fa=function(){this.s||(this.F||this.v||this.l?so(this):this.cb())},nt.cb=function(){so(this)},nt.ba=function(){try{return 2<gs(this)?this.g.status:-1}catch(i){return-1}},nt.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},nt.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Bo(e)}},nt.Da=function(){return this.m},nt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(nt=Kr.prototype).ma=8,nt.G=1,nt.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},nt.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const u=new bs(this,this.h,i,void 0);let p=this.s;if(this.P&&(p?(p=bn(p),Qt(p,this.P)):p=this.P),null===this.o&&(u.H=p),this.ja)e:{for(var e=0,r=0;r<this.l.length;r++){var o=this.l[r];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=r;break e}if(4096===e||r===this.l.length-1){e=r+1;break e}}e=1e3}else e=1e3;e=Wo(this,u,e),me(r=wn(this.F),"RID",i),me(r,"CVER",22),this.D&&me(r,"X-HTTP-Session-Id",this.D),es(this,r),this.o&&p&&li(r,this.o,p),Li(this.i,u),this.Ra&&me(r,"TYPE","init"),this.ja?(me(r,"$req",e),me(r,"SID","null"),u.$=!0,as(u,r,null)):as(u,r,e),this.G=2}}else 3==this.G&&(i?oa(this,i):0==this.l.length||Ur(this.i)||oa(this))},nt.Ga=function(){if(this.u=null,Vi(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=lt(ft(this.bb,this),i)}},nt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ce(10),oo(this),Vi(this))},nt.ab=function(){null!=this.v&&(this.v=null,oo(this),Si(this),Ce(19))},nt.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Ce(2)):(this.h.info("Failed to ping google.com"),Ce(1))},(nt=Ko.prototype).xa=function(){},nt.wa=function(){},nt.va=function(){},nt.ua=function(){},nt.Oa=function(){},aa.prototype.g=function(i,e){return new Di(i,e)},Ht(Di,Tn),Di.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,r=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),Vr(ft(i.hb,i,e))),Ce(0),i.W=e,i.aa=r||{},i.N=i.X,i.F=zo(i,null,i.W),Ao(i)},Di.prototype.close=function(){Go(this.g)},Di.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,sa(this.g,e)}else this.v?((e={}).__data__=Nn(i),sa(this.g,e)):sa(this.g,i)},Di.prototype.M=function(){this.g.j=null,delete this.j,Go(this.g),delete this.g,Di.Z.M.call(this)},Ht(qo,Ki),Ht(b,ss),Ht(D,Ko),D.prototype.xa=function(){gt(this.g,"a")},D.prototype.wa=function(i){gt(this.g,new qo(i))},D.prototype.va=function(i){gt(this.g,new b(i))},D.prototype.ua=function(){gt(this.g,"b")},aa.prototype.createWebChannel=aa.prototype.g,Di.prototype.send=Di.prototype.u,Di.prototype.open=Di.prototype.m,Di.prototype.close=Di.prototype.close,Tt.NO_ERROR=0,Tt.TIMEOUT=8,Tt.HTTP_ERROR=6,jt.COMPLETE="complete",qn.EventType=Ei,Ei.OPEN="a",Ei.CLOSE="b",Ei.ERROR="c",Ei.MESSAGE="d",Tn.prototype.listen=Tn.prototype.N,Nr.prototype.listenOnce=Nr.prototype.O,Nr.prototype.getLastError=Nr.prototype.La,Nr.prototype.getLastErrorCode=Nr.prototype.Da,Nr.prototype.getStatus=Nr.prototype.ba,Nr.prototype.getResponseJson=Nr.prototype.Qa,Nr.prototype.getResponseText=Nr.prototype.ga,Nr.prototype.send=Nr.prototype.ea;var j=we.createWebChannelTransport=function(){return new aa},ve=we.getStatEventTarget=function(){return Gt()},ht=we.ErrorCode=Tt,gn=we.EventType=jt,ii=we.Event=Le,Ui=we.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},fi=we.FetchXmlHttpFactory=ro,Bs=we.WebChannel=qn,_s=we.XhrIo=Nr;const ua="@firebase/firestore";class yi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yi.UNAUTHENTICATED=new yi(null),yi.GOOGLE_CREDENTIALS=new yi("google-credentials-uid"),yi.FIRST_PARTY=new yi("first-party-uid"),yi.MOCK_USER=new yi("mock-user");let ca="9.6.3";const js=new at.Yd("@firebase/firestore");function la(){return js.logLevel}function St(i,...e){if(js.logLevel<=at.in.DEBUG){const r=e.map(_);js.debug(`Firestore (${ca}): ${i}`,...r)}}function I(i,...e){if(js.logLevel<=at.in.ERROR){const r=e.map(_);js.error(`Firestore (${ca}): ${i}`,...r)}}function w(i,...e){if(js.logLevel<=at.in.WARN){const r=e.map(_);js.warn(`Firestore (${ca}): ${i}`,...r)}}function _(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(r){return i}}function C(i="Unexpected state"){const e=`FIRESTORE (${ca}) INTERNAL ASSERTION FAILED: `+i;throw I(e),new Error(e)}function k(i,e){i||C()}function Q(i,e){return i}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends Ke.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ct{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Gn{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mn{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(yi.UNAUTHENTICATED))}shutdown(){}}class dr{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class gr{constructor(e){this.t=e,this.currentUser=yi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var o=this;let u=this.i;const p=X=>this.i!==u?(u=this.i,r(X)):Promise.resolve();let v=new Ct;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new Ct,e.enqueueRetryable(()=>p(this.currentUser))};const O=()=>{const X=v;e.enqueueRetryable((0,ne.Z)(function*(){yield X.promise,yield p(o.currentUser)}))},H=X=>{St("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=X,this.auth.addAuthTokenListener(this.o),O()};this.t.onInit(X=>H(X)),setTimeout(()=>{if(!this.auth){const X=this.t.getImmediate({optional:!0});X?H(X):(St("FirebaseAuthCredentialsProvider","Auth not yet detected"),v.resolve(),v=new Ct)}},0),O()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==e?(St("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(k("string"==typeof o.accessToken),new Gn(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return k(null===e||"string"==typeof e),new yi(e)}}class si{constructor(e,r,o){this.type="FirstParty",this.user=yi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",r);const u=e.auth.getAuthHeaderValueForFirstParty([]);u&&this.headers.set("Authorization",u),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class Ss{constructor(e,r,o){this.h=e,this.l=r,this.m=o}getToken(){return Promise.resolve(new si(this.h,this.l,this.m))}start(e,r){e.enqueueRetryable(()=>r(yi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vs{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ls{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,r){this.o=u=>{e.enqueueRetryable(()=>{return null!=(p=u).error&&St("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`),r(p.token);var p})};const o=u=>{St("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.g.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.g.getImmediate({optional:!0});u?o(u):St("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(k("string"==typeof r.token),new vs(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class kr{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=o=>this.p(o),this.T=o=>r.writeSequenceNumber(o))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Zo(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let o=0;o<i;o++)r[o]=Math.floor(256*Math.random());return r}kr.I=-1;class Yo{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=Zo(40);for(let p=0;p<u.length;++p)o.length<20&&u[p]<r&&(o+=e.charAt(u[p]%e.length))}return o}}function Zn(i,e){return i<e?-1:i>e?1:0}function Oo(i,e,r){return i.length===e.length&&i.every((o,u)=>r(o,e[u]))}function Hc(i){return i+"\0"}class Hn{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ee(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ee(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Ee(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Hn.fromMillis(Date.now())}static fromDate(e){return Hn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*r));return new Hn(r,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Zn(this.nanoseconds,e.nanoseconds):Zn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ln{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ln(e)}static min(){return new Ln(new Hn(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function pc(i){let e=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e++;return e}function Pa(i,e){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e(r,i[r])}function Vl(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class vu{constructor(e,r,o){void 0===r?r=0:r>e.length&&C(),void 0===o?o=e.length-r:o>e.length-r&&C(),this.segments=e,this.offset=r,this.len=o}get length(){return this.len}isEqual(e){return 0===vu.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof vu?e.forEach(o=>{r.push(o)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,o=this.limit();r<o;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const o=Math.min(e.length,r.length);for(let u=0;u<o;u++){const p=e.get(u),v=r.get(u);if(p<v)return-1;if(p>v)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Br extends vu{construct(e,r,o){return new Br(e,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const r=[];for(const o of e){if(o.indexOf("//")>=0)throw new Ee(Y.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(u=>u.length>0))}return new Br(r)}static emptyPath(){return new Br([])}}const Gc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _i extends vu{construct(e,r,o){return new _i(e,r,o)}static isValidIdentifier(e){return Gc.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_i.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new _i(["__name__"])}static fromServerFormat(e){const r=[];let o="",u=0;const p=()=>{if(0===o.length)throw new Ee(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let v=!1;for(;u<e.length;){const O=e[u];if("\\"===O){if(u+1===e.length)throw new Ee(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const H=e[u+1];if("\\"!==H&&"."!==H&&"`"!==H)throw new Ee(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=H,u+=2}else"`"===O?(v=!v,u++):"."!==O||v?(o+=O,u++):(p(),u++)}if(p(),v)throw new Ee(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _i(r)}static emptyPath(){return new _i([])}}class Xa{constructor(e){this.fields=e,e.sort(_i.comparator)}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Oo(this.fields,e.fields,(r,o)=>r.isEqual(o))}}class Ri{constructor(e){this.binaryString=e}static fromBase64String(e){const r=atob(e);return new Ri(r)}static fromUint8Array(e){const r=function(o){let u="";for(let p=0;p<o.length;++p)u+=String.fromCharCode(o[p]);return u}(e);return new Ri(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ri.EMPTY_BYTE_STRING=new Ri("");const Ro=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Na(i){if(k(!!i),"string"==typeof i){let e=0;const r=Ro.exec(i);if(k(!!r),r[1]){let u=r[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Pi(i.seconds),nanos:Pi(i.nanos)}}function Pi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function ds(i){return"string"==typeof i?Ri.fromBase64String(i):Ri.fromUint8Array(i)}function $s(i){var e,r;return"server_timestamp"===(null===(r=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function ku(i){const e=i.mapValue.fields.__previous_value__;return $s(e)?ku(e):e}function vo(i){const e=Na(i.mapValue.fields.__local_write_time__.timestampValue);return new Hn(e.seconds,e.nanos)}function Js(i){return null==i}function ka(i){return 0===i&&1/i==-1/0}function gc(i){return"number"==typeof i&&Number.isInteger(i)&&!ka(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class rn{constructor(e){this.path=e}static fromPath(e){return new rn(Br.fromString(e))}static fromName(e){return new rn(Br.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===Br.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return Br.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rn(new Br(e.slice()))}}function da(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?$s(i)?4:10:C()}function ha(i,e){if(i===e)return!0;const r=da(i);if(r!==da(e))return!1;switch(r){case 0:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return vo(i).isEqual(vo(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const p=Na(o.timestampValue),v=Na(u.timestampValue);return p.seconds===v.seconds&&p.nanos===v.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,ds(i.bytesValue).isEqual(ds(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Pi(o.geoPointValue.latitude)===Pi(u.geoPointValue.latitude)&&Pi(o.geoPointValue.longitude)===Pi(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Pi(o.integerValue)===Pi(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const p=Pi(o.doubleValue),v=Pi(u.doubleValue);return p===v?ka(p)===ka(v):isNaN(p)&&isNaN(v)}return!1}(i,e);case 9:return Oo(i.arrayValue.values||[],e.arrayValue.values||[],ha);case 10:return function(o,u){const p=o.mapValue.fields||{},v=u.mapValue.fields||{};if(pc(p)!==pc(v))return!1;for(const O in p)if(p.hasOwnProperty(O)&&(void 0===v[O]||!ha(p[O],v[O])))return!1;return!0}(i,e);default:return C()}var u}function wu(i,e){return void 0!==(i.values||[]).find(r=>ha(r,e))}function ji(i,e){if(i===e)return 0;const r=da(i),o=da(e);if(r!==o)return Zn(r,o);switch(r){case 0:return 0;case 1:return Zn(i.booleanValue,e.booleanValue);case 2:return function(u,p){const v=Pi(u.integerValue||u.doubleValue),O=Pi(p.integerValue||p.doubleValue);return v<O?-1:v>O?1:v===O?0:isNaN(v)?isNaN(O)?0:-1:1}(i,e);case 3:return Fu(i.timestampValue,e.timestampValue);case 4:return Fu(vo(i),vo(e));case 5:return Zn(i.stringValue,e.stringValue);case 6:return function(u,p){const v=ds(u),O=ds(p);return v.compareTo(O)}(i.bytesValue,e.bytesValue);case 7:return function(u,p){const v=u.split("/"),O=p.split("/");for(let H=0;H<v.length&&H<O.length;H++){const X=Zn(v[H],O[H]);if(0!==X)return X}return Zn(v.length,O.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,p){const v=Zn(Pi(u.latitude),Pi(p.latitude));return 0!==v?v:Zn(Pi(u.longitude),Pi(p.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,p){const v=u.values||[],O=p.values||[];for(let H=0;H<v.length&&H<O.length;++H){const X=ji(v[H],O[H]);if(X)return X}return Zn(v.length,O.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,p){const v=u.fields||{},O=Object.keys(v),H=p.fields||{},X=Object.keys(H);O.sort(),X.sort();for(let pe=0;pe<O.length&&pe<X.length;++pe){const ke=Zn(O[pe],X[pe]);if(0!==ke)return ke;const it=ji(v[O[pe]],H[X[pe]]);if(0!==it)return it}return Zn(O.length,X.length)}(i.mapValue,e.mapValue);default:throw C()}}function Fu(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Zn(i,e);const r=Na(i),o=Na(e),u=Zn(r.seconds,o.seconds);return 0!==u?u:Zn(r.nanos,o.nanos)}function fa(i){return Fa(i)}function Fa(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=Na(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?ds(i.bytesValue).toBase64():"referenceValue"in i?rn.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",p=!0;for(const v of o.values||[])p?p=!1:u+=",",u+=Fa(v);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let p="{",v=!0;for(const O of u)v?v=!1:p+=",",p+=`${O}:${Fa(o.fields[O])}`;return p+"}"}(i.mapValue):C();var e}function eu(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function mc(i){return!!i&&"integerValue"in i}function Lu(i){return!!i&&"arrayValue"in i}function pa(i){return!!i&&"nullValue"in i}function Wc(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Po(i){return!!i&&"mapValue"in i}function La(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Pa(i.mapValue.fields,(r,o)=>e.mapValue.fields[r]=La(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=La(i.arrayValue.values[r]);return e}return Object.assign({},i)}class hs{constructor(e){this.value=e}static empty(){return new hs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let o=0;o<e.length-1;++o)if(r=(r.mapValue.fields||{})[e.get(o)],!Po(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=La(r)}setAll(e){let r=_i.emptyPath(),o={},u=[];e.forEach((v,O)=>{if(!r.isImmediateParentOf(O)){const H=this.getFieldsMap(r);this.applyChanges(H,o,u),o={},u=[],r=O.popLast()}v?o[O.lastSegment()]=La(v):u.push(O.lastSegment())});const p=this.getFieldsMap(r);this.applyChanges(p,o,u)}delete(e){const r=this.field(e.popLast());Po(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return ha(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=r.mapValue.fields[e.get(o)];Po(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},r.mapValue.fields[e.get(o)]=u),r=u}return r.mapValue.fields}applyChanges(e,r,o){Pa(r,(u,p)=>e[u]=p);for(const u of o)delete e[u]}clone(){return new hs(La(this.value))}}function ga(i){const e=[];return Pa(i.fields,(r,o)=>{const u=new _i([r]);if(Po(o)){const p=ga(o.mapValue).fields;if(0===p.length)e.push(u);else for(const v of p)e.push(u.child(v))}else e.push(u)}),new Xa(e)}class vi{constructor(e,r,o,u,p){this.key=e,this.documentType=r,this.version=o,this.data=u,this.documentState=p}static newInvalidDocument(e){return new vi(e,0,Ln.min(),hs.empty(),0)}static newFoundDocument(e,r,o){return new vi(e,1,r,o,0)}static newNoDocument(e,r){return new vi(e,2,r,hs.empty(),0)}static newUnknownDocument(e,r){return new vi(e,3,r,hs.empty(),2)}convertToFoundDocument(e,r){return this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof vi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vi(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Va{constructor(e,r=null,o=[],u=[],p=null,v=null,O=null){this.path=e,this.collectionGroup=r,this.orderBy=o,this.filters=u,this.limit=p,this.startAt=v,this.endAt=O,this.R=null}}function yc(i,e=null,r=[],o=[],u=null,p=null,v=null){return new Va(i,e,r,o,u,p,v)}function M(i){const e=Q(i);if(null===e.R){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(o=>function rt(i){return i.field.canonicalString()+i.op.toString()+fa(i.value)}(o)).join(","),r+="|ob:",r+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),Js(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=ya(e.startAt)),e.endAt&&(r+="|ub:",r+=ya(e.endAt)),e.R=r}return e.R}function Z(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<i.orderBy.length;u++)if(!Xs(i.orderBy[u],e.orderBy[u]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let u=0;u<i.filters.length;u++)if((r=i.filters[u]).op!==(o=e.filters[u]).op||!r.field.isEqual(o.field)||!ha(r.value,o.value))return!1;var r,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!tu(i.startAt,e.startAt)&&tu(i.endAt,e.endAt)}function de(i){return rn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class Fe extends class{}{constructor(e,r,o){super(),this.field=e,this.op=r,this.value=o}static create(e,r,o){return e.isKeyField()?"in"===r||"not-in"===r?this.P(e,r,o):new mt(e,r,o):"array-contains"===r?new Qr(e,o):"in"===r?new Hs(e,o):"not-in"===r?new Ms(e,o):"array-contains-any"===r?new Mi(e,o):new Fe(e,r,o)}static P(e,r,o){return"in"===r?new Jt(e,o):new tn(e,o)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.v(ji(r,this.value)):null!==r&&da(this.value)===da(r)&&this.v(ji(r,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return C()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class mt extends Fe{constructor(e,r,o){super(e,r,o),this.key=rn.fromName(o.referenceValue)}matches(e){const r=rn.comparator(e.key,this.key);return this.v(r)}}class Jt extends Fe{constructor(e,r){super(e,"in",r),this.keys=On(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class tn extends Fe{constructor(e,r){super(e,"not-in",r),this.keys=On(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function On(i,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(o=>rn.fromName(o.referenceValue))}class Qr extends Fe{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Lu(r)&&wu(r.arrayValue,this.value)}}class Hs extends Fe{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&wu(this.value.arrayValue,r)}}class Ms extends Fe{constructor(e,r){super(e,"not-in",r)}matches(e){if(wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!wu(this.value.arrayValue,r)}}class Mi extends Fe{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Lu(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>wu(this.value.arrayValue,o))}}class ma{constructor(e,r){this.position=e,this.before=r}}function ya(i){return`${i.before?"b":"a"}:${i.position.map(e=>fa(e)).join(",")}`}class No{constructor(e,r="asc"){this.field=e,this.dir=r}}function Xs(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function eo(i,e,r){let o=0;for(let u=0;u<i.position.length;u++){const p=e[u],v=i.position[u];if(o=p.field.isKeyField()?rn.comparator(rn.fromName(v.referenceValue),r.key):ji(v,r.data.field(p.field)),"desc"===p.dir&&(o*=-1),0!==o)break}return i.before?o<=0:o<0}function tu(i,e){if(null===i)return null===e;if(null===e||i.before!==e.before||i.position.length!==e.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!ha(i.position[r],e.position[r]))return!1;return!0}class Gs{constructor(e,r=null,o=[],u=[],p=null,v="F",O=null,H=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=u,this.limit=p,this.limitType=v,this.startAt=O,this.endAt=H,this.S=null,this.D=null}}function Vd(i,e,r,o,u,p,v,O){return new Gs(i,e,r,o,u,p,v,O)}function _a(i){return new Gs(i)}function Vu(i){return!Js(i.limit)&&"F"===i.limitType}function Eu(i){return!Js(i.limit)&&"L"===i.limitType}function Uu(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function _c(i){for(const e of i.filters)if(e.V())return e.field;return null}function vc(i){return null!==i.collectionGroup}function Qo(i){const e=Q(i);if(null===e.S){e.S=[];const r=_c(e),o=Uu(e);if(null!==r&&null===o)r.isKeyField()||e.S.push(new No(r)),e.S.push(new No(_i.keyField(),"asc"));else{let u=!1;for(const p of e.explicitOrderBy)e.S.push(p),p.field.isKeyField()&&(u=!0);if(!u){const p=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new No(_i.keyField(),p))}}}return e.S}function xs(i){const e=Q(i);if(!e.D)if("F"===e.limitType)e.D=yc(e.path,e.collectionGroup,Qo(e),e.filters,e.limit,e.startAt,e.endAt);else{const r=[];for(const p of Qo(e))r.push(new No(p.field,"desc"===p.dir?"asc":"desc"));const o=e.endAt?new ma(e.endAt.position,!e.endAt.before):null,u=e.startAt?new ma(e.startAt.position,!e.startAt.before):null;e.D=yc(e.path,e.collectionGroup,r,e.filters,e.limit,o,u)}return e.D}function Ul(i,e,r){return new Gs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,r,i.startAt,i.endAt)}function zc(i,e){return Z(xs(i),xs(e))&&i.limitType===e.limitType}function Bl(i){return`${M(xs(i))}|lt:${i.limitType}`}function wc(i){return`Query(target=${function V(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(r=>{return`${(o=r).field.canonicalString()} ${o.op} ${fa(o.value)}`;var o}).join(", ")}]`),Js(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: "+ya(i.startAt)),i.endAt&&(e+=", endAt: "+ya(i.endAt)),`Target(${e})`}(xs(i))}; limitType=${i.limitType})`}function Kc(i,e){return e.isFoundDocument()&&function(r,o){const u=o.key.path;return null!==r.collectionGroup?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):rn.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)}(i,e)&&function(r,o){for(const u of r.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((r=i).startAt&&!eo(r.startAt,Qo(r),o)||r.endAt&&eo(r.endAt,Qo(r),o)));var r,o}function Ud(i){return(e,r)=>{let o=!1;for(const u of Qo(i)){const p=jl(u,e,r);if(0!==p)return p;o=o||u.field.isKeyField()}return 0}}function jl(i,e,r){const o=i.field.isKeyField()?rn.comparator(e.key,r.key):function(u,p,v){const O=p.data.field(u),H=v.data.field(u);return null!==O&&null!==H?ji(O,H):C()}(i.field,e,r);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return C()}}function Bd(i,e){if(i.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ka(e)?"-0":e}}function Ec(i){return{integerValue:""+i}}function Bu(i,e){return gc(e)?Ec(e):Bd(i,e)}class Ua{constructor(){this._=void 0}}function $l(i,e,r){return i instanceof va?function(o,u){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(p.fields.__previous_value__=u),{mapValue:p}}(r,e):i instanceof Jo?Gl(i,e):i instanceof Ba?Zc(i,e):function(o,u){const p=Hl(o,u),v=jd(p)+jd(o.N);return mc(p)&&mc(o.N)?Ec(v):Bd(o.k,v)}(i,e)}function qc(i,e,r){return i instanceof Jo?Gl(i,e):i instanceof Ba?Zc(i,e):r}function Hl(i,e){return i instanceof nu?mc(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var o,r}class va extends Ua{}class Jo extends Ua{constructor(e){super(),this.elements=e}}function Gl(i,e){const r=Wl(e);for(const o of i.elements)r.some(u=>ha(u,o))||r.push(o);return{arrayValue:{values:r}}}class Ba extends Ua{constructor(e){super(),this.elements=e}}function Zc(i,e){let r=Wl(e);for(const o of i.elements)r=r.filter(u=>!ha(u,o));return{arrayValue:{values:r}}}class nu extends Ua{constructor(e,r){super(),this.k=e,this.N=r}}function jd(i){return Pi(i.integerValue||i.doubleValue)}function Wl(i){return Lu(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class bu{constructor(e,r){this.field=e,this.transform=r}}class sf{constructor(e,r){this.version=e,this.transformResults=r}}class di{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new di}static exists(e){return new di(void 0,e)}static updateTime(e){return new di(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wa(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Yc{}function sg(i,e,r){i instanceof ju?function(o,u,p){const v=o.value.clone(),O=Hd(o.fieldTransforms,u,p.transformResults);v.setAll(O),u.convertToFoundDocument(p.version,v).setHasCommittedMutations()}(i,e,r):i instanceof ru?function(o,u,p){if(!wa(o.precondition,u))return void u.convertToUnknownDocument(p.version);const v=Hd(o.fieldTransforms,u,p.transformResults),O=u.data;O.setAll($d(o)),O.setAll(v),u.convertToFoundDocument(p.version,O).setHasCommittedMutations()}(i,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function zl(i,e,r){var u;i instanceof ju?function(o,u,p){if(!wa(o.precondition,u))return;const v=o.value.clone(),O=Gd(o.fieldTransforms,p,u);v.setAll(O),u.convertToFoundDocument(of(u),v).setHasLocalMutations()}(i,e,r):i instanceof ru?function(o,u,p){if(!wa(o.precondition,u))return;const v=Gd(o.fieldTransforms,p,u),O=u.data;O.setAll($d(o)),O.setAll(v),u.convertToFoundDocument(of(u),O).setHasLocalMutations()}(i,e,r):wa(i.precondition,u=e)&&u.convertToNoDocument(Ln.min())}function og(i,e){let r=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),p=Hl(o.transform,u||null);null!=p&&(null==r&&(r=hs.empty()),r.set(o.field,p))}return r||null}function Qc(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(r=i.fieldTransforms)&&void 0===o||r&&o&&Oo(r,o,(u,p)=>function rf(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(r=i.transform)instanceof Jo&&o instanceof Jo||r instanceof Ba&&o instanceof Ba?Oo(r.elements,o.elements,ha):r instanceof nu&&o instanceof nu?ha(r.N,o.N):r instanceof va&&o instanceof va);var r,o}(u,p))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var r,o}function of(i){return i.isFoundDocument()?i.version:Ln.min()}class ju extends Yc{constructor(e,r,o,u=[]){super(),this.key=e,this.value=r,this.precondition=o,this.fieldTransforms=u,this.type=0}}class ru extends Yc{constructor(e,r,o,u,p=[]){super(),this.key=e,this.data=r,this.fieldMask=o,this.precondition=u,this.fieldTransforms=p,this.type=1}}function $d(i){const e=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=i.data.field(r);e.set(r,o)}}),e}function Hd(i,e,r){const o=new Map;k(i.length===r.length);for(let u=0;u<r.length;u++){const p=i[u],v=p.transform,O=e.data.field(p.field);o.set(p.field,qc(v,O,r[u]))}return o}function Gd(i,e,r){const o=new Map;for(const u of i){const p=u.transform,v=r.data.field(u.field);o.set(u.field,$l(p,v,e))}return o}class Jc extends Yc{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}}class Kl extends Yc{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}}class $u{constructor(e){this.count=e}}var $i,Yn;function Hu(i){switch(i){default:return C();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function ql(i){if(void 0===i)return I("GRPC error has no .code"),Y.UNKNOWN;switch(i){case $i.OK:return Y.OK;case $i.CANCELLED:return Y.CANCELLED;case $i.UNKNOWN:return Y.UNKNOWN;case $i.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case $i.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case $i.INTERNAL:return Y.INTERNAL;case $i.UNAVAILABLE:return Y.UNAVAILABLE;case $i.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case $i.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case $i.NOT_FOUND:return Y.NOT_FOUND;case $i.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case $i.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case $i.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case $i.ABORTED:return Y.ABORTED;case $i.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case $i.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case $i.DATA_LOSS:return Y.DATA_LOSS;default:return C()}}(Yn=$i||($i={}))[Yn.OK=0]="OK",Yn[Yn.CANCELLED=1]="CANCELLED",Yn[Yn.UNKNOWN=2]="UNKNOWN",Yn[Yn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yn[Yn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yn[Yn.NOT_FOUND=5]="NOT_FOUND",Yn[Yn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yn[Yn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yn[Yn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yn[Yn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yn[Yn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yn[Yn.ABORTED=10]="ABORTED",Yn[Yn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yn[Yn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yn[Yn.INTERNAL=13]="INTERNAL",Yn[Yn.UNAVAILABLE=14]="UNAVAILABLE",Yn[Yn.DATA_LOSS=15]="DATA_LOSS";class ts{constructor(e,r){this.comparator=e,this.root=r||Ws.EMPTY}insert(e,r){return new ts(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Ws.BLACK,null,null))}remove(e){return new ts(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ws.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(e){let r=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return r+o.left.size;u<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,o)=>(e(r,o),!1))}toString(){const e=[];return this.inorderTraversal((r,o)=>(e.push(`${r}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gu(this.root,e,this.comparator,!0)}}class Gu{constructor(e,r,o,u){this.isReverse=u,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=r?o(e.key,r):1,u&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ws{constructor(e,r,o,u,p){this.key=e,this.value=r,this.color=null!=o?o:Ws.RED,this.left=null!=u?u:Ws.EMPTY,this.right=null!=p?p:Ws.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,o,u,p){return new Ws(null!=e?e:this.key,null!=r?r:this.value,null!=o?o:this.color,null!=u?u:this.left,null!=p?p:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let u=this;const p=o(e,u.key);return u=p<0?u.copy(null,null,null,u.left.insert(e,r,o),null):0===p?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(e,r,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Ws.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let o,u=this;if(r(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,r),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===r(e,u.key)){if(u.right.isEmpty())return Ws.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,r))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ws.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ws.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw C();const e=this.left.check();if(e!==this.right.check())throw C();return e+(this.isRed()?0:1)}}Ws.EMPTY=null,Ws.RED=!0,Ws.BLACK=!1,Ws.EMPTY=new class{constructor(){this.size=0}get key(){throw C()}get value(){throw C()}get color(){throw C()}get left(){throw C()}get right(){throw C()}copy(i,e,r,o,u){return this}insert(i,e,r){return new Ws(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Hi{constructor(e){this.comparator=e,this.data=new ts(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,o)=>(e(r),!1))}forEachInRange(e,r){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;r(u.key)}}forEachWhile(e,r){let o;for(o=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new af(this.data.getIterator())}getIteratorFrom(e){return new af(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(o=>{r=r.add(o)}),r}isEqual(e){if(!(e instanceof Hi)||this.size!==e.size)return!1;const r=this.data.getIterator(),o=e.data.getIterator();for(;r.hasNext();){const u=r.getNext().key,p=o.getNext().key;if(0!==this.comparator(u,p))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Hi(this.comparator);return r.data=e,r}}class af{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Zl=new ts(rn.comparator);function zs(){return Zl}const Yl=new ts(rn.comparator);function Xc(){return Yl}const ag=new ts(rn.comparator);function el(){return ag}const uf=new Hi(rn.comparator);function jr(...i){let e=uf;for(const r of i)e=e.add(r);return e}const cf=new Hi(Zn);function bc(){return cf}class Iu{constructor(e,r,o,u,p){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,r){const o=new Map;return o.set(e,iu.createSynthesizedTargetChangeForCurrentChange(e,r)),new Iu(Ln.min(),o,bc(),zs(),jr())}}class iu{constructor(e,r,o,u,p){this.resumeToken=e,this.current=r,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,r){return new iu(Ri.EMPTY_BYTE_STRING,r,jr(),jr(),jr())}}class tl{constructor(e,r,o,u){this.$=e,this.removedTargetIds=r,this.key=o,this.O=u}}class nl{constructor(e,r){this.targetId=e,this.M=r}}class lf{constructor(e,r,o=Ri.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=r,this.resumeToken=o,this.cause=u}}class hi{constructor(){this.F=0,this.L=Wu(),this.B=Ri.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.F}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=jr(),r=jr(),o=jr();return this.L.forEach((u,p)=>{switch(p){case 0:e=e.add(u);break;case 2:r=r.add(u);break;case 1:o=o.add(u);break;default:C()}}),new iu(this.B,this.U,e,r,o)}H(){this.q=!1,this.L=Wu()}J(e,r){this.q=!0,this.L=this.L.insert(e,r)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.F+=1}Z(){this.F-=1}tt(){this.q=!0,this.U=!0}}class df{constructor(e){this.et=e,this.nt=new Map,this.st=zs(),this.it=Wd(),this.rt=new Hi(Zn)}ot(e){for(const r of e.$)e.O&&e.O.isFoundDocument()?this.ct(r,e.O):this.at(r,e.key,e.O);for(const r of e.removedTargetIds)this.at(r,e.key,e.O)}ut(e){this.forEachTarget(e,r=>{const o=this.ht(r);switch(e.state){case 0:this.lt(r)&&o.W(e.resumeToken);break;case 1:o.Z(),o.K||o.H(),o.W(e.resumeToken);break;case 2:o.Z(),o.K||this.removeTarget(r);break;case 3:this.lt(r)&&(o.tt(),o.W(e.resumeToken));break;case 4:this.lt(r)&&(this.ft(r),o.W(e.resumeToken));break;default:C()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.nt.forEach((o,u)=>{this.lt(u)&&r(u)})}dt(e){const r=e.targetId,o=e.M.count,u=this.wt(r);if(u){const p=u.target;if(de(p))if(0===o){const v=new rn(p.path);this.at(r,v,vi.newNoDocument(v,Ln.min()))}else k(1===o);else this._t(r)!==o&&(this.ft(r),this.rt=this.rt.add(r))}}gt(e){const r=new Map;this.nt.forEach((p,v)=>{const O=this.wt(v);if(O){if(p.current&&de(O.target)){const H=new rn(O.target.path);null!==this.st.get(H)||this.yt(v,H)||this.at(v,H,vi.newNoDocument(H,e))}p.j&&(r.set(v,p.G()),p.H())}});let o=jr();this.it.forEach((p,v)=>{let O=!0;v.forEachWhile(H=>{const X=this.wt(H);return!X||2===X.purpose||(O=!1,!1)}),O&&(o=o.add(p))});const u=new Iu(e,r,this.rt,this.st,o);return this.st=zs(),this.it=Wd(),this.rt=new Hi(Zn),u}ct(e,r){if(!this.lt(e))return;const o=this.yt(e,r.key)?2:0;this.ht(e).J(r.key,o),this.st=this.st.insert(r.key,r),this.it=this.it.insert(r.key,this.Tt(r.key).add(e))}at(e,r,o){if(!this.lt(e))return;const u=this.ht(e);this.yt(e,r)?u.J(r,1):u.Y(r),this.it=this.it.insert(r,this.Tt(r).delete(e)),o&&(this.st=this.st.insert(r,o))}removeTarget(e){this.nt.delete(e)}_t(e){const r=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let r=this.nt.get(e);return r||(r=new hi,this.nt.set(e,r)),r}Tt(e){let r=this.it.get(e);return r||(r=new Hi(Zn),this.it=this.it.insert(e,r)),r}lt(e){const r=null!==this.wt(e);return r||St("WatchChangeAggregator","Detected inactive target",e),r}wt(e){const r=this.nt.get(e);return r&&r.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new hi),this.et.getRemoteKeysForTarget(e).forEach(r=>{this.at(e,r,null)})}yt(e,r){return this.et.getRemoteKeysForTarget(e).has(r)}}function Wd(){return new ts(rn.comparator)}function Wu(){return new ts(rn.comparator)}const zd={asc:"ASCENDING",desc:"DESCENDING"},Ql={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class hf{constructor(e,r){this.databaseId=e,this.C=r}}function Ic(i,e){return i.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rl(i,e){return i.C?e.toBase64():e.toUint8Array()}function ff(i,e){return Ic(i,e.toTimestamp())}function Os(i){return k(!!i),Ln.fromTimestamp(function(e){const r=Na(e);return new Hn(r.seconds,r.nanos)}(i))}function il(i,e){return(r=i,new Br(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function zu(i){const e=Br.fromString(i);return k(Jd(e)),e}function fs(i,e){return il(i.databaseId,e.path)}function ko(i,e){const r=zu(e);if(r.get(1)!==i.databaseId.projectId)throw new Ee(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new Ee(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new rn(su(r))}function sl(i,e){return il(i.databaseId,e)}function Jl(i){const e=zu(i);return 4===e.length?Br.emptyPath():su(e)}function Gi(i){return new Br(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function su(i){return k(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function ol(i,e,r){return{name:fs(i,e),fields:r.value.mapValue.fields}}function Kd(i,e,r){const o=ko(i,e.name),u=Os(e.updateTime),p=new hs({mapValue:{fields:e.fields}}),v=vi.newFoundDocument(o,u,p);return r&&v.setHasCommittedMutations(),r?v.setHasCommittedMutations():v}function ul(i,e){let r;if(e instanceof ju)r={update:ol(i,e.key,e.value)};else if(e instanceof Jc)r={delete:fs(i,e.key)};else if(e instanceof ru)r={update:ol(i,e.key,e.data),updateMask:yf(e.fieldMask)};else{if(!(e instanceof Kl))return C();r={verify:fs(i,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(o=>function(u,p){const v=p.transform;if(v instanceof va)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof Jo)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof Ba)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof nu)return{fieldPath:p.field.canonicalString(),increment:v.N};throw C()}(0,o))),e.precondition.isNone||(r.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:ff(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:C()),r;var u}function ed(i,e){const r=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?di.updateTime(Os(u.updateTime)):void 0!==u.exists?di.exists(u.exists):di.none():di.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(p,v){let O=null;"setToServerValue"in v?(k("REQUEST_TIME"===v.setToServerValue),O=new va):"appendMissingElements"in v?O=new Jo(v.appendMissingElements.values||[]):"removeAllFromArray"in v?O=new Ba(v.removeAllFromArray.values||[]):"increment"in v?O=new nu(p,v.increment):C();const H=_i.fromServerFormat(v.fieldPath);return new bu(H,O)}(i,u)):[];var u;if(e.update){const u=ko(i,e.update.name),p=new hs({mapValue:{fields:e.update.fields}});if(e.updateMask){const v=new Xa((e.updateMask.fieldPaths||[]).map(X=>_i.fromServerFormat(X)));return new ru(u,p,v,r,o)}return new ju(u,p,r,o)}if(e.delete){const u=ko(i,e.delete);return new Jc(u,r)}if(e.verify){const u=ko(i,e.verify);return new Kl(u,r)}return C()}function td(i,e){return{documents:[sl(i,e.path)]}}function qd(i,e){const r={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(r.parent=sl(i,o),r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r.parent=sl(i,o.popLast()),r.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(O){if(0===O.length)return;const H=O.map(X=>function(pe){if("=="===pe.op){if(Wc(pe.value))return{unaryFilter:{field:Ea(pe.field),op:"IS_NAN"}};if(pa(pe.value))return{unaryFilter:{field:Ea(pe.field),op:"IS_NULL"}}}else if("!="===pe.op){if(Wc(pe.value))return{unaryFilter:{field:Ea(pe.field),op:"IS_NOT_NAN"}};if(pa(pe.value))return{unaryFilter:{field:Ea(pe.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ea(pe.field),op:hl(pe.op),value:pe.value}}}(X));return 1===H.length?H[0]:{compositeFilter:{op:"AND",filters:H}}}(e.filters);u&&(r.structuredQuery.where=u);const p=function(O){if(0!==O.length)return O.map(H=>{return{field:Ea((X=H).field),direction:pf(X.dir)};var X})}(e.orderBy);p&&(r.structuredQuery.orderBy=p);const v=(H=e.limit,i.C||Js(H)?H:{value:H});var H;return null!==v&&(r.structuredQuery.limit=v),e.startAt&&(r.structuredQuery.startAt=Qd(e.startAt)),e.endAt&&(r.structuredQuery.endAt=Qd(e.endAt)),r}function Zd(i){let e=Jl(i.parent);const r=i.structuredQuery,o=r.from?r.from.length:0;let u=null;if(o>0){k(1===o);const pe=r.from[0];pe.allDescendants?u=pe.collectionId:e=e.child(pe.collectionId)}let p=[];r.where&&(p=Yd(r.where));let v=[];r.orderBy&&(v=r.orderBy.map(pe=>{return new No(Du((ke=pe).field),function(it){switch(it){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ke.direction));var ke}));let O=null;r.limit&&(O=function(pe){let ke;return ke="object"==typeof pe?pe.value:pe,Js(ke)?null:ke}(r.limit));let H=null;r.startAt&&(H=dl(r.startAt));let X=null;return r.endAt&&(X=dl(r.endAt)),Vd(e,u,v,p,O,"F",H,X)}function Yd(i){return i?void 0!==i.unaryFilter?[mf(i)]:void 0!==i.fieldFilter?[gf(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>Yd(e)).reduce((e,r)=>e.concat(r)):C():[]}function Qd(i){return{before:i.before,values:i.position}}function dl(i){return new ma(i.values||[],!!i.before)}function pf(i){return zd[i]}function hl(i){return Ql[i]}function Ea(i){return{fieldPath:i.canonicalString()}}function Du(i){return _i.fromServerFormat(i.fieldPath)}function gf(i){return Fe.create(Du(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return C()}}(i.fieldFilter.op),i.fieldFilter.value)}function mf(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Du(i.unaryFilter.field);return Fe.create(e,"==",{doubleValue:NaN});case"IS_NULL":const r=Du(i.unaryFilter.field);return Fe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Du(i.unaryFilter.field);return Fe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Du(i.unaryFilter.field);return Fe.create(u,"!=",{nullValue:"NULL_VALUE"});default:return C()}}function yf(i){const e=[];return i.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Jd(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function wo(i){let e="";for(let r=0;r<i.length;r++)e.length>0&&(e=fl(e)),e=nd(i.get(r),e);return fl(e)}function nd(i,e){let r=e;const o=i.length;for(let u=0;u<o;u++){const p=i.charAt(u);switch(p){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=p}}return r}function fl(i){return i+"\x01\x01"}function ba(i){const e=i.length;if(k(e>=2),2===e)return k("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Br.emptyPath();const r=e-2,o=[];let u="";for(let p=0;p<e;){const v=i.indexOf("\x01",p);switch((v<0||v>r)&&C(),i.charAt(v+1)){case"\x01":const O=i.substring(p,v);let H;0===u.length?H=O:(u+=O,H=u,u=""),o.push(H);break;case"\x10":u+=i.substring(p,v),u+="\0";break;case"\x11":u+=i.substring(p,v+1);break;default:C()}p=v+2}return new Br(o)}class _f{constructor(e,r){this.seconds=e,this.nanoseconds=r}}class Ks{constructor(e,r,o){this.ownerId=e,this.allowTabSynchronization=r,this.leaseTimestampMs=o}}Ks.store="owner",Ks.key="owner";class ns{constructor(e,r,o){this.userId=e,this.lastAcknowledgedBatchId=r,this.lastStreamToken=o}}ns.store="mutationQueues",ns.keyPath="userId";class Jr{constructor(e,r,o,u,p){this.userId=e,this.batchId=r,this.localWriteTimeMs=o,this.baseMutations=u,this.mutations=p}}Jr.store="mutations",Jr.keyPath="batchId",Jr.userMutationsIndex="userMutationsIndex",Jr.userMutationsKeyPath=["userId","batchId"];class Rs{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,r){return[e,wo(r)]}static key(e,r,o){return[e,wo(r),o]}}Rs.store="documentMutations",Rs.PLACEHOLDER=new Rs;class Ku{constructor(e,r){this.path=e,this.readTime=r}}class Fo{constructor(e,r){this.path=e,this.version=r}}class xi{constructor(e,r,o,u,p,v){this.unknownDocument=e,this.noDocument=r,this.document=o,this.hasCommittedMutations=u,this.readTime=p,this.parentPath=v}}xi.store="remoteDocuments",xi.readTimeIndex="readTimeIndex",xi.readTimeIndexPath="readTime",xi.collectionReadTimeIndex="collectionReadTimeIndex",xi.collectionReadTimeIndexPath=["parentPath","readTime"];class ja{constructor(e){this.byteSize=e}}ja.store="remoteDocumentGlobal",ja.key="remoteDocumentGlobalKey";class qs{constructor(e,r,o,u,p,v,O){this.targetId=e,this.canonicalId=r,this.readTime=o,this.resumeToken=u,this.lastListenSequenceNumber=p,this.lastLimboFreeSnapshotVersion=v,this.query=O}}qs.store="targets",qs.keyPath="targetId",qs.queryTargetsIndexName="queryTargetsIndex",qs.queryTargetsKeyPath=["canonicalId","targetId"];class Zs{constructor(e,r,o){this.targetId=e,this.path=r,this.sequenceNumber=o}}Zs.store="targetDocuments",Zs.keyPath=["targetId","path"],Zs.documentTargetsIndex="documentTargetsIndex",Zs.documentTargetsKeyPath=["path","targetId"];class Xr{constructor(e,r,o,u){this.highestTargetId=e,this.highestListenSequenceNumber=r,this.lastRemoteSnapshotVersion=o,this.targetCount=u}}Xr.key="targetGlobalKey",Xr.store="targetGlobal";class Ia{constructor(e,r){this.collectionId=e,this.parent=r}}Ia.store="collectionParents",Ia.keyPath=["collectionId","parent"];class Xo{constructor(e,r,o,u){this.clientId=e,this.updateTimeMs=r,this.networkEnabled=o,this.inForeground=u}}Xo.store="clientMetadata",Xo.keyPath="clientId";class qu{constructor(e,r,o){this.bundleId=e,this.createTime=r,this.version=o}}qu.store="bundles",qu.keyPath="bundleId";class Cu{constructor(e,r,o){this.name=e,this.readTime=r,this.bundledQuery=o}}Cu.store="namedQueries",Cu.keyPath="name";const Zu=[ns.store,Jr.store,Rs.store,xi.store,qs.store,Ks.store,Xr.store,Zs.store,Xo.store,ja.store,Ia.store,qu.store,Cu.store],Ys="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Dc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class _t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&C(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new _t((o,u)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(o,u)},this.catchCallback=p=>{this.wrapFailure(r,p).next(o,u)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof _t?r:_t.resolve(r)}catch(r){return _t.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):_t.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):_t.reject(r)}static resolve(e){return new _t((r,o)=>{r(e)})}static reject(e){return new _t((r,o)=>{o(e)})}static waitFor(e){return new _t((r,o)=>{let u=0,p=0,v=!1;e.forEach(O=>{++u,O.next(()=>{++p,v&&p===u&&r()},H=>o(H))}),v=!0,p===u&&r()})}static or(e){let r=_t.resolve(!1);for(const o of e)r=r.next(u=>u?_t.resolve(u):o());return r}static forEach(e,r){const o=[];return e.forEach((u,p)=>{o.push(r.call(this,u,p))}),this.waitFor(o)}}class Yu{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.It=new Ct,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{r.error?this.It.reject(new ea(e,r.error)):this.It.resolve()},this.transaction.onerror=o=>{const u=rd(o.target.error);this.It.reject(new ea(e,u))}}static open(e,r,o,u){try{return new Yu(r,e.transaction(u,o))}catch(p){throw new ea(r,p)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(St("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const r=this.transaction.objectStore(e);return new Xd(r)}}class rs{constructor(e,r,o){this.name=e,this.version=r,this.Rt=o,12.2===rs.bt((0,Ke.z$)())&&I("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return St("SimpleDb","Removing database:",e),$a(window.indexedDB.deleteDatabase(e)).toPromise()}static Pt(){if(!(0,Ke.hl)())return!1;if(rs.vt())return!0;const e=(0,Ke.z$)(),r=rs.bt(e),o=0<r&&r<10,u=rs.Vt(e),p=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||p)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,r){return e.store(r)}static bt(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static Vt(e){const r=e.match(/Android ([\d.]+)/i),o=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(o)}Ct(e){var r=this;return(0,ne.Z)(function*(){return r.db||(St("SimpleDb","Opening database:",r.name),r.db=yield new Promise((o,u)=>{const p=indexedDB.open(r.name,r.version);p.onsuccess=v=>{o(v.target.result)},p.onblocked=()=>{u(new ea(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=v=>{const O=v.target.error;u("VersionError"===O.name?new Ee(Y.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===O.name?new Ee(Y.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+O):new ea(e,O))},p.onupgradeneeded=v=>{St("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',v.oldVersion),r.Rt.Nt(v.target.result,p.transaction,v.oldVersion,r.version).next(()=>{St("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.kt&&(r.db.onversionchange=o=>r.kt(o)),r.db})()}xt(e){this.kt=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,o,u){var p=this;return(0,ne.Z)(function*(){const v="readonly"===r;let O=0;for(;;){++O;try{p.db=yield p.Ct(e);const H=Yu.open(p.db,e,v?"readonly":"readwrite",o),X=u(H).catch(pe=>(H.abort(pe),_t.reject(pe))).toPromise();return X.catch(()=>{}),yield H.At,X}catch(H){const X="FirebaseError"!==H.name&&O<3;if(St("SimpleDb","Transaction failed with error:",H.message,"Retrying:",X),p.close(),!X)return Promise.reject(H)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class pl{constructor(e){this.$t=e,this.Ot=!1,this.Mt=null}get isDone(){return this.Ot}get Ft(){return this.Mt}set cursor(e){this.$t=e}done(){this.Ot=!0}Lt(e){this.Mt=e}delete(){return $a(this.$t.delete())}}class ea extends Ee{constructor(e,r){super(Y.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Da(i){return"IndexedDbTransactionError"===i.name}class Xd{constructor(e){this.store=e}put(e,r){let o;return void 0!==r?(St("SimpleDb","PUT",this.store.name,e,r),o=this.store.put(r,e)):(St("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),$a(o)}add(e){return St("SimpleDb","ADD",this.store.name,e,e),$a(this.store.add(e))}get(e){return $a(this.store.get(e)).next(r=>(void 0===r&&(r=null),St("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return St("SimpleDb","DELETE",this.store.name,e),$a(this.store.delete(e))}count(){return St("SimpleDb","COUNT",this.store.name),$a(this.store.count())}Bt(e,r){const o=this.cursor(this.options(e,r)),u=[];return this.Ut(o,(p,v)=>{u.push(v)}).next(()=>u)}qt(e,r){St("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,r);o.Kt=!1;const u=this.cursor(o);return this.Ut(u,(p,v,O)=>O.delete())}jt(e,r){let o;r?o=e:(o={},r=e);const u=this.cursor(o);return this.Ut(u,r)}Qt(e){const r=this.cursor({});return new _t((o,u)=>{r.onerror=p=>{const v=rd(p.target.error);u(v)},r.onsuccess=p=>{const v=p.target.result;v?e(v.primaryKey,v.value).next(O=>{O?v.continue():o()}):o()}})}Ut(e,r){const o=[];return new _t((u,p)=>{e.onerror=v=>{p(v.target.error)},e.onsuccess=v=>{const O=v.target.result;if(!O)return void u();const H=new pl(O),X=r(O.primaryKey,O.value,H);if(X instanceof _t){const pe=X.catch(ke=>(H.done(),_t.reject(ke)));o.push(pe)}H.isDone?u():null===H.Ft?O.continue():O.continue(H.Ft)}}).next(()=>_t.waitFor(o))}options(e,r){let o;return void 0!==e&&("string"==typeof e?o=e:r=e),{index:o,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const o=this.store.index(e.index);return e.Kt?o.openKeyCursor(e.range,r):o.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function $a(i){return new _t((e,r)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const u=rd(o.target.error);r(u)}})}let gl=!1;function rd(i){const e=rs.bt((0,Ke.z$)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(r)>=0){const o=new Ee("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return gl||(gl=!0,setTimeout(()=>{throw o},0)),o}}return i}class eh extends Dc{constructor(e,r){super(),this.Wt=e,this.currentSequenceNumber=r}}function co(i,e){const r=Q(i);return rs.Dt(r.Wt,e)}class g{constructor(e,r,o,u){this.batchId=e,this.localWriteTime=r,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,r){const o=r.mutationResults;for(let u=0;u<this.mutations.length;u++){const p=this.mutations[u];p.key.isEqual(e.key)&&sg(p,e,o[u])}}applyToLocalView(e){for(const r of this.baseMutations)r.key.isEqual(e.key)&&zl(r,e,this.localWriteTime);for(const r of this.mutations)r.key.isEqual(e.key)&&zl(r,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(r=>{const o=e.get(r.key),u=o;this.applyToLocalView(u),o.isValidDocument()||u.convertToNoDocument(Ln.min())})}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),jr())}isEqual(e){return this.batchId===e.batchId&&Oo(this.mutations,e.mutations,(r,o)=>Qc(r,o))&&Oo(this.baseMutations,e.baseMutations,(r,o)=>Qc(r,o))}}class l{constructor(e,r,o,u){this.batch=e,this.commitVersion=r,this.mutationResults=o,this.docVersions=u}static from(e,r,o){k(e.mutations.length===o.length);let u=el();const p=e.mutations;for(let v=0;v<p.length;v++)u=u.insert(p[v].key,o[v].version);return new l(e,r,o,u)}}class d{constructor(e,r,o,u,p=Ln.min(),v=Ln.min(),O=Ri.EMPTY_BYTE_STRING){this.target=e,this.targetId=r,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=O}withSequenceNumber(e){return new d(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,r){return new d(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new d(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class y{constructor(e){this.Gt=e}}function F(i,e){if(e.document)return Kd(i.Gt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const r=rn.fromSegments(e.noDocument.path),o=Dt(e.noDocument.readTime),u=vi.newNoDocument(r,o);return e.hasCommittedMutations?u.setHasCommittedMutations():u}if(e.unknownDocument){const r=rn.fromSegments(e.unknownDocument.path),o=Dt(e.unknownDocument.version);return vi.newUnknownDocument(r,o)}return C()}function G(i,e,r){const o=Ie(r),u=e.key.path.popLast().toArray();if(e.isFoundDocument()){const p={name:fs(O=i.Gt,(H=e).key),fields:H.data.value.mapValue.fields,updateTime:Ic(O,H.version.toTimestamp())};return new xi(null,null,p,e.hasCommittedMutations,o,u)}var O,H;if(e.isNoDocument()){const p=e.key.path.toArray(),v=xt(e.version),O=e.hasCommittedMutations;return new xi(null,new Ku(p,v),null,O,o,u)}if(e.isUnknownDocument()){const p=e.key.path.toArray(),v=xt(e.version);return new xi(new Fo(p,v),null,null,!0,o,u)}return C()}function Ie(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function et(i){const e=new Hn(i[0],i[1]);return Ln.fromTimestamp(e)}function xt(i){const e=i.toTimestamp();return new _f(e.seconds,e.nanoseconds)}function Dt(i){const e=new Hn(i.seconds,i.nanoseconds);return Ln.fromTimestamp(e)}function nn(i,e){const r=(e.baseMutations||[]).map(p=>ed(i.Gt,p));for(let p=0;p<e.mutations.length-1;++p){const v=e.mutations[p];p+1<e.mutations.length&&void 0!==e.mutations[p+1].transform&&(v.updateTransforms=e.mutations[p+1].transform.fieldTransforms,e.mutations.splice(p+1,1),++p)}const o=e.mutations.map(p=>ed(i.Gt,p)),u=Hn.fromMillis(e.localWriteTimeMs);return new g(e.batchId,u,r,o)}function Yt(i){const e=Dt(i.readTime),r=void 0!==i.lastLimboFreeSnapshotVersion?Dt(i.lastLimboFreeSnapshotVersion):Ln.min();let o;var u;return void 0!==i.query.documents?(k(1===(u=i.query).documents.length),o=xs(_a(Jl(u.documents[0])))):o=xs(Zd(i.query)),new d(o,i.targetId,0,i.lastListenSequenceNumber,e,r,Ri.fromBase64String(i.resumeToken))}function hr(i,e){const r=xt(e.snapshotVersion),o=xt(e.lastLimboFreeSnapshotVersion);let u;u=de(e.target)?td(i.Gt,e.target):qd(i.Gt,e.target);const p=e.resumeToken.toBase64();return new qs(e.targetId,M(e.target),r,p,e.sequenceNumber,o,u)}function Wi(i){const e=Zd({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Ul(e,e.limit,"L"):e}class ou{getBundleMetadata(e,r){return au(e).get(r).next(o=>{if(o)return{id:(u=o).bundleId,createTime:Dt(u.createTime),version:u.version};var u})}saveBundleMetadata(e,r){return au(e).put({bundleId:(o=r).id,createTime:xt(Os(o.createTime)),version:o.version});var o}getNamedQuery(e,r){return ml(e).get(r).next(o=>{if(o)return{name:(u=o).name,query:Wi(u.bundledQuery),readTime:Dt(u.readTime)};var u})}saveNamedQuery(e,r){return ml(e).put({name:(o=r).name,readTime:xt(Os(o.readTime)),bundledQuery:o.bundledQuery});var o}}function au(i){return co(i,qu.store)}function ml(i){return co(i,Cu.store)}class id{constructor(){this.zt=new Cc}addToCollectionParentIndex(e,r){return this.zt.add(r),_t.resolve()}getCollectionParents(e,r){return _t.resolve(this.zt.getEntries(r))}}class Cc{constructor(){this.index={}}add(e){const r=e.lastSegment(),o=e.popLast(),u=this.index[r]||new Hi(Br.comparator),p=!u.has(o);return this.index[r]=u.add(o),p}has(e){const r=e.lastSegment(),o=e.popLast(),u=this.index[r];return u&&u.has(o)}getEntries(e){return(this.index[e]||new Hi(Br.comparator)).toArray()}}class yl{constructor(){this.Ht=new Cc}addToCollectionParentIndex(e,r){if(!this.Ht.has(r)){const o=r.lastSegment(),u=r.popLast();e.addOnCommittedListener(()=>{this.Ht.add(r)});const p={collectionId:o,parent:wo(u)};return Tc(e).put(p)}return _t.resolve()}getCollectionParents(e,r){const o=[],u=IDBKeyRange.bound([r,""],[Hc(r),""],!1,!0);return Tc(e).Bt(u).next(p=>{for(const v of p){if(v.collectionId!==r)break;o.push(ba(v.parent))}return o})}}function Tc(i){return co(i,Ia.store)}const _l={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ps{constructor(e,r,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new ps(e,ps.DEFAULT_COLLECTION_PERCENTILE,ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Qu(i,e,r){const o=i.store(Jr.store),u=i.store(Rs.store),p=[],v=IDBKeyRange.only(r.batchId);let O=0;const H=o.jt({range:v},(pe,ke,it)=>(O++,it.delete()));p.push(H.next(()=>{k(1===O)}));const X=[];for(const pe of r.mutations){const ke=Rs.key(e,pe.key.path,r.batchId);p.push(u.delete(ke)),X.push(pe.key)}return _t.waitFor(p).next(()=>X)}function Ac(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw C();e=i.noDocument}return JSON.stringify(e).length}ps.DEFAULT_COLLECTION_PERCENTILE=10,ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ps.DEFAULT=new ps(41943040,ps.DEFAULT_COLLECTION_PERCENTILE,ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ps.DISABLED=new ps(-1,0,0);class Tu{constructor(e,r,o,u){this.userId=e,this.k=r,this.Jt=o,this.referenceDelegate=u,this.Yt={}}static Xt(e,r,o,u){k(""!==e.uid);const p=e.isAuthenticated()?e.uid:"";return new Tu(p,r,o,u)}checkEmpty(e){let r=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return uu(e).jt({index:Jr.userMutationsIndex,range:o},(u,p,v)=>{r=!1,v.done()}).next(()=>r)}addMutationBatch(e,r,o,u){const p=cu(e),v=uu(e);return v.add({}).next(O=>{k("number"==typeof O);const H=new g(O,r,o,u),X=function(it,Xe,Pt){const vn=Pt.baseMutations.map(is=>ul(it.Gt,is)),fr=Pt.mutations.map(is=>ul(it.Gt,is));return new Jr(Xe,Pt.batchId,Pt.localWriteTime.toMillis(),vn,fr)}(this.k,this.userId,H),pe=[];let ke=new Hi((it,Xe)=>Zn(it.canonicalString(),Xe.canonicalString()));for(const it of u){const Xe=Rs.key(this.userId,it.key.path,O);ke=ke.add(it.key.path.popLast()),pe.push(v.put(X)),pe.push(p.put(Xe,Rs.PLACEHOLDER))}return ke.forEach(it=>{pe.push(this.Jt.addToCollectionParentIndex(e,it))}),e.addOnCommittedListener(()=>{this.Yt[O]=H.keys()}),_t.waitFor(pe).next(()=>H)})}lookupMutationBatch(e,r){return uu(e).get(r).next(o=>o?(k(o.userId===this.userId),nn(this.k,o)):null)}Zt(e,r){return this.Yt[r]?_t.resolve(this.Yt[r]):this.lookupMutationBatch(e,r).next(o=>{if(o){const u=o.keys();return this.Yt[r]=u,u}return null})}getNextMutationBatchAfterBatchId(e,r){const o=r+1,u=IDBKeyRange.lowerBound([this.userId,o]);let p=null;return uu(e).jt({index:Jr.userMutationsIndex,range:u},(v,O,H)=>{O.userId===this.userId&&(k(O.batchId>=o),p=nn(this.k,O)),H.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return uu(e).jt({index:Jr.userMutationsIndex,range:r,reverse:!0},(u,p,v)=>{o=p.batchId,v.done()}).next(()=>o)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return uu(e).Bt(Jr.userMutationsIndex,r).next(o=>o.map(u=>nn(this.k,u)))}getAllMutationBatchesAffectingDocumentKey(e,r){const o=Rs.prefixForPath(this.userId,r.path),u=IDBKeyRange.lowerBound(o),p=[];return cu(e).jt({range:u},(v,O,H)=>{const[X,pe,ke]=v,it=ba(pe);if(X===this.userId&&r.path.isEqual(it))return uu(e).get(ke).next(Xe=>{if(!Xe)throw C();k(Xe.userId===this.userId),p.push(nn(this.k,Xe))});H.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new Hi(Zn);const u=[];return r.forEach(p=>{const v=Rs.prefixForPath(this.userId,p.path),O=IDBKeyRange.lowerBound(v),H=cu(e).jt({range:O},(X,pe,ke)=>{const[it,Xe,Pt]=X,vn=ba(Xe);it===this.userId&&p.path.isEqual(vn)?o=o.add(Pt):ke.done()});u.push(H)}),_t.waitFor(u).next(()=>this.te(e,o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,u=o.length+1,p=Rs.prefixForPath(this.userId,o),v=IDBKeyRange.lowerBound(p);let O=new Hi(Zn);return cu(e).jt({range:v},(H,X,pe)=>{const[ke,it,Xe]=H,Pt=ba(it);ke===this.userId&&o.isPrefixOf(Pt)?Pt.length===u&&(O=O.add(Xe)):pe.done()}).next(()=>this.te(e,O))}te(e,r){const o=[],u=[];return r.forEach(p=>{u.push(uu(e).get(p).next(v=>{if(null===v)throw C();k(v.userId===this.userId),o.push(nn(this.k,v))}))}),_t.waitFor(u).next(()=>o)}removeMutationBatch(e,r){return Qu(e.Wt,this.userId,r).next(o=>(e.addOnCommittedListener(()=>{this.ee(r.batchId)}),_t.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return _t.resolve();const o=IDBKeyRange.lowerBound(Rs.prefixForUser(this.userId)),u=[];return cu(e).jt({range:o},(p,v,O)=>{if(p[0]===this.userId){const H=ba(p[1]);u.push(H)}else O.done()}).next(()=>{k(0===u.length)})})}containsKey(e,r){return sd(e,this.userId,r)}ne(e){return ug(e).get(this.userId).next(r=>r||new ns(this.userId,-1,""))}}function sd(i,e,r){const o=Rs.prefixForPath(e,r.path),u=o[1],p=IDBKeyRange.lowerBound(o);let v=!1;return cu(i).jt({range:p,Kt:!0},(O,H,X)=>{const[pe,ke,it]=O;pe===e&&ke===u&&(v=!0),X.done()}).next(()=>v)}function uu(i){return co(i,Jr.store)}function cu(i){return co(i,Rs.store)}function ug(i){return co(i,ns.store)}class Ju{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new Ju(0)}static re(){return new Ju(-1)}}class qm{constructor(e,r){this.referenceDelegate=e,this.k=r}allocateTargetId(e){return this.oe(e).next(r=>{const o=new Ju(r.highestTargetId);return r.highestTargetId=o.next(),this.ce(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.oe(e).next(r=>Ln.fromTimestamp(new Hn(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.oe(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,o){return this.oe(e).next(u=>(u.highestListenSequenceNumber=r,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),r>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=r),this.ce(e,u)))}addTargetData(e,r){return this.ae(e,r).next(()=>this.oe(e).next(o=>(o.targetCount+=1,this.ue(r,o),this.ce(e,o))))}updateTargetData(e,r){return this.ae(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>vl(e).delete(r.targetId)).next(()=>this.oe(e)).next(o=>(k(o.targetCount>0),o.targetCount-=1,this.ce(e,o)))}removeTargets(e,r,o){let u=0;const p=[];return vl(e).jt((v,O)=>{const H=Yt(O);H.sequenceNumber<=r&&null===o.get(H.targetId)&&(u++,p.push(this.removeTargetData(e,H)))}).next(()=>_t.waitFor(p)).next(()=>u)}forEachTarget(e,r){return vl(e).jt((o,u)=>{const p=Yt(u);r(p)})}oe(e){return vf(e).get(Xr.key).next(r=>(k(null!==r),r))}ce(e,r){return vf(e).put(Xr.key,r)}ae(e,r){return vl(e).put(hr(this.k,r))}ue(e,r){let o=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,o=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.oe(e).next(r=>r.targetCount)}getTargetData(e,r){const o=M(r),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let p=null;return vl(e).jt({range:u,index:qs.queryTargetsIndexName},(v,O,H)=>{const X=Yt(O);Z(r,X.target)&&(p=X,H.done())}).next(()=>p)}addMatchingKeys(e,r,o){const u=[],p=lu(e);return r.forEach(v=>{const O=wo(v.path);u.push(p.put(new Zs(o,O))),u.push(this.referenceDelegate.addReference(e,o,v))}),_t.waitFor(u)}removeMatchingKeys(e,r,o){const u=lu(e);return _t.forEach(r,p=>{const v=wo(p.path);return _t.waitFor([u.delete([o,v]),this.referenceDelegate.removeReference(e,o,p)])})}removeMatchingKeysForTargetId(e,r){const o=lu(e),u=IDBKeyRange.bound([r],[r+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,r){const o=IDBKeyRange.bound([r],[r+1],!1,!0),u=lu(e);let p=jr();return u.jt({range:o,Kt:!0},(v,O,H)=>{const X=ba(v[1]),pe=new rn(X);p=p.add(pe)}).next(()=>p)}containsKey(e,r){const o=wo(r.path),u=IDBKeyRange.bound([o],[Hc(o)],!1,!0);let p=0;return lu(e).jt({index:Zs.documentTargetsIndex,Kt:!0,range:u},([v,O],H,X)=>{0!==v&&(p++,X.done())}).next(()=>p>0)}Et(e,r){return vl(e).get(r).next(o=>o?Yt(o):null)}}function vl(i){return co(i,qs.store)}function vf(i){return co(i,Xr.store)}function lu(i){return co(i,Zs.store)}function Xu(i){return cg.apply(this,arguments)}function cg(){return cg=(0,ne.Z)(function*(i){if(i.code!==Y.FAILED_PRECONDITION||i.message!==Ys)throw i;St("LocalStore","Unexpectedly lost primary lease")}),cg.apply(this,arguments)}function wf([i,e],[r,o]){const u=Zn(i,r);return 0===u?Zn(e,o):u}class Zm{constructor(e){this.he=e,this.buffer=new Hi(wf),this.le=0}fe(){return++this.le}de(e){const r=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();wf(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class lg{constructor(e,r){this.garbageCollector=e,this.asyncQueue=r,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){var r=this;const o=this.we?3e5:6e4;St("LruGarbageCollector",`Garbage collection scheduled in ${o}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,(0,ne.Z)(function*(){r._e=null,r.we=!0;try{yield e.collectGarbage(r.garbageCollector)}catch(u){Da(u)?St("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",u):yield Xu(u)}yield r.me(e)}))}}class Ym{constructor(e,r){this.ge=e,this.params=r}calculateTargetCount(e,r){return this.ge.ye(e).next(o=>Math.floor(r/100*o))}nthSequenceNumber(e,r){if(0===r)return _t.resolve(kr.I);const o=new Zm(r);return this.ge.forEachTarget(e,u=>o.de(u.sequenceNumber)).next(()=>this.ge.pe(e,u=>o.de(u))).next(()=>o.maxValue)}removeTargets(e,r,o){return this.ge.removeTargets(e,r,o)}removeOrphanedDocuments(e,r){return this.ge.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(St("LruGarbageCollector","Garbage collection skipped; disabled"),_t.resolve(_l)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(St("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_l):this.Te(e,r))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,r){let o,u,p,v,O,H,X;const pe=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ke=>(ke>this.params.maximumSequenceNumbersToCollect?(St("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ke}`),u=this.params.maximumSequenceNumbersToCollect):u=ke,v=Date.now(),this.nthSequenceNumber(e,u))).next(ke=>(o=ke,O=Date.now(),this.removeTargets(e,o,r))).next(ke=>(p=ke,H=Date.now(),this.removeOrphanedDocuments(e,o))).next(ke=>(X=Date.now(),la()<=at.in.DEBUG&&St("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${v-pe}ms\n\tDetermined least recently used ${u} in `+(O-v)+`ms\n\tRemoved ${p} targets in `+(H-O)+`ms\n\tRemoved ${ke} documents in `+(X-H)+`ms\nTotal Duration: ${X-pe}ms`),_t.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:p,documentsRemoved:ke})))}}class Qm{constructor(e,r){this.db=e,this.garbageCollector=new Ym(this,r)}ye(e){const r=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(o=>r.next(u=>o+u))}Ee(e){let r=0;return this.pe(e,o=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}pe(e,r){return this.Ie(e,(o,u)=>r(u))}addReference(e,r,o){return Lo(e,o)}removeReference(e,r,o){return Lo(e,o)}removeTargets(e,r,o){return this.db.getTargetCache().removeTargets(e,r,o)}markPotentiallyOrphaned(e,r){return Lo(e,r)}Ae(e,r){return function(o,u){let p=!1;return ug(o).Qt(v=>sd(o,v,u).next(O=>(O&&(p=!0),_t.resolve(!O)))).next(()=>p)}(e,r)}removeOrphanedDocuments(e,r){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let p=0;return this.Ie(e,(v,O)=>{if(O<=r){const H=this.Ae(e,v).next(X=>{if(!X)return p++,o.getEntry(e,v).next(()=>(o.removeEntry(v),lu(e).delete([0,wo(v.path)])))});u.push(H)}}).next(()=>_t.waitFor(u)).next(()=>o.apply(e)).next(()=>p)}removeTarget(e,r){const o=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,r){return Lo(e,r)}Ie(e,r){const o=lu(e);let u,p=kr.I;return o.jt({index:Zs.documentTargetsIndex},([v,O],{path:H,sequenceNumber:X})=>{0===v?(p!==kr.I&&r(new rn(ba(u)),p),p=X,u=H):p=kr.I}).next(()=>{p!==kr.I&&r(new rn(ba(u)),p)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Lo(i,e){return lu(i).put((o=i.currentSequenceNumber,new Zs(0,wo(e.path),o)));var o}class wl{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={}}get(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o)for(const[u,p]of o)if(this.equalsFn(u,e))return p}has(e){return void 0!==this.get(e)}set(e,r){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0!==u){for(let p=0;p<u.length;p++)if(this.equalsFn(u[p][0],e))return void(u[p]=[e,r]);u.push([e,r])}else this.inner[o]=[[e,r]]}delete(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[r]:o.splice(u,1),!0;return!1}forEach(e){Pa(this.inner,(r,o)=>{for(const[u,p]of o)e(u,p)})}isEmpty(){return Vl(this.inner)}}class Ef{constructor(){this.changes=new wl(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}getReadTime(e){const r=this.changes.get(e);return r?r.readTime:Ln.min()}addEntry(e,r){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:r})}removeEntry(e,r=null){this.assertNotApplied(),this.changes.set(e,{document:vi.newInvalidDocument(e),readTime:r})}getEntry(e,r){this.assertNotApplied();const o=this.changes.get(r);return void 0!==o?_t.resolve(o.document):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Jm{constructor(e,r){this.k=e,this.Jt=r}addEntry(e,r,o){return ec(e).put(od(r),o)}removeEntry(e,r){const o=ec(e),u=od(r);return o.delete(u)}updateMetadata(e,r){return this.getMetadata(e).next(o=>(o.byteSize+=r,this.Re(e,o)))}getEntry(e,r){return ec(e).get(od(r)).next(o=>this.be(r,o))}Pe(e,r){return ec(e).get(od(r)).next(o=>({document:this.be(r,o),size:Ac(o)}))}getEntries(e,r){let o=zs();return this.ve(e,r,(u,p)=>{const v=this.be(u,p);o=o.insert(u,v)}).next(()=>o)}Ve(e,r){let o=zs(),u=new ts(rn.comparator);return this.ve(e,r,(p,v)=>{const O=this.be(p,v);o=o.insert(p,O),u=u.insert(p,Ac(v))}).next(()=>({documents:o,Se:u}))}ve(e,r,o){if(r.isEmpty())return _t.resolve();const u=IDBKeyRange.bound(r.first().path.toArray(),r.last().path.toArray()),p=r.getIterator();let v=p.getNext();return ec(e).jt({range:u},(O,H,X)=>{const pe=rn.fromSegments(O);for(;v&&rn.comparator(v,pe)<0;)o(v,null),v=p.getNext();v&&v.isEqual(pe)&&(o(v,H),v=p.hasNext()?p.getNext():null),v?X.Lt(v.path.toArray()):X.done()}).next(()=>{for(;v;)o(v,null),v=p.hasNext()?p.getNext():null})}getDocumentsMatchingQuery(e,r,o){let u=zs();const p=r.path.length+1,v={};if(o.isEqual(Ln.min())){const O=r.path.toArray();v.range=IDBKeyRange.lowerBound(O)}else{const O=r.path.toArray(),H=Ie(o);v.range=IDBKeyRange.lowerBound([O,H],!0),v.index=xi.collectionReadTimeIndex}return ec(e).jt(v,(O,H,X)=>{if(O.length!==p)return;const pe=F(this.k,H);r.path.isPrefixOf(pe.key.path)?Kc(r,pe)&&(u=u.insert(pe.key,pe)):X.done()}).next(()=>u)}newChangeBuffer(e){return new Xm(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return dg(e).get(ja.key).next(r=>(k(!!r),r))}Re(e,r){return dg(e).put(ja.key,r)}be(e,r){if(r){const o=F(this.k,r);if(!o.isNoDocument()||!o.version.isEqual(Ln.min()))return o}return vi.newInvalidDocument(e)}}class Xm extends Ef{constructor(e,r){super(),this.De=e,this.trackRemovals=r,this.Ce=new wl(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const r=[];let o=0,u=new Hi((p,v)=>Zn(p.canonicalString(),v.canonicalString()));return this.changes.forEach((p,v)=>{const O=this.Ce.get(p);if(v.document.isValidDocument()){const H=G(this.De.k,v.document,this.getReadTime(p));u=u.add(p.path.popLast()),o+=Ac(H)-O,r.push(this.De.addEntry(e,p,H))}else if(o-=O,this.trackRemovals){const H=G(this.De.k,vi.newNoDocument(p,Ln.min()),this.getReadTime(p));r.push(this.De.addEntry(e,p,H))}else r.push(this.De.removeEntry(e,p))}),u.forEach(p=>{r.push(this.De.Jt.addToCollectionParentIndex(e,p))}),r.push(this.De.updateMetadata(e,o)),_t.waitFor(r)}getFromCache(e,r){return this.De.Pe(e,r).next(o=>(this.Ce.set(r,o.size),o.document))}getAllFromCache(e,r){return this.De.Ve(e,r).next(({documents:o,Se:u})=>(u.forEach((p,v)=>{this.Ce.set(p,v)}),o))}}function dg(i){return co(i,ja.store)}function ec(i){return co(i,xi.store)}function od(i){return i.path.toArray()}class ey{constructor(e){this.k=e}Nt(e,r,o,u){k(o<u&&o>=0&&u<=11);const p=new Yu("createOrUpgrade",r);var O;o<1&&u>=1&&(e.createObjectStore(Ks.store),(O=e).createObjectStore(ns.store,{keyPath:ns.keyPath}),O.createObjectStore(Jr.store,{keyPath:Jr.keyPath,autoIncrement:!0}).createIndex(Jr.userMutationsIndex,Jr.userMutationsKeyPath,{unique:!0}),O.createObjectStore(Rs.store),hg(e),function(O){O.createObjectStore(xi.store)}(e));let v=_t.resolve();return o<3&&u>=3&&(0!==o&&(function(O){O.deleteObjectStore(Zs.store),O.deleteObjectStore(qs.store),O.deleteObjectStore(Xr.store)}(e),hg(e)),v=v.next(()=>function(O){const H=O.store(Xr.store),X=new Xr(0,0,Ln.min().toTimestamp(),0);return H.put(Xr.key,X)}(p))),o<4&&u>=4&&(0!==o&&(v=v.next(()=>function(O,H){return H.store(Jr.store).Bt().next(X=>{O.deleteObjectStore(Jr.store),O.createObjectStore(Jr.store,{keyPath:Jr.keyPath,autoIncrement:!0}).createIndex(Jr.userMutationsIndex,Jr.userMutationsKeyPath,{unique:!0});const pe=H.store(Jr.store),ke=X.map(it=>pe.put(it));return _t.waitFor(ke)})}(e,p))),v=v.next(()=>{!function(O){O.createObjectStore(Xo.store,{keyPath:Xo.keyPath})}(e)})),o<5&&u>=5&&(v=v.next(()=>this.Ne(p))),o<6&&u>=6&&(v=v.next(()=>(function(O){O.createObjectStore(ja.store)}(e),this.ke(p)))),o<7&&u>=7&&(v=v.next(()=>this.xe(p))),o<8&&u>=8&&(v=v.next(()=>this.$e(e,p))),o<9&&u>=9&&(v=v.next(()=>{(function(O){O.objectStoreNames.contains("remoteDocumentChanges")&&O.deleteObjectStore("remoteDocumentChanges")})(e),function(O){const H=O.objectStore(xi.store);H.createIndex(xi.readTimeIndex,xi.readTimeIndexPath,{unique:!1}),H.createIndex(xi.collectionReadTimeIndex,xi.collectionReadTimeIndexPath,{unique:!1})}(r)})),o<10&&u>=10&&(v=v.next(()=>this.Oe(p))),o<11&&u>=11&&(v=v.next(()=>{(function(O){O.createObjectStore(qu.store,{keyPath:qu.keyPath})})(e),function(O){O.createObjectStore(Cu.store,{keyPath:Cu.keyPath})}(e)})),v}ke(e){let r=0;return e.store(xi.store).jt((o,u)=>{r+=Ac(u)}).next(()=>{const o=new ja(r);return e.store(ja.store).put(ja.key,o)})}Ne(e){const r=e.store(ns.store),o=e.store(Jr.store);return r.Bt().next(u=>_t.forEach(u,p=>{const v=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return o.Bt(Jr.userMutationsIndex,v).next(O=>_t.forEach(O,H=>{k(H.userId===p.userId);const X=nn(this.k,H);return Qu(e,p.userId,X).next(()=>{})}))}))}xe(e){const r=e.store(Zs.store),o=e.store(xi.store);return e.store(Xr.store).get(Xr.key).next(u=>{const p=[];return o.jt((v,O)=>{const H=new Br(v),X=[0,wo(H)];p.push(r.get(X).next(pe=>pe?_t.resolve():r.put(new Zs(0,wo(H),u.highestListenSequenceNumber))))}).next(()=>_t.waitFor(p))})}$e(e,r){e.createObjectStore(Ia.store,{keyPath:Ia.keyPath});const o=r.store(Ia.store),u=new Cc,p=v=>{if(u.add(v)){const O=v.lastSegment(),H=v.popLast();return o.put({collectionId:O,parent:wo(H)})}};return r.store(xi.store).jt({Kt:!0},(v,O)=>{const H=new Br(v);return p(H.popLast())}).next(()=>r.store(Rs.store).jt({Kt:!0},([v,O,H],X)=>{const pe=ba(O);return p(pe.popLast())}))}Oe(e){const r=e.store(qs.store);return r.jt((o,u)=>{const p=Yt(u),v=hr(this.k,p);return r.put(v)})}}function hg(i){i.createObjectStore(Zs.store,{keyPath:Zs.keyPath}).createIndex(Zs.documentTargetsIndex,Zs.documentTargetsKeyPath,{unique:!0}),i.createObjectStore(qs.store,{keyPath:qs.keyPath}).createIndex(qs.queryTargetsIndexName,qs.queryTargetsKeyPath,{unique:!0}),i.createObjectStore(Xr.store)}const bf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Wn{constructor(e,r,o,u,p,v,O,H,X,pe){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=o,this.Me=p,this.window=v,this.document=O,this.Fe=X,this.Le=pe,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=ke=>Promise.resolve(),!Wn.Pt())throw new Ee(Y.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Qm(this,u),this.Ge=r+"main",this.k=new y(H),this.ze=new rs(this.Ge,11,new ey(this.k)),this.He=new qm(this.referenceDelegate,this.k),this.Jt=new yl,this.Je=new Jm(this.k,this.Jt),this.Ye=new ou,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===pe&&I("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ee(Y.FAILED_PRECONDITION,bf);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.He.getHighestSequenceNumber(e))}).then(e=>{this.Be=new kr(e,this.Fe)}).then(()=>{this.Ue=!0}).catch(e=>(this.ze&&this.ze.close(),Promise.reject(e)))}sn(e){var r=this;return this.We=function(){var o=(0,ne.Z)(function*(u){if(r.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt(function(){var r=(0,ne.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget((0,ne.Z)(function*(){r.started&&(yield r.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ad(e).put(new Xo(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(e).next(r=>{r||(this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(e)).next(r=>this.isPrimary&&!r?this.cn(e).next(()=>!1):!!r&&this.an(e).next(()=>!0))).catch(e=>{if(Da(e))return St("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return St("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Me.enqueueRetryable(()=>this.We(e)),this.isPrimary=e})}rn(e){return El(e).get(Ks.key).next(r=>_t.resolve(this.un(r)))}hn(e){return ad(e).delete(this.clientId)}ln(){var e=this;return(0,ne.Z)(function*(){if(e.isPrimary&&!e.fn(e.Qe,18e5)){e.Qe=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=co(o,Xo.store);return u.Bt().next(p=>{const v=e.dn(p,18e5),O=p.filter(H=>-1===v.indexOf(H));return _t.forEach(O,H=>u.delete(H.clientId)).next(()=>O)})}).catch(()=>[]);if(e.Xe)for(const o of r)e.Xe.removeItem(e.wn(o.clientId))}})()}nn(){this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?_t.resolve(!0):El(e).get(Ks.key).next(r=>{if(null!==r&&this.fn(r.leaseTimestampMs,5e3)&&!this._n(r.ownerId)){if(this.un(r)&&this.networkEnabled)return!0;if(!this.un(r)){if(!r.allowTabSynchronization)throw new Ee(Y.FAILED_PRECONDITION,bf);return!1}}return!(!this.networkEnabled||!this.inForeground)||ad(e).Bt().next(o=>void 0===this.dn(o,5e3).find(u=>{if(this.clientId!==u.clientId){const v=!this.inForeground&&u.inForeground,O=this.networkEnabled===u.networkEnabled;if(!this.networkEnabled&&u.networkEnabled||v&&O)return!0}return!1}))}).next(r=>(this.isPrimary!==r&&St("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,ne.Z)(function*(){e.Ue=!1,e.mn(),e.je&&(e.je.cancel(),e.je=null),e.gn(),e.yn(),yield e.ze.runTransaction("shutdown","readwrite",[Ks.store,Xo.store],r=>{const o=new eh(r,kr.I);return e.cn(o).next(()=>e.hn(o))}),e.ze.close(),e.pn()})()}dn(e,r){return e.filter(o=>this.fn(o.updateTimeMs,r)&&!this._n(o.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",e=>ad(e).Bt().next(r=>this.dn(r,18e5).map(o=>o.clientId)))}get started(){return this.Ue}getMutationQueue(e){return Tu.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,r,o){let p;return St("IndexedDbPersistence","Starting transaction:",e),this.ze.runTransaction(e,"readonly"===r?"readonly":"readwrite",Zu,v=>(p=new eh(v,this.Be?this.Be.next():kr.I),"readwrite-primary"===r?this.rn(p).next(O=>!!O||this.on(p)).next(O=>{if(!O)throw I(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)),new Ee(Y.FAILED_PRECONDITION,Ys);return o(p)}).next(O=>this.an(p).next(()=>O)):this.En(p).next(()=>o(p)))).then(v=>(p.raiseOnCommittedEvent(),v))}En(e){return El(e).get(Ks.key).next(r=>{if(null!==r&&this.fn(r.leaseTimestampMs,5e3)&&!this._n(r.ownerId)&&!this.un(r)&&!(this.Le||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Ee(Y.FAILED_PRECONDITION,bf)})}an(e){const r=new Ks(this.clientId,this.allowTabSynchronization,Date.now());return El(e).put(Ks.key,r)}static Pt(){return rs.Pt()}cn(e){const r=El(e);return r.get(Ks.key).next(o=>this.un(o)?(St("IndexedDbPersistence","Releasing primary lease."),r.delete(Ks.key)):_t.resolve())}fn(e,r){const o=Date.now();return!(e<o-r||e>o&&(I(`Detected an update time that is in the future: ${e} > ${o}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Me.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),(0,Ke.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Me.enterRestrictedMode(!0),this.Me.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var r;try{const o=null!==(null===(r=this.Xe)||void 0===r?void 0:r.getItem(this.wn(e)));return St("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return I("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){I("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function El(i){return co(i,Ks.store)}function ad(i){return co(i,Xo.store)}function th(i,e){let r=i.projectId;return i.isDefaultDatabase||(r+="."+i.database),"firestore/"+e+"/"+r+"/"}class nh{constructor(e,r){this.progress=e,this.In=r}}class Ca{constructor(e,r,o){this.Je=e,this.An=r,this.Jt=o}Rn(e,r){return this.An.getAllMutationBatchesAffectingDocumentKey(e,r).next(o=>this.bn(e,r,o))}bn(e,r,o){return this.Je.getEntry(e,r).next(u=>{for(const p of o)p.applyToLocalView(u);return u})}Pn(e,r){e.forEach((o,u)=>{for(const p of r)p.applyToLocalView(u)})}vn(e,r){return this.Je.getEntries(e,r).next(o=>this.Vn(e,o).next(()=>o))}Vn(e,r){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>this.Pn(r,o))}getDocumentsMatchingQuery(e,r,o){return rn.isDocumentKey((u=r).path)&&null===u.collectionGroup&&0===u.filters.length?this.Sn(e,r.path):vc(r)?this.Dn(e,r,o):this.Cn(e,r,o);var u}Sn(e,r){return this.Rn(e,new rn(r)).next(o=>{let u=Xc();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}Dn(e,r,o){const u=r.collectionGroup;let p=Xc();return this.Jt.getCollectionParents(e,u).next(v=>_t.forEach(v,O=>{const H=(X=r,pe=O.child(u),new Gs(pe,null,X.explicitOrderBy.slice(),X.filters.slice(),X.limit,X.limitType,X.startAt,X.endAt));var X,pe;return this.Cn(e,H,o).next(X=>{X.forEach((pe,ke)=>{p=p.insert(pe,ke)})})}).next(()=>p))}Cn(e,r,o){let u,p;return this.Je.getDocumentsMatchingQuery(e,r,o).next(v=>(u=v,this.An.getAllMutationBatchesAffectingQuery(e,r))).next(v=>(p=v,this.Nn(e,p,u).next(O=>{u=O;for(const H of p)for(const X of H.mutations){const pe=X.key;let ke=u.get(pe);null==ke&&(ke=vi.newInvalidDocument(pe),u=u.insert(pe,ke)),zl(X,ke,H.localWriteTime),ke.isFoundDocument()||(u=u.remove(pe))}}))).next(()=>(u.forEach((v,O)=>{Kc(r,O)||(u=u.remove(v))}),u))}Nn(e,r,o){let u=jr();for(const v of r)for(const O of v.mutations)O instanceof ru&&null===o.get(O.key)&&(u=u.add(O.key));let p=o;return this.Je.getEntries(e,u).next(v=>(v.forEach((O,H)=>{H.isFoundDocument()&&(p=p.insert(O,H))}),p))}}class rh{constructor(e,r,o,u){this.targetId=e,this.fromCache=r,this.kn=o,this.xn=u}static $n(e,r){let o=jr(),u=jr();for(const p of r.docChanges)switch(p.type){case 0:o=o.add(p.doc.key);break;case 1:u=u.add(p.doc.key)}return new rh(e,r.fromCache,o,u)}}class fg{On(e){this.Mn=e}getDocumentsMatchingQuery(e,r,o,u){return 0===(p=r).filters.length&&null===p.limit&&null==p.startAt&&null==p.endAt&&(0===p.explicitOrderBy.length||1===p.explicitOrderBy.length&&p.explicitOrderBy[0].field.isKeyField())||o.isEqual(Ln.min())?this.Fn(e,r):this.Mn.vn(e,u).next(p=>{const v=this.Ln(r,p);return(Vu(r)||Eu(r))&&this.Bn(r.limitType,v,u,o)?this.Fn(e,r):(la()<=at.in.DEBUG&&St("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),wc(r)),this.Mn.getDocumentsMatchingQuery(e,r,o).next(O=>(v.forEach(H=>{O=O.insert(H.key,H)}),O)))});var p}Ln(e,r){let o=new Hi(Ud(e));return r.forEach((u,p)=>{Kc(e,p)&&(o=o.add(p))}),o}Bn(e,r,o,u){if(o.size!==r.size)return!0;const p="F"===e?r.last():r.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(u)>0)}Fn(e,r){return la()<=at.in.DEBUG&&St("QueryEngine","Using full collection scan to execute query:",wc(r)),this.Mn.getDocumentsMatchingQuery(e,r,Ln.min())}}class If{constructor(e,r,o,u){this.persistence=e,this.Un=r,this.k=u,this.qn=new ts(Zn),this.Kn=new wl(p=>M(p),Z),this.jn=Ln.min(),this.An=e.getMutationQueue(o),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new Ca(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.qn))}}function du(i,e,r,o){return new If(i,e,r,o)}function ih(i,e){return sh.apply(this,arguments)}function sh(){return sh=(0,ne.Z)(function*(i,e){const r=Q(i);let o=r.An,u=r.Wn;const p=yield r.persistence.runTransaction("Handle user change","readonly",v=>{let O;return r.An.getAllMutationBatches(v).next(H=>(O=H,o=r.persistence.getMutationQueue(e),u=new Ca(r.Qn,o,r.persistence.getIndexManager()),o.getAllMutationBatches(v))).next(H=>{const X=[],pe=[];let ke=jr();for(const it of O){X.push(it.batchId);for(const Xe of it.mutations)ke=ke.add(Xe.key)}for(const it of H){pe.push(it.batchId);for(const Xe of it.mutations)ke=ke.add(Xe.key)}return u.vn(v,ke).next(it=>({Gn:it,removedBatchIds:X,addedBatchIds:pe}))})});return r.An=o,r.Wn=u,r.Un.On(r.Wn),p}),sh.apply(this,arguments)}function Df(i,e){const r=Q(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),p=r.Qn.newChangeBuffer({trackRemovals:!0});return function(v,O,H,X){const pe=H.batch,ke=pe.keys();let it=_t.resolve();return ke.forEach(Xe=>{it=it.next(()=>X.getEntry(O,Xe)).next(Pt=>{const vn=H.docVersions.get(Xe);k(null!==vn),Pt.version.compareTo(vn)<0&&(pe.applyToRemoteDocument(Pt,H),Pt.isValidDocument()&&X.addEntry(Pt,H.commitVersion))})}),it.next(()=>v.An.removeMutationBatch(O,pe))}(r,o,e,p).next(()=>p.apply(o)).next(()=>r.An.performConsistencyCheck(o)).next(()=>r.Wn.vn(o,u))})}function ty(i){const e=Q(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.He.getLastRemoteSnapshotVersion(r))}function pg(i,e){const r=Q(i),o=e.snapshotVersion;let u=r.qn;return r.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const v=r.Qn.newChangeBuffer({trackRemovals:!0});u=r.qn;const O=[];e.targetChanges.forEach((X,pe)=>{const ke=u.get(pe);if(!ke)return;O.push(r.He.removeMatchingKeys(p,X.removedDocuments,pe).next(()=>r.He.addMatchingKeys(p,X.addedDocuments,pe)));let it=ke.withSequenceNumber(p.currentSequenceNumber);var Xe,Pt,vn;e.targetMismatches.has(pe)?it=it.withResumeToken(Ri.EMPTY_BYTE_STRING,Ln.min()).withLastLimboFreeSnapshotVersion(Ln.min()):X.resumeToken.approximateByteSize()>0&&(it=it.withResumeToken(X.resumeToken,o)),u=u.insert(pe,it),Pt=it,vn=X,(0===(Xe=ke).resumeToken.approximateByteSize()||Pt.snapshotVersion.toMicroseconds()-Xe.snapshotVersion.toMicroseconds()>=3e8||vn.addedDocuments.size+vn.modifiedDocuments.size+vn.removedDocuments.size>0)&&O.push(r.He.updateTargetData(p,it))});let H=zs();if(e.documentUpdates.forEach((X,pe)=>{e.resolvedLimboDocuments.has(X)&&O.push(r.persistence.referenceDelegate.updateLimboDocument(p,X))}),O.push(ny(p,v,e.documentUpdates,o,void 0).next(X=>{H=X})),!o.isEqual(Ln.min())){const X=r.He.getLastRemoteSnapshotVersion(p).next(pe=>r.He.setTargetsMetadata(p,p.currentSequenceNumber,o));O.push(X)}return _t.waitFor(O).next(()=>v.apply(p)).next(()=>r.Wn.Vn(p,H)).next(()=>H)}).then(p=>(r.qn=u,p))}function ny(i,e,r,o,u){let p=jr();return r.forEach(v=>p=p.add(v)),e.getEntries(i,p).next(v=>{let O=zs();return r.forEach((H,X)=>{const pe=v.get(H),ke=(null==u?void 0:u.get(H))||o;X.isNoDocument()&&X.version.isEqual(Ln.min())?(e.removeEntry(H,ke),O=O.insert(H,X)):!pe.isValidDocument()||X.version.compareTo(pe.version)>0||0===X.version.compareTo(pe.version)&&pe.hasPendingWrites?(e.addEntry(X,ke),O=O.insert(H,X)):St("LocalStore","Ignoring outdated watch update for ",H,". Current version:",pe.version," Watch version:",X.version)}),O})}function oh(i,e){const r=Q(i);return r.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),r.An.getNextMutationBatchAfterBatchId(o,e)))}function Au(i,e){const r=Q(i);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return r.He.getTargetData(o,e).next(p=>p?(u=p,_t.resolve(u)):r.He.allocateTargetId(o).next(v=>(u=new d(e,v,0,o.currentSequenceNumber),r.He.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=r.qn.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(r.qn=r.qn.insert(o.targetId,o),r.Kn.set(e,o.targetId)),o})}function tc(i,e,r){return ud.apply(this,arguments)}function ud(){return ud=(0,ne.Z)(function*(i,e,r){const o=Q(i),u=o.qn.get(e),p=r?"readwrite":"readwrite-primary";try{r||(yield o.persistence.runTransaction("Release target",p,v=>o.persistence.referenceDelegate.removeTarget(v,u)))}catch(v){if(!Da(v))throw v;St("LocalStore",`Failed to update sequence numbers for target ${e}: ${v}`)}o.qn=o.qn.remove(e),o.Kn.delete(u.target)}),ud.apply(this,arguments)}function bl(i,e,r){const o=Q(i);let u=Ln.min(),p=jr();return o.persistence.runTransaction("Execute query","readonly",v=>function(O,H,X){const pe=Q(O),ke=pe.Kn.get(X);return void 0!==ke?_t.resolve(pe.qn.get(ke)):pe.He.getTargetData(H,X)}(o,v,xs(e)).next(O=>{if(O)return u=O.lastLimboFreeSnapshotVersion,o.He.getMatchingKeysForTargetId(v,O.targetId).next(H=>{p=H})}).next(()=>o.Un.getDocumentsMatchingQuery(v,e,r?u:Ln.min(),r?p:jr())).next(O=>({documents:O,zn:p})))}function ry(i,e){const r=Q(i),o=Q(r.He),u=r.qn.get(e);return u?Promise.resolve(u.target):r.persistence.runTransaction("Get target data","readonly",p=>o.Et(p,e).next(v=>v?v.target:null))}function gg(i){const e=Q(i);return e.persistence.runTransaction("Get new document changes","readonly",r=>function(o,u,p){const v=Q(o);let O=zs(),H=Ie(p);const X=ec(u),pe=IDBKeyRange.lowerBound(H,!0);return X.jt({index:xi.readTimeIndex,range:pe},(ke,it)=>{const Xe=F(v.k,it);O=O.insert(Xe.key,Xe),H=it.readTime}).next(()=>({In:O,readTime:et(H)}))}(e.Qn,r,e.jn)).then(({In:r,readTime:o})=>(e.jn=o,r))}function Cf(){return Cf=(0,ne.Z)(function*(i){const e=Q(i);return e.persistence.runTransaction("Synchronize last document change read time","readonly",r=>function(o){const u=ec(o);let p=Ln.min();return u.jt({index:xi.readTimeIndex,reverse:!0},(v,O,H)=>{O.readTime&&(p=et(O.readTime)),H.done()}).next(()=>p)}(r)).then(r=>{e.jn=r})}),Cf.apply(this,arguments)}function ah(){return ah=(0,ne.Z)(function*(i,e,r,o){const u=Q(i);let p=jr(),v=zs(),O=el();for(const pe of r){const ke=e.Hn(pe.metadata.name);pe.document&&(p=p.add(ke)),v=v.insert(ke,e.Jn(pe)),O=O.insert(ke,e.Yn(pe.metadata.readTime))}const H=u.Qn.newChangeBuffer({trackRemovals:!0}),X=yield Au(u,(pe=o,xs(_a(Br.fromString(`__bundle__/docs/${pe}`)))));var pe;return u.persistence.runTransaction("Apply bundle documents","readwrite",pe=>ny(pe,H,v,Ln.min(),O).next(ke=>(H.apply(pe),ke)).next(ke=>u.He.removeMatchingKeysForTargetId(pe,X.targetId).next(()=>u.He.addMatchingKeys(pe,p,X.targetId)).next(()=>u.Wn.Vn(pe,ke)).next(()=>ke)))}),ah.apply(this,arguments)}function J_(i,e){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,ne.Z)(function*(i,e,r=jr()){const o=yield Au(i,xs(Wi(e.bundledQuery))),u=Q(i);return u.persistence.runTransaction("Save named query","readwrite",p=>{const v=Os(e.readTime);if(o.snapshotVersion.compareTo(v)>=0)return u.Ye.saveNamedQuery(p,e);const O=o.withResumeToken(Ri.EMPTY_BYTE_STRING,v);return u.qn=u.qn.insert(O.targetId,O),u.He.updateTargetData(p,O).next(()=>u.He.removeMatchingKeysForTargetId(p,o.targetId)).next(()=>u.He.addMatchingKeys(p,r,o.targetId)).next(()=>u.Ye.saveNamedQuery(p,e))})}),Tf.apply(this,arguments)}class X_{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,r){return _t.resolve(this.Xn.get(r))}saveBundleMetadata(e,r){var o;return this.Xn.set(r.id,{id:(o=r).id,version:o.version,createTime:Os(o.createTime)}),_t.resolve()}getNamedQuery(e,r){return _t.resolve(this.Zn.get(r))}saveNamedQuery(e,r){return this.Zn.set(r.name,{name:(o=r).name,query:Wi(o.bundledQuery),readTime:Os(o.readTime)}),_t.resolve();var o}}class uh{constructor(){this.ts=new Hi(Ps.es),this.ns=new Hi(Ps.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,r){const o=new Ps(e,r);this.ts=this.ts.add(o),this.ns=this.ns.add(o)}rs(e,r){e.forEach(o=>this.addReference(o,r))}removeReference(e,r){this.os(new Ps(e,r))}cs(e,r){e.forEach(o=>this.removeReference(o,r))}us(e){const r=new rn(new Br([])),o=new Ps(r,e),u=new Ps(r,e+1),p=[];return this.ns.forEachInRange([o,u],v=>{this.os(v),p.push(v.key)}),p}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const r=new rn(new Br([])),o=new Ps(r,e),u=new Ps(r,e+1);let p=jr();return this.ns.forEachInRange([o,u],v=>{p=p.add(v.key)}),p}containsKey(e){const r=new Ps(e,0),o=this.ts.firstAfterOrEqual(r);return null!==o&&e.isEqual(o.key)}}class Ps{constructor(e,r){this.key=e,this.fs=r}static es(e,r){return rn.comparator(e.key,r.key)||Zn(e.fs,r.fs)}static ss(e,r){return Zn(e.fs,r.fs)||rn.comparator(e.key,r.key)}}class oy{constructor(e,r){this.Jt=e,this.referenceDelegate=r,this.An=[],this.ds=1,this.ws=new Hi(Ps.es)}checkEmpty(e){return _t.resolve(0===this.An.length)}addMutationBatch(e,r,o,u){const p=this.ds;this.ds++;const v=new g(p,r,o,u);this.An.push(v);for(const O of u)this.ws=this.ws.add(new Ps(O.key,p)),this.Jt.addToCollectionParentIndex(e,O.key.path.popLast());return _t.resolve(v)}lookupMutationBatch(e,r){return _t.resolve(this._s(r))}getNextMutationBatchAfterBatchId(e,r){const u=this.gs(r+1),p=u<0?0:u;return _t.resolve(this.An.length>p?this.An[p]:null)}getHighestUnacknowledgedBatchId(){return _t.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return _t.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const o=new Ps(r,0),u=new Ps(r,Number.POSITIVE_INFINITY),p=[];return this.ws.forEachInRange([o,u],v=>{const O=this._s(v.fs);p.push(O)}),_t.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new Hi(Zn);return r.forEach(u=>{const p=new Ps(u,0),v=new Ps(u,Number.POSITIVE_INFINITY);this.ws.forEachInRange([p,v],O=>{o=o.add(O.fs)})}),_t.resolve(this.ys(o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,u=o.length+1;let p=o;rn.isDocumentKey(p)||(p=p.child(""));const v=new Ps(new rn(p),0);let O=new Hi(Zn);return this.ws.forEachWhile(H=>{const X=H.key.path;return!!o.isPrefixOf(X)&&(X.length===u&&(O=O.add(H.fs)),!0)},v),_t.resolve(this.ys(O))}ys(e){const r=[];return e.forEach(o=>{const u=this._s(o);null!==u&&r.push(u)}),r}removeMutationBatch(e,r){k(0===this.ps(r.batchId,"removed")),this.An.shift();let o=this.ws;return _t.forEach(r.mutations,u=>{const p=new Ps(u.key,r.batchId);return o=o.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.ws=o})}ee(e){}containsKey(e,r){const o=new Ps(r,0),u=this.ws.firstAfterOrEqual(o);return _t.resolve(r.isEqual(u&&u.key))}performConsistencyCheck(e){return _t.resolve()}ps(e,r){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const r=this.gs(e);return r<0||r>=this.An.length?null:this.An[r]}}class Af{constructor(e,r){this.Jt=e,this.Ts=r,this.docs=new ts(rn.comparator),this.size=0}addEntry(e,r,o){const u=r.key,p=this.docs.get(u),v=p?p.size:0,O=this.Ts(r);return this.docs=this.docs.insert(u,{document:r.mutableCopy(),size:O,readTime:o}),this.size+=O-v,this.Jt.addToCollectionParentIndex(e,u.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const o=this.docs.get(r);return _t.resolve(o?o.document.mutableCopy():vi.newInvalidDocument(r))}getEntries(e,r){let o=zs();return r.forEach(u=>{const p=this.docs.get(u);o=o.insert(u,p?p.document.mutableCopy():vi.newInvalidDocument(u))}),_t.resolve(o)}getDocumentsMatchingQuery(e,r,o){let u=zs();const p=new rn(r.path.child("")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:O,value:{document:H,readTime:X}}=v.getNext();if(!r.path.isPrefixOf(O.path))break;X.compareTo(o)<=0||Kc(r,H)&&(u=u.insert(H.key,H.mutableCopy()))}return _t.resolve(u)}Es(e,r){return _t.forEach(this.docs,o=>r(o))}newChangeBuffer(e){return new ev(this)}getSize(e){return _t.resolve(this.size)}}class ev extends Ef{constructor(e){super(),this.De=e}applyChanges(e){const r=[];return this.changes.forEach((o,u)=>{u.document.isValidDocument()?r.push(this.De.addEntry(e,u.document,this.getReadTime(o))):this.De.removeEntry(o)}),_t.waitFor(r)}getFromCache(e,r){return this.De.getEntry(e,r)}getAllFromCache(e,r){return this.De.getEntries(e,r)}}class tv{constructor(e){this.persistence=e,this.Is=new wl(r=>M(r),Z),this.lastRemoteSnapshotVersion=Ln.min(),this.highestTargetId=0,this.As=0,this.Rs=new uh,this.targetCount=0,this.bs=Ju.ie()}forEachTarget(e,r){return this.Is.forEach((o,u)=>r(u)),_t.resolve()}getLastRemoteSnapshotVersion(e){return _t.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _t.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),_t.resolve(this.highestTargetId)}setTargetsMetadata(e,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.As&&(this.As=r),_t.resolve()}ae(e){this.Is.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.bs=new Ju(r),this.highestTargetId=r),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,r){return this.ae(r),this.targetCount+=1,_t.resolve()}updateTargetData(e,r){return this.ae(r),_t.resolve()}removeTargetData(e,r){return this.Is.delete(r.target),this.Rs.us(r.targetId),this.targetCount-=1,_t.resolve()}removeTargets(e,r,o){let u=0;const p=[];return this.Is.forEach((v,O)=>{O.sequenceNumber<=r&&null===o.get(O.targetId)&&(this.Is.delete(v),p.push(this.removeMatchingKeysForTargetId(e,O.targetId)),u++)}),_t.waitFor(p).next(()=>u)}getTargetCount(e){return _t.resolve(this.targetCount)}getTargetData(e,r){const o=this.Is.get(r)||null;return _t.resolve(o)}addMatchingKeys(e,r,o){return this.Rs.rs(r,o),_t.resolve()}removeMatchingKeys(e,r,o){this.Rs.cs(r,o);const u=this.persistence.referenceDelegate,p=[];return u&&r.forEach(v=>{p.push(u.markPotentiallyOrphaned(e,v))}),_t.waitFor(p)}removeMatchingKeysForTargetId(e,r){return this.Rs.us(r),_t.resolve()}getMatchingKeysForTargetId(e,r){const o=this.Rs.ls(r);return _t.resolve(o)}containsKey(e,r){return _t.resolve(this.Rs.containsKey(r))}}class nv{constructor(e,r){this.Ps={},this.Be=new kr(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new tv(this),this.Jt=new id,this.Je=new Af(this.Jt,o=>this.referenceDelegate.vs(o)),this.k=new y(r),this.Ye=new X_(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let r=this.Ps[e.toKey()];return r||(r=new oy(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=r),r}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,r,o){St("MemoryPersistence","Starting transaction:",e);const u=new rv(this.Be.next());return this.referenceDelegate.Vs(),o(u).next(p=>this.referenceDelegate.Ss(u).next(()=>p)).toPromise().then(p=>(u.raiseOnCommittedEvent(),p))}Ds(e,r){return _t.or(Object.values(this.Ps).map(o=>()=>o.containsKey(e,r)))}}class rv extends Dc{constructor(e){super(),this.currentSequenceNumber=e}}class mg{constructor(e){this.persistence=e,this.Cs=new uh,this.Ns=null}static ks(e){return new mg(e)}get xs(){if(this.Ns)return this.Ns;throw C()}addReference(e,r,o){return this.Cs.addReference(o,r),this.xs.delete(o.toString()),_t.resolve()}removeReference(e,r,o){return this.Cs.removeReference(o,r),this.xs.add(o.toString()),_t.resolve()}markPotentiallyOrphaned(e,r){return this.xs.add(r.toString()),_t.resolve()}removeTarget(e,r){this.Cs.us(r.targetId).forEach(u=>this.xs.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,r.targetId).next(u=>{u.forEach(p=>this.xs.add(p.toString()))}).next(()=>o.removeTargetData(e,r))}Vs(){this.Ns=new Set}Ss(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _t.forEach(this.xs,o=>{const u=rn.fromPath(o);return this.$s(e,u).next(p=>{p||r.removeEntry(u)})}).next(()=>(this.Ns=null,r.apply(e)))}updateLimboDocument(e,r){return this.$s(e,r).next(o=>{o?this.xs.delete(r.toString()):this.xs.add(r.toString())})}vs(e){return 0}$s(e,r){return _t.or([()=>_t.resolve(this.Cs.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ds(e,r)])}}function ay(i,e){return`firestore_clients_${i}_${e}`}function uy(i,e,r){let o=`firestore_mutations_${i}_${r}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function yg(i,e){return`firestore_targets_${i}_${e}`}class Sf{constructor(e,r,o,u){this.user=e,this.batchId=r,this.state=o,this.error=u}static Os(e,r,o){const u=JSON.parse(o);let p,v="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return v&&u.error&&(v="string"==typeof u.error.message&&"string"==typeof u.error.code,v&&(p=new Ee(u.error.code,u.error.message))),v?new Sf(e,r,u.state,p):(I("SharedClientState",`Failed to parse mutation state for ID '${r}': ${o}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ch{constructor(e,r,o){this.targetId=e,this.state=r,this.error=o}static Os(e,r){const o=JSON.parse(r);let u,p="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return p&&o.error&&(p="string"==typeof o.error.message&&"string"==typeof o.error.code,p&&(u=new Ee(o.error.code,o.error.message))),p?new ch(e,o.state,u):(I("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ha{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Os(e,r){const o=JSON.parse(r);let u="object"==typeof o&&o.activeTargetIds instanceof Array,p=bc();for(let v=0;u&&v<o.activeTargetIds.length;++v)u=gc(o.activeTargetIds[v]),p=p.add(o.activeTargetIds[v]);return u?new Ha(e,p):(I("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class cd{constructor(e,r){this.clientId=e,this.onlineState=r}static Os(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new cd(r.clientId,r.onlineState):(I("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Mf{constructor(){this.activeTargetIds=bc()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ms(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lh{constructor(e,r,o,u,p){this.window=e,this.Me=r,this.persistenceKey=o,this.Bs=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new ts(Zn),this.started=!1,this.js=[];const v=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=p,this.Qs=ay(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new Mf),this.Gs=new RegExp(`^firestore_clients_${v}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${v}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${v}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(O){return`firestore_bundle_loaded_${O}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static Pt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ne.Z)(function*(){const r=yield e.syncEngine.Tn();for(const u of r){if(u===e.Bs)continue;const p=e.getItem(ay(e.persistenceKey,u));if(p){const v=Ha.Os(u,p);v&&(e.Ks=e.Ks.insert(v.clientId,v))}}e.Xs();const o=e.storage.getItem(e.Js);if(o){const u=e.Zs(o);u&&e.ti(u)}for(const u of e.js)e.qs(u);e.js=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let r=!1;return this.Ks.forEach((o,u)=>{u.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,r,o){this.ni(e,r,o),this.si(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(yg(this.persistenceKey,e));if(o){const u=ch.Os(e,o);u&&(r=u.state)}}return this.ii.Fs(e),this.Xs(),r}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(yg(this.persistenceKey,e))}updateQueryState(e,r,o){this.ri(e,r,o)}handleUserChange(e,r,o){r.forEach(u=>{this.si(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ci()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return St("SharedClientState","READ",e,r),r}setItem(e,r){St("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){St("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){var r=this;const o=e;if(o.storageArea===this.storage){if(St("SharedClientState","EVENT",o.key,o.newValue),o.key===this.Qs)return void I("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable((0,ne.Z)(function*(){if(r.started){if(null!==o.key)if(r.Gs.test(o.key)){if(null==o.newValue){const u=r.ai(o.key);return r.ui(u,null)}{const u=r.hi(o.key,o.newValue);if(u)return r.ui(u.clientId,u)}}else if(r.zs.test(o.key)){if(null!==o.newValue){const u=r.li(o.key,o.newValue);if(u)return r.fi(u)}}else if(r.Hs.test(o.key)){if(null!==o.newValue){const u=r.di(o.key,o.newValue);if(u)return r.wi(u)}}else if(o.key===r.Js){if(null!==o.newValue){const u=r.Zs(o.newValue);if(u)return r.ti(u)}}else if(o.key===r.Ws){const u=function(p){let v=kr.I;if(null!=p)try{const O=JSON.parse(p);k("number"==typeof O),v=O}catch(O){I("SharedClientState","Failed to read sequence number from WebStorage",O)}return v}(o.newValue);u!==kr.I&&r.sequenceNumberHandler(u)}else if(o.key===r.Ys)return r.syncEngine._i()}else r.js.push(o)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Ms())}ni(e,r,o){const u=new Sf(this.currentUser,e,r,o),p=uy(this.persistenceKey,this.currentUser,e);this.setItem(p,u.Ms())}si(e){const r=uy(this.persistenceKey,this.currentUser,e);this.removeItem(r)}oi(e){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:e}))}ri(e,r,o){const u=yg(this.persistenceKey,e),p=new ch(e,r,o);this.setItem(u,p.Ms())}ci(){this.setItem(this.Ys,"value-not-used")}ai(e){const r=this.Gs.exec(e);return r?r[1]:null}hi(e,r){const o=this.ai(e);return Ha.Os(o,r)}li(e,r){const o=this.zs.exec(e),u=Number(o[1]);return Sf.Os(new yi(void 0!==o[2]?o[2]:null),u,r)}di(e,r){const o=this.Hs.exec(e),u=Number(o[1]);return ch.Os(u,r)}Zs(e){return cd.Os(e)}fi(e){var r=this;return(0,ne.Z)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.mi(e.batchId,e.state,e.error);St("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,r){const o=r?this.Ks.insert(e,r):this.Ks.remove(e),u=this.ei(this.Ks),p=this.ei(o),v=[],O=[];return p.forEach(H=>{u.has(H)||v.push(H)}),u.forEach(H=>{p.has(H)||O.push(H)}),this.syncEngine.yi(v,O).then(()=>{this.Ks=o})}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let r=bc();return e.forEach((o,u)=>{r=r.unionWith(u.activeTargetIds)}),r}}class dh{constructor(){this.pi=new Mf,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,o){}addLocalQueryTarget(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}updateQueryState(e,r,o){this.Ti[e]=r}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new Mf,Promise.resolve()}handleUserChange(e,r,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class _g{Ei(e){}shutdown(){}}class hh{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){St("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}bi(){St("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const cy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class nc{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Oi(e){this.ki(e)}Mi(e){this.xi(e)}}class vg extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,r,o,u,p){const v=this.Ui(e,r);St("RestConnection","Sending: ",v,o);const O={};return this.qi(O,u,p),this.Ki(e,v,O,o).then(H=>(St("RestConnection","Received: ",H),H),H=>{throw w("RestConnection",`${e} failed with error: `,H,"url: ",v,"request:",o),H})}ji(e,r,o,u,p){return this.Bi(e,r,o,u,p)}qi(e,r,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+ca,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((u,p)=>e[p]=u),o&&o.headers.forEach((u,p)=>e[p]=u)}Ui(e,r){return`${this.Fi}/v1/${r}:${cy[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,r,o,u){return new Promise((p,v)=>{const O=new _s;O.listenOnce(gn.COMPLETE,()=>{try{switch(O.getLastErrorCode()){case ht.NO_ERROR:const X=O.getResponseJson();St("Connection","XHR received:",JSON.stringify(X)),p(X);break;case ht.TIMEOUT:St("Connection",'RPC "'+e+'" timed out'),v(new Ee(Y.DEADLINE_EXCEEDED,"Request time out"));break;case ht.HTTP_ERROR:const pe=O.getStatus();if(St("Connection",'RPC "'+e+'" failed with status:',pe,"response text:",O.getResponseText()),pe>0){const ke=O.getResponseJson().error;if(ke&&ke.status&&ke.message){const it=function(Xe){const Pt=Xe.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(Pt)>=0?Pt:Y.UNKNOWN}(ke.status);v(new Ee(it,ke.message))}else v(new Ee(Y.UNKNOWN,"Server responded with status "+O.getStatus()))}else v(new Ee(Y.UNAVAILABLE,"Connection failed."));break;default:C()}}finally{St("Connection",'RPC "'+e+'" completed.')}});const H=JSON.stringify(u);O.send(r,"POST",H,o,15)})}Qi(e,r,o){const u=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=j(),v=ve(),O={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(O.xmlHttpFactory=new fi({})),this.qi(O.initMessageHeaders,r,o),(0,Ke.uI)()||(0,Ke.b$)()||(0,Ke.d)()||(0,Ke.w1)()||(0,Ke.Mn)()||(0,Ke.ru)()||(O.httpHeadersOverwriteParam="$httpHeaders");const H=u.join("");St("Connection","Creating WebChannel: "+H,O);const X=p.createWebChannel(H,O);let pe=!1,ke=!1;const it=new nc({Vi:Pt=>{ke?St("Connection","Not sending because WebChannel is closed:",Pt):(pe||(St("Connection","Opening WebChannel transport."),X.open(),pe=!0),St("Connection","WebChannel sending:",Pt),X.send(Pt))},Si:()=>X.close()}),Xe=(Pt,vn,fr)=>{Pt.listen(vn,is=>{try{fr(is)}catch(go){setTimeout(()=>{throw go},0)}})};return Xe(X,Bs.EventType.OPEN,()=>{ke||St("Connection","WebChannel transport opened.")}),Xe(X,Bs.EventType.CLOSE,()=>{ke||(ke=!0,St("Connection","WebChannel transport closed"),it.Oi())}),Xe(X,Bs.EventType.ERROR,Pt=>{ke||(ke=!0,w("Connection","WebChannel transport errored:",Pt),it.Oi(new Ee(Y.UNAVAILABLE,"The operation could not be completed")))}),Xe(X,Bs.EventType.MESSAGE,Pt=>{var vn;if(!ke){const fr=Pt.data[0];k(!!fr);const is=fr,go=is.error||(null===(vn=is[0])||void 0===vn?void 0:vn.error);if(go){St("Connection","WebChannel received error:",go);const xa=go.status;let na=function(km){const kd=$i[km];if(void 0!==kd)return ql(kd)}(xa),ei=go.message;void 0===na&&(na=Y.INTERNAL,ei="Unknown error status: "+xa+" with message "+go.message),ke=!0,it.Oi(new Ee(na,ei)),X.close()}else St("Connection","WebChannel received:",fr),it.Mi(fr)}}),Xe(v,ii.STAT_EVENT,Pt=>{Pt.stat===Ui.PROXY?St("Connection","Detected buffering proxy"):Pt.stat===Ui.NOPROXY&&St("Connection","Detected no buffering proxy")}),setTimeout(()=>{it.$i()},0),it}}function wg(){return"undefined"!=typeof window?window:null}function Il(){return"undefined"!=typeof document?document:null}function ld(i){return new hf(i,!0)}class fh{constructor(e,r,o=1e3,u=1.5,p=6e4){this.Me=e,this.timerId=r,this.Wi=o,this.Gi=u,this.zi=p,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const r=Math.floor(this.Hi+this.tr()),o=Math.max(0,Date.now()-this.Yi),u=Math.max(0,r-o);u>0&&St("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Hi} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,u,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class Eg{constructor(e,r,o,u,p,v,O,H){this.Me=e,this.nr=o,this.sr=u,this.ir=p,this.authCredentialsProvider=v,this.appCheckCredentialsProvider=O,this.listener=H,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new fh(e,r)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return(0,ne.Z)(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return(0,ne.Z)(function*(){if(e.lr())return e.close(0)})()}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}close(e,r){var o=this;return(0,ne.Z)(function*(){o.yr(),o.pr(),o.ur.cancel(),o.rr++,4!==e?o.ur.reset():r&&r.code===Y.RESOURCE_EXHAUSTED?(I(r.toString()),I("Using maximum backoff delay to prevent overloading the backend."),o.ur.Xi()):r&&r.code===Y.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Tr(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Ni(r)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),r=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.rr===r&&this.Ir(o,u)},o=>{e(()=>{const u=new Ee(Y.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Ar(u)})})}Ir(e,r){const o=this.Er(this.rr);this.stream=this.Rr(e,r),this.stream.Di(()=>{o(()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(u=>{o(()=>this.Ar(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}dr(){var e=this;this.state=5,this.ur.Zi((0,ne.Z)(function*(){e.state=0,e.start()}))}Ar(e){return St("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return r=>{this.Me.enqueueAndForget(()=>this.rr===e?r():(St("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ly extends Eg{constructor(e,r,o,u,p,v){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,u,v),this.k=p}Rr(e,r){return this.ir.Qi("Listen",e,r)}onMessage(e){this.ur.reset();const r=function al(i,e){let r;if("targetChange"in e){const o="NO_CHANGE"===(H=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===H?1:"REMOVE"===H?2:"CURRENT"===H?3:"RESET"===H?4:C(),u=e.targetChange.targetIds||[],p=function(H,X){return H.C?(k(void 0===X||"string"==typeof X),Ri.fromBase64String(X||"")):(k(void 0===X||X instanceof Uint8Array),Ri.fromUint8Array(X||new Uint8Array))}(i,e.targetChange.resumeToken),v=e.targetChange.cause,O=v&&function(H){const X=void 0===H.code?Y.UNKNOWN:ql(H.code);return new Ee(X,H.message||"")}(v);r=new lf(o,u,p,O||null)}else if("documentChange"in e){const o=e.documentChange,u=ko(i,o.document.name),p=Os(o.document.updateTime),v=new hs({mapValue:{fields:o.document.fields}}),O=vi.newFoundDocument(u,p,v);r=new tl(o.targetIds||[],o.removedTargetIds||[],O.key,O)}else if("documentDelete"in e){const o=e.documentDelete,u=ko(i,o.document),p=o.readTime?Os(o.readTime):Ln.min(),v=vi.newNoDocument(u,p);r=new tl([],o.removedTargetIds||[],v.key,v)}else if("documentRemove"in e){const o=e.documentRemove,u=ko(i,o.document);r=new tl([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return C();{const o=e.filter,p=new $u(o.count||0);r=new nl(o.targetId,p)}}var H;return r}(this.k,e),o=function(u){if(!("targetChange"in u))return Ln.min();const p=u.targetChange;return p.targetIds&&p.targetIds.length?Ln.min():p.readTime?Os(p.readTime):Ln.min()}(e);return this.listener.br(r,o)}Pr(e){const r={};r.database=Gi(this.k),r.addTarget=function(u,p){let v;const O=p.target;return v=de(O)?{documents:td(u,O)}:{query:qd(u,O)},v.targetId=p.targetId,p.resumeToken.approximateByteSize()>0?v.resumeToken=rl(u,p.resumeToken):p.snapshotVersion.compareTo(Ln.min())>0&&(v.readTime=Ic(u,p.snapshotVersion.toTimestamp())),v}(this.k,e);const o=function ll(i,e){const r=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return C()}}(0,e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);o&&(r.labels=o),this.gr(r)}vr(e){const r={};r.database=Gi(this.k),r.removeTarget=e,this.gr(r)}}class dd extends Eg{constructor(e,r,o,u,p,v){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,u,v),this.k=p,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,r){return this.ir.Qi("Write",e,r)}onMessage(e){if(k(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const r=function cl(i,e){return i&&i.length>0?(k(void 0!==e),i.map(r=>function(o,u){let p=Os(o.updateTime?o.updateTime:u);return p.isEqual(Ln.min())&&(p=Os(u)),new sf(p,o.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),o=Os(e.commitTime);return this.listener.Cr(o,r)}return k(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=Gi(this.k),this.gr(e)}Dr(e){const r={streamToken:this.lastStreamToken,writes:e.map(o=>ul(this.k,o))};this.gr(r)}}class Dl extends class{}{constructor(e,r,o,u){super(),this.authCredentials=e,this.appCheckCredentials=r,this.ir=o,this.k=u,this.$r=!1}Or(){if(this.$r)throw new Ee(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,r,o){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,p])=>this.ir.Bi(e,r,o,u,p)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ee(Y.UNKNOWN,u.toString())})}ji(e,r,o){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,p])=>this.ir.ji(e,r,o,u,p)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ee(Y.UNKNOWN,u.toString())})}terminate(){this.$r=!0}}class xf{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(I(r),this.Lr=!1):St("OnlineStateTracker",r)}jr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class Cl{constructor(e,r,o,u,p){var v=this;this.localStore=e,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=p,this.Hr.Ei(O=>{o.enqueueAndForget((0,ne.Z)(function*(){var H;Mu(v)&&(St("RemoteStore","Restarting streams for network reachability change."),yield(H=(0,ne.Z)(function*(X){const pe=Q(X);pe.Gr.add(4),yield Tl(pe),pe.Jr.set("Unknown"),pe.Gr.delete(4),yield Su(pe)}),function(X){return H.apply(this,arguments)})(v))}))}),this.Jr=new xf(o,u)}}function Su(i){return rc.apply(this,arguments)}function rc(){return rc=(0,ne.Z)(function*(i){if(Mu(i))for(const e of i.zr)yield e(!0)}),rc.apply(this,arguments)}function Tl(i){return ph.apply(this,arguments)}function ph(){return ph=(0,ne.Z)(function*(i){for(const e of i.zr)yield e(!1)}),ph.apply(this,arguments)}function hd(i,e){const r=Q(i);r.Wr.has(e.targetId)||(r.Wr.set(e.targetId,e),Rf(r)?Al(r):Mc(r).lr()&&fd(r,e))}function Sc(i,e){const r=Q(i),o=Mc(r);r.Wr.delete(e),o.lr()&&Of(r,e),0===r.Wr.size&&(o.lr()?o._r():Mu(r)&&r.Jr.set("Unknown"))}function fd(i,e){i.Yr.X(e.targetId),Mc(i).Pr(e)}function Of(i,e){i.Yr.X(e),Mc(i).vr(e)}function Al(i){i.Yr=new df({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.Wr.get(e)||null}),Mc(i).start(),i.Jr.Br()}function Rf(i){return Mu(i)&&!Mc(i).hr()&&i.Wr.size>0}function Mu(i){return 0===Q(i).Gr.size}function dy(i){i.Yr=void 0}function bg(i){return gh.apply(this,arguments)}function gh(){return gh=(0,ne.Z)(function*(i){i.Wr.forEach((e,r)=>{fd(i,e)})}),gh.apply(this,arguments)}function hy(i,e){return mh.apply(this,arguments)}function mh(){return mh=(0,ne.Z)(function*(i,e){dy(i),Rf(i)?(i.Jr.Kr(e),Al(i)):i.Jr.set("Unknown")}),mh.apply(this,arguments)}function fy(i,e,r){return Pf.apply(this,arguments)}function Pf(){return Pf=(0,ne.Z)(function*(i,e,r){if(i.Jr.set("Online"),e instanceof lf&&2===e.state&&e.cause)try{yield(o=(0,ne.Z)(function*(u,p){const v=p.cause;for(const O of p.targetIds)u.Wr.has(O)&&(yield u.remoteSyncer.rejectListen(O,v),u.Wr.delete(O),u.Yr.removeTarget(O))}),function(u,p){return o.apply(this,arguments)})(i,e)}catch(o){St("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield lo(i,o)}else if(e instanceof tl?i.Yr.ot(e):e instanceof nl?i.Yr.dt(e):i.Yr.ut(e),!r.isEqual(Ln.min()))try{const o=yield ty(i.localStore);r.compareTo(o)>=0&&(yield function(u,p){const v=u.Yr.gt(p);return v.targetChanges.forEach((O,H)=>{if(O.resumeToken.approximateByteSize()>0){const X=u.Wr.get(H);X&&u.Wr.set(H,X.withResumeToken(O.resumeToken,p))}}),v.targetMismatches.forEach(O=>{const H=u.Wr.get(O);if(!H)return;u.Wr.set(O,H.withResumeToken(Ri.EMPTY_BYTE_STRING,H.snapshotVersion)),Of(u,O);const X=new d(H.target,O,1,H.sequenceNumber);fd(u,X)}),u.remoteSyncer.applyRemoteEvent(v)}(i,r))}catch(o){St("RemoteStore","Failed to raise snapshot:",o),yield lo(i,o)}var o}),Pf.apply(this,arguments)}function lo(i,e,r){return Nf.apply(this,arguments)}function Nf(){return Nf=(0,ne.Z)(function*(i,e,r){if(!Da(e))throw e;i.Gr.add(1),yield Tl(i),i.Jr.set("Offline"),r||(r=()=>ty(i.localStore)),i.asyncQueue.enqueueRetryable((0,ne.Z)(function*(){St("RemoteStore","Retrying IndexedDB access"),yield r(),i.Gr.delete(1),yield Su(i)}))}),Nf.apply(this,arguments)}function Ig(i,e){return e().catch(r=>lo(i,r,e))}function pd(i){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,ne.Z)(function*(i){const e=Q(i),r=ic(e);let o=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;Cg(e);)try{const u=yield oh(e.localStore,o);if(null===u){0===e.Qr.length&&r._r();break}o=u.batchId,iv(e,u)}catch(u){yield lo(e,u)}Tg(e)&&yh(e)}),Dg.apply(this,arguments)}function Cg(i){return Mu(i)&&i.Qr.length<10}function iv(i,e){i.Qr.push(e);const r=ic(i);r.lr()&&r.Sr&&r.Dr(e.mutations)}function Tg(i){return Mu(i)&&!ic(i).hr()&&i.Qr.length>0}function yh(i){ic(i).start()}function Ag(i){return kf.apply(this,arguments)}function kf(){return kf=(0,ne.Z)(function*(i){ic(i).kr()}),kf.apply(this,arguments)}function py(i){return Ff.apply(this,arguments)}function Ff(){return Ff=(0,ne.Z)(function*(i){const e=ic(i);for(const r of i.Qr)e.Dr(r.mutations)}),Ff.apply(this,arguments)}function Sg(i,e,r){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,ne.Z)(function*(i,e,r){const o=i.Qr.shift(),u=l.from(o,e,r);yield Ig(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield pd(i)}),Lf.apply(this,arguments)}function Mg(i,e){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,ne.Z)(function*(i,e){var r;e&&ic(i).Sr&&(yield(r=(0,ne.Z)(function*(o,u){if(Hu(p=u.code)&&p!==Y.ABORTED){const v=o.Qr.shift();ic(o).wr(),yield Ig(o,()=>o.remoteSyncer.rejectFailedWrite(v.batchId,u)),yield pd(o)}var p}),function(o,u){return r.apply(this,arguments)})(i,e)),Tg(i)&&yh(i)}),Vf.apply(this,arguments)}function Uf(i,e){return _h.apply(this,arguments)}function _h(){return _h=(0,ne.Z)(function*(i,e){const r=Q(i);e?(r.Gr.delete(2),yield Su(r)):e||(r.Gr.add(2),yield Tl(r),r.Jr.set("Unknown"))}),_h.apply(this,arguments)}function Mc(i){return i.Xr||(i.Xr=function(e,r,o){const u=Q(e);return u.Or(),new ly(r,u.ir,u.authCredentials,u.appCheckCredentials,u.k,o)}(i.datastore,i.asyncQueue,{Di:bg.bind(null,i),Ni:hy.bind(null,i),br:fy.bind(null,i)}),i.zr.push(function(){var e=(0,ne.Z)(function*(r){r?(i.Xr.wr(),Rf(i)?Al(i):i.Jr.set("Unknown")):(yield i.Xr.stop(),dy(i))});return function(r){return e.apply(this,arguments)}}())),i.Xr}function ic(i){return i.Zr||(i.Zr=function(e,r,o){const u=Q(e);return u.Or(),new dd(r,u.ir,u.authCredentials,u.appCheckCredentials,u.k,o)}(i.datastore,i.asyncQueue,{Di:Ag.bind(null,i),Ni:Mg.bind(null,i),Nr:py.bind(null,i),Cr:Sg.bind(null,i)}),i.zr.push(function(){var e=(0,ne.Z)(function*(r){r?(i.Zr.wr(),yield pd(i)):(yield i.Zr.stop(),i.Qr.length>0&&(St("RemoteStore",`Stopping write stream with ${i.Qr.length} pending writes`),i.Qr=[]))});return function(r){return e.apply(this,arguments)}}())),i.Zr}class Ta{constructor(e,r,o,u,p){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=o,this.op=u,this.removalCallback=p,this.deferred=new Ct,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}static createAndSchedule(e,r,o,u,p){const v=Date.now()+o,O=new Ta(e,r,v,u,p);return O.start(o),O}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ee(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sc(i,e){if(I("AsyncQueue",`${e}: ${i}`),Da(i))return new Ee(Y.UNAVAILABLE,`${e}: ${i}`);throw i}class Sl{constructor(e){this.comparator=e?(r,o)=>e(r,o)||rn.comparator(r.key,o.key):(r,o)=>rn.comparator(r.key,o.key),this.keyedMap=Xc(),this.sortedSet=new ts(this.comparator)}static emptySet(e){return new Sl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,o)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Sl)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;r.hasNext();){const u=r.getNext().key,p=o.getNext().key;if(!u.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const o=new Sl;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=r,o}}class xg{constructor(){this.eo=new ts(rn.comparator)}track(e){const r=e.doc.key,o=this.eo.get(r);o?0!==e.type&&3===o.type?this.eo=this.eo.insert(r,e):3===e.type&&1!==o.type?this.eo=this.eo.insert(r,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.eo=this.eo.insert(r,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.eo=this.eo.insert(r,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.eo=this.eo.remove(r):1===e.type&&2===o.type?this.eo=this.eo.insert(r,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.eo=this.eo.insert(r,{type:2,doc:e.doc}):C():this.eo=this.eo.insert(r,e)}no(){const e=[];return this.eo.inorderTraversal((r,o)=>{e.push(o)}),e}}class gd{constructor(e,r,o,u,p,v,O,H){this.query=e,this.docs=r,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=p,this.fromCache=v,this.syncStateChanged=O,this.excludesMetadataChanges=H}static fromInitialDocuments(e,r,o,u){const p=[];return r.forEach(v=>{p.push({type:0,doc:v})}),new gd(e,r,Sl.emptySet(r),p,o,u,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,o=e.docChanges;if(r.length!==o.length)return!1;for(let u=0;u<r.length;u++)if(r[u].type!==o[u].type||!r[u].doc.isEqual(o[u].doc))return!1;return!0}}class Og{constructor(){this.so=void 0,this.listeners=[]}}class gy{constructor(){this.queries=new wl(e=>Bl(e),zc),this.onlineState="Unknown",this.io=new Set}}function Bf(i,e){return jf.apply(this,arguments)}function jf(){return jf=(0,ne.Z)(function*(i,e){const r=Q(i),o=e.query;let u=!1,p=r.queries.get(o);if(p||(u=!0,p=new Og),u)try{p.so=yield r.onListen(o)}catch(v){const O=sc(v,`Initialization of query '${wc(e.query)}' failed`);return void e.onError(O)}r.queries.set(o,p),p.listeners.push(e),e.ro(r.onlineState),p.so&&e.oo(p.so)&&yd(r)}),jf.apply(this,arguments)}function md(i,e){return $f.apply(this,arguments)}function $f(){return $f=(0,ne.Z)(function*(i,e){const r=Q(i),o=e.query;let u=!1;const p=r.queries.get(o);if(p){const v=p.listeners.indexOf(e);v>=0&&(p.listeners.splice(v,1),u=0===p.listeners.length)}if(u)return r.queries.delete(o),r.onUnlisten(o)}),$f.apply(this,arguments)}function my(i,e){const r=Q(i);let o=!1;for(const u of e){const v=r.queries.get(u.query);if(v){for(const O of v.listeners)O.oo(u)&&(o=!0);v.so=u}}o&&yd(r)}function vh(i,e,r){const o=Q(i),u=o.queries.get(e);if(u)for(const p of u.listeners)p.onError(r);o.queries.delete(e)}function yd(i){i.io.forEach(e=>{e.next()})}class Hf{constructor(e,r,o){this.query=e,this.co=r,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=o||{}}oo(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new gd(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let r=!1;return this.ao?this.ho(e)&&(this.co.next(e),r=!0):this.lo(e,this.onlineState)&&(this.fo(e),r=!0),this.uo=e,r}onError(e){this.co.error(e)}ro(e){this.onlineState=e;let r=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),r=!0),r}lo(e,r){return!e.fromCache||!(this.options.wo&&"Offline"!==r||e.docs.isEmpty()&&"Offline"!==r)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=gd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}class Gf{constructor(e,r){this.payload=e,this.byteLength=r}_o(){return"metadata"in this.payload}}class wh{constructor(e){this.k=e}Hn(e){return ko(this.k,e)}Jn(e){return e.metadata.exists?Kd(this.k,e.document,!1):vi.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return Os(e)}}class Rg{constructor(e,r,o){this.mo=e,this.localStore=r,this.k=o,this.queries=[],this.documents=[],this.progress=Pg(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++r):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++r),r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}po(e){const r=new Map,o=new wh(this.k);for(const u of e)if(u.metadata.queries){const p=o.Hn(u.metadata.name);for(const v of u.metadata.queries){const O=(r.get(v)||jr()).add(p);r.set(v,O)}}return r}complete(){var e=this;return(0,ne.Z)(function*(){const r=yield function sy(i,e,r,o){return ah.apply(this,arguments)}(e.localStore,new wh(e.k),e.documents,e.mo.id),o=e.po(e.documents);for(const u of e.queries)yield J_(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",new nh(Object.assign({},e.progress),r)})()}}function Pg(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Ng{constructor(e){this.key=e}}class Eh{constructor(e){this.key=e}}class yy{constructor(e,r){this.query=e,this.To=r,this.Eo=null,this.current=!1,this.Io=jr(),this.mutatedKeys=jr(),this.Ao=Ud(e),this.Ro=new Sl(this.Ao)}get bo(){return this.To}Po(e,r){const o=r?r.vo:new xg,u=r?r.Ro:this.Ro;let p=r?r.mutatedKeys:this.mutatedKeys,v=u,O=!1;const H=Vu(this.query)&&u.size===this.query.limit?u.last():null,X=Eu(this.query)&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((pe,ke)=>{const it=u.get(pe),Xe=Kc(this.query,ke)?ke:null,Pt=!!it&&this.mutatedKeys.has(it.key),vn=!!Xe&&(Xe.hasLocalMutations||this.mutatedKeys.has(Xe.key)&&Xe.hasCommittedMutations);let fr=!1;it&&Xe?it.data.isEqual(Xe.data)?Pt!==vn&&(o.track({type:3,doc:Xe}),fr=!0):this.Vo(it,Xe)||(o.track({type:2,doc:Xe}),fr=!0,(H&&this.Ao(Xe,H)>0||X&&this.Ao(Xe,X)<0)&&(O=!0)):!it&&Xe?(o.track({type:0,doc:Xe}),fr=!0):it&&!Xe&&(o.track({type:1,doc:it}),fr=!0,(H||X)&&(O=!0)),fr&&(Xe?(v=v.add(Xe),p=vn?p.add(pe):p.delete(pe)):(v=v.delete(pe),p=p.delete(pe)))}),Vu(this.query)||Eu(this.query))for(;v.size>this.query.limit;){const pe=Vu(this.query)?v.last():v.first();v=v.delete(pe.key),p=p.delete(pe.key),o.track({type:1,doc:pe})}return{Ro:v,vo:o,Bn:O,mutatedKeys:p}}Vo(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,o){const u=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const p=e.vo.no();p.sort((X,pe)=>function(ke,it){const Xe=Pt=>{switch(Pt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return C()}};return Xe(ke)-Xe(it)}(X.type,pe.type)||this.Ao(X.doc,pe.doc)),this.So(o);const v=r?this.Do():[],O=0===this.Io.size&&this.current?1:0,H=O!==this.Eo;return this.Eo=O,0!==p.length||H?{snapshot:new gd(this.query,e.Ro,u,p,e.mutatedKeys,0===O,H,!1),Co:v}:{Co:v}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new xg,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(r=>this.To=this.To.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.To=this.To.delete(r)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=jr(),this.Ro.forEach(o=>{this.No(o.key)&&(this.Io=this.Io.add(o.key))});const r=[];return e.forEach(o=>{this.Io.has(o)||r.push(new Eh(o))}),this.Io.forEach(o=>{e.has(o)||r.push(new Ng(o))}),r}ko(e){this.To=e.zn,this.Io=jr();const r=this.Po(e.documents);return this.applyChanges(r,!0)}xo(){return gd.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class _y{constructor(e,r,o){this.query=e,this.targetId=r,this.view=o}}class kg{constructor(e){this.key=e,this.$o=!1}}class Fg{constructor(e,r,o,u,p,v){this.localStore=e,this.remoteStore=r,this.eventManager=o,this.sharedClientState=u,this.currentUser=p,this.maxConcurrentLimboResolutions=v,this.Oo={},this.Mo=new wl(O=>Bl(O),zc),this.Fo=new Map,this.Lo=new Set,this.Bo=new ts(rn.comparator),this.Uo=new Map,this.qo=new uh,this.Ko={},this.jo=new Map,this.Qo=Ju.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function Lg(i,e){return bh.apply(this,arguments)}function bh(){return bh=(0,ne.Z)(function*(i,e){const r=Wg(i);let o,u;const p=r.Mo.get(e);if(p)o=p.targetId,r.sharedClientState.addLocalQueryTarget(o),u=p.view.xo();else{const v=yield Au(r.localStore,xs(e)),O=r.sharedClientState.addLocalQueryTarget(v.targetId);o=v.targetId,u=yield Ih(r,e,o,"current"===O),r.isPrimaryClient&&hd(r.remoteStore,v)}return u}),bh.apply(this,arguments)}function Ih(i,e,r,o){return Ga.apply(this,arguments)}function Ga(){return Ga=(0,ne.Z)(function*(i,e,r,o){i.Go=(pe,ke,it)=>{return(Xe=(0,ne.Z)(function*(Pt,vn,fr,is){let go=vn.view.Po(fr);go.Bn&&(go=yield bl(Pt.localStore,vn.query,!1).then(({documents:ei})=>vn.view.Po(ei,go)));const xa=is&&is.targetChanges.get(vn.targetId),na=vn.view.applyChanges(go,Pt.isPrimaryClient,xa);return xh(Pt,vn.targetId,na.Co),na.snapshot}),function(Pt,vn,fr,is){return Xe.apply(this,arguments)})(i,pe,ke,it);var Xe};const u=yield bl(i.localStore,e,!0),p=new yy(e,u.zn),v=p.Po(u.documents),O=iu.createSynthesizedTargetChangeForCurrentChange(r,o&&"Offline"!==i.onlineState),H=p.applyChanges(v,i.isPrimaryClient,O);xh(i,r,H.Co);const X=new _y(e,r,p);return i.Mo.set(e,X),i.Fo.has(r)?i.Fo.get(r).push(e):i.Fo.set(r,[e]),H.snapshot}),Ga.apply(this,arguments)}function Dh(i,e){return Wf.apply(this,arguments)}function Wf(){return Wf=(0,ne.Z)(function*(i,e){const r=Q(i),o=r.Mo.get(e),u=r.Fo.get(o.targetId);if(u.length>1)return r.Fo.set(o.targetId,u.filter(p=>!zc(p,e))),void r.Mo.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||(yield tc(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),Sc(r.remoteStore,o.targetId),xc(r,o.targetId)}).catch(Xu))):(xc(r,o.targetId),yield tc(r.localStore,o.targetId,!0))}),Wf.apply(this,arguments)}function Vg(){return Vg=(0,ne.Z)(function*(i,e,r){const o=Ed(i);try{const u=yield function(p,v){const O=Q(p),H=Hn.now(),X=v.reduce((ke,it)=>ke.add(it.key),jr());let pe;return O.persistence.runTransaction("Locally write mutations","readwrite",ke=>O.Wn.vn(ke,X).next(it=>{pe=it;const Xe=[];for(const Pt of v){const vn=og(Pt,pe.get(Pt.key));null!=vn&&Xe.push(new ru(Pt.key,vn,ga(vn.value.mapValue),di.exists(!0)))}return O.An.addMutationBatch(ke,H,Xe,v)})).then(ke=>(ke.applyToLocalDocumentSet(pe),{batchId:ke.batchId,changes:pe}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(p,v,O){let H=p.Ko[p.currentUser.toKey()];H||(H=new ts(Zn)),H=H.insert(v,O),p.Ko[p.currentUser.toKey()]=H}(o,u.batchId,r),yield Vo(o,u.changes),yield pd(o.remoteStore)}catch(u){const p=sc(u,"Failed to persist write");r.reject(p)}}),Vg.apply(this,arguments)}function Ch(i,e){return Th.apply(this,arguments)}function Th(){return Th=(0,ne.Z)(function*(i,e){const r=Q(i);try{const o=yield pg(r.localStore,e);e.targetChanges.forEach((u,p)=>{const v=r.Uo.get(p);v&&(k(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?v.$o=!0:u.modifiedDocuments.size>0?k(v.$o):u.removedDocuments.size>0&&(k(v.$o),v.$o=!1))}),yield Vo(r,o,e)}catch(o){yield Xu(o)}}),Th.apply(this,arguments)}function Ah(i,e,r){const o=Q(i);if(o.isPrimaryClient&&0===r||!o.isPrimaryClient&&1===r){const u=[];o.Mo.forEach((p,v)=>{const O=v.view.ro(e);O.snapshot&&u.push(O.snapshot)}),function(p,v){const O=Q(p);O.onlineState=v;let H=!1;O.queries.forEach((X,pe)=>{for(const ke of pe.listeners)ke.ro(v)&&(H=!0)}),H&&yd(O)}(o.eventManager,e),u.length&&o.Oo.br(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function _d(i,e,r){return zf.apply(this,arguments)}function zf(){return zf=(0,ne.Z)(function*(i,e,r){const o=Q(i);o.sharedClientState.updateQueryState(e,"rejected",r);const u=o.Uo.get(e),p=u&&u.key;if(p){let v=new ts(rn.comparator);v=v.insert(p,vi.newNoDocument(p,Ln.min()));const O=jr().add(p),H=new Iu(Ln.min(),new Map,new Hi(Zn),v,O);yield Ch(o,H),o.Bo=o.Bo.remove(p),o.Uo.delete(e),Yf(o)}else yield tc(o.localStore,e,!1).then(()=>xc(o,e,r)).catch(Xu)}),zf.apply(this,arguments)}function Kf(i,e){return Sh.apply(this,arguments)}function Sh(){return Sh=(0,ne.Z)(function*(i,e){const r=Q(i),o=e.batch.batchId;try{const u=yield Df(r.localStore,e);Zf(r,o,null),qf(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),yield Vo(r,u)}catch(u){yield Xu(u)}}),Sh.apply(this,arguments)}function Ug(i,e,r){return Mh.apply(this,arguments)}function Mh(){return Mh=(0,ne.Z)(function*(i,e,r){const o=Q(i);try{const u=yield function(p,v){const O=Q(p);return O.persistence.runTransaction("Reject batch","readwrite-primary",H=>{let X;return O.An.lookupMutationBatch(H,v).next(pe=>(k(null!==pe),X=pe.keys(),O.An.removeMutationBatch(H,pe))).next(()=>O.An.performConsistencyCheck(H)).next(()=>O.Wn.vn(H,X))})}(o.localStore,e);Zf(o,e,r),qf(o,e),o.sharedClientState.updateMutationState(e,"rejected",r),yield Vo(o,u)}catch(u){yield Xu(u)}}),Mh.apply(this,arguments)}function vd(){return vd=(0,ne.Z)(function*(i,e){const r=Q(i);Mu(r.remoteStore)||St("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(p){const v=Q(p);return v.persistence.runTransaction("Get highest unacknowledged batch id","readonly",O=>v.An.getHighestUnacknowledgedBatchId(O))}(r.localStore);if(-1===o)return void e.resolve();const u=r.jo.get(o)||[];u.push(e),r.jo.set(o,u)}catch(o){const u=sc(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),vd.apply(this,arguments)}function qf(i,e){(i.jo.get(e)||[]).forEach(r=>{r.resolve()}),i.jo.delete(e)}function Zf(i,e,r){const o=Q(i);let u=o.Ko[o.currentUser.toKey()];if(u){const p=u.get(e);p&&(r?p.reject(r):p.resolve(),u=u.remove(e)),o.Ko[o.currentUser.toKey()]=u}}function xc(i,e,r=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.Fo.get(e))i.Mo.delete(o),r&&i.Oo.zo(o,r);i.Fo.delete(e),i.isPrimaryClient&&i.qo.us(e).forEach(o=>{i.qo.containsKey(o)||Oc(i,o)})}function Oc(i,e){i.Lo.delete(e.path.canonicalString());const r=i.Bo.get(e);null!==r&&(Sc(i.remoteStore,r),i.Bo=i.Bo.remove(e),i.Uo.delete(r),Yf(i))}function xh(i,e,r){for(const o of r)o instanceof Ng?(i.qo.addReference(o.key,e),Ey(i,o)):o instanceof Eh?(St("SyncEngine","Document no longer in limbo: "+o.key),i.qo.removeReference(o.key,e),i.qo.containsKey(o.key)||Oc(i,o.key)):C()}function Ey(i,e){const r=e.key,o=r.path.canonicalString();i.Bo.get(r)||i.Lo.has(o)||(St("SyncEngine","New document in limbo: "+r),i.Lo.add(o),Yf(i))}function Yf(i){for(;i.Lo.size>0&&i.Bo.size<i.maxConcurrentLimboResolutions;){const e=i.Lo.values().next().value;i.Lo.delete(e);const r=new rn(Br.fromString(e)),o=i.Qo.next();i.Uo.set(o,new kg(r)),i.Bo=i.Bo.insert(r,o),hd(i.remoteStore,new d(xs(_a(r.path)),o,2,kr.I))}}function Vo(i,e,r){return Qf.apply(this,arguments)}function Qf(){return Qf=(0,ne.Z)(function*(i,e,r){const o=Q(i),u=[],p=[],v=[];var O;o.Mo.isEmpty()||(o.Mo.forEach((O,H)=>{v.push(o.Go(H,e,r).then(X=>{if(X){o.isPrimaryClient&&o.sharedClientState.updateQueryState(H.targetId,X.fromCache?"not-current":"current"),u.push(X);const pe=rh.$n(H.targetId,X);p.push(pe)}}))}),yield Promise.all(v),o.Oo.br(u),yield(O=(0,ne.Z)(function*(H,X){const pe=Q(H);try{yield pe.persistence.runTransaction("notifyLocalViewChanges","readwrite",ke=>_t.forEach(X,it=>_t.forEach(it.kn,Xe=>pe.persistence.referenceDelegate.addReference(ke,it.targetId,Xe)).next(()=>_t.forEach(it.xn,Xe=>pe.persistence.referenceDelegate.removeReference(ke,it.targetId,Xe)))))}catch(ke){if(!Da(ke))throw ke;St("LocalStore","Failed to update sequence numbers: "+ke)}for(const ke of X){const it=ke.targetId;if(!ke.fromCache){const Xe=pe.qn.get(it),vn=Xe.withLastLimboFreeSnapshotVersion(Xe.snapshotVersion);pe.qn=pe.qn.insert(it,vn)}}}),function(H,X){return O.apply(this,arguments)})(o.localStore,p))}),Qf.apply(this,arguments)}function by(i,e){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,ne.Z)(function*(i,e){const r=Q(i);if(!r.currentUser.isEqual(e)){St("SyncEngine","User change. New user:",e.toKey());const o=yield ih(r.localStore,e);r.currentUser=e,(u=r).jo.forEach(v=>{v.forEach(O=>{O.reject(new Ee(Y.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.jo.clear(),r.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Vo(r,o.Gn)}var u}),Jf.apply(this,arguments)}function Iy(i,e){const r=Q(i),o=r.Uo.get(e);if(o&&o.$o)return jr().add(o.key);{let u=jr();const p=r.Fo.get(e);if(!p)return u;for(const v of p){const O=r.Mo.get(v);u=u.unionWith(O.view.bo)}return u}}function Aa(i,e){return wd.apply(this,arguments)}function wd(){return wd=(0,ne.Z)(function*(i,e){const r=Q(i),o=yield bl(r.localStore,e.query,!0),u=e.view.ko(o);return r.isPrimaryClient&&xh(r,e.targetId,u.Co),u}),wd.apply(this,arguments)}function Bg(i){return Oh.apply(this,arguments)}function Oh(){return Oh=(0,ne.Z)(function*(i){const e=Q(i);return gg(e.localStore).then(r=>Vo(e,r))}),Oh.apply(this,arguments)}function jg(i,e,r,o){return Rh.apply(this,arguments)}function Rh(){return Rh=(0,ne.Z)(function*(i,e,r,o){const u=Q(i),p=yield function(v,O){const H=Q(v),X=Q(H.An);return H.persistence.runTransaction("Lookup mutation documents","readonly",pe=>X.Zt(pe,O).next(ke=>ke?H.Wn.vn(pe,ke):_t.resolve(null)))}(u.localStore,e);var O;null!==p?("pending"===r?yield pd(u.remoteStore):"acknowledged"===r||"rejected"===r?(Zf(u,e,o||null),qf(u,e),O=e,Q(Q(u.localStore).An).ee(O)):C(),yield Vo(u,p)):St("SyncEngine","Cannot apply mutation batch with id: "+e)}),Rh.apply(this,arguments)}function Xf(){return Xf=(0,ne.Z)(function*(i,e){const r=Q(i);if(Wg(r),Ed(r),!0===e&&!0!==r.Wo){const o=r.sharedClientState.getAllActiveQueryTargets(),u=yield $g(r,o.toArray());r.Wo=!0,yield Uf(r.remoteStore,!0);for(const p of u)hd(r.remoteStore,p)}else if(!1===e&&!1!==r.Wo){const o=[];let u=Promise.resolve();r.Fo.forEach((p,v)=>{r.sharedClientState.isLocalQueryTarget(v)?o.push(v):u=u.then(()=>(xc(r,v),tc(r.localStore,v,!0))),Sc(r.remoteStore,v)}),yield u,yield $g(r,o),function(p){const v=Q(p);v.Uo.forEach((O,H)=>{Sc(v.remoteStore,H)}),v.qo.hs(),v.Uo=new Map,v.Bo=new ts(rn.comparator)}(r),r.Wo=!1,yield Uf(r.remoteStore,!1)}}),Xf.apply(this,arguments)}function $g(i,e,r){return ep.apply(this,arguments)}function ep(){return ep=(0,ne.Z)(function*(i,e,r){const o=Q(i),u=[],p=[];for(const v of e){let O;const H=o.Fo.get(v);if(H&&0!==H.length){O=yield Au(o.localStore,xs(H[0]));for(const X of H){const pe=o.Mo.get(X),ke=yield Aa(o,pe);ke.snapshot&&p.push(ke.snapshot)}}else{const X=yield ry(o.localStore,v);O=yield Au(o.localStore,X),yield Ih(o,tp(X),v,!1)}u.push(O)}return o.Oo.br(p),u}),ep.apply(this,arguments)}function tp(i){return Vd(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function sv(i){const e=Q(i);return Q(Q(e.localStore).persistence).Tn()}function Hg(i,e,r,o){return np.apply(this,arguments)}function np(){return np=(0,ne.Z)(function*(i,e,r,o){const u=Q(i);if(u.Wo)St("SyncEngine","Ignoring unexpected query state notification.");else if(u.Fo.has(e))switch(r){case"current":case"not-current":{const p=yield gg(u.localStore),v=Iu.createSynthesizedRemoteEventForCurrentChange(e,"current"===r);yield Vo(u,p,v);break}case"rejected":yield tc(u.localStore,e,!0),xc(u,e,o);break;default:C()}}),np.apply(this,arguments)}function Cy(i,e,r){return Gg.apply(this,arguments)}function Gg(){return Gg=(0,ne.Z)(function*(i,e,r){const o=Wg(i);if(o.Wo){for(const u of e){if(o.Fo.has(u)){St("SyncEngine","Adding an already active target "+u);continue}const p=yield ry(o.localStore,u),v=yield Au(o.localStore,p);yield Ih(o,tp(p),v.targetId,!1),hd(o.remoteStore,v)}for(const u of r)o.Fo.has(u)&&(yield tc(o.localStore,u,!1).then(()=>{Sc(o.remoteStore,u),xc(o,u)}).catch(Xu))}}),Gg.apply(this,arguments)}function Wg(i){const e=Q(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ch.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Iy.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_d.bind(null,e),e.Oo.br=my.bind(null,e.eventManager),e.Oo.zo=vh.bind(null,e.eventManager),e}function Ed(i){const e=Q(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Kf.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ug.bind(null,e),e}class rp{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,ne.Z)(function*(){r.k=ld(e.databaseInfo.databaseId),r.sharedClientState=r.Jo(e),r.persistence=r.Yo(e),yield r.persistence.start(),r.gcScheduler=r.Xo(e),r.localStore=r.Zo(e)})()}Xo(e){return null}Zo(e){return du(this.persistence,new fg,e.initialUser,this.k)}Yo(e){return new nv(mg.ks,this.k)}Jo(e){return new dh}terminate(){var e=this;return(0,ne.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ip extends rp{constructor(e,r,o){super(),this.tc=e,this.cacheSizeBytes=r,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,o=this;return(0,ne.Z)(function*(){yield r().call(o,e),yield function iy(i){return Cf.apply(this,arguments)}(o.localStore),yield o.tc.initialize(o,e),yield Ed(o.tc.syncEngine),yield pd(o.tc.remoteStore),yield o.persistence.sn(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()))})()}Zo(e){return du(this.persistence,new fg,e.initialUser,this.k)}Xo(e){return new lg(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Yo(e){const r=th(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?ps.withCacheSize(this.cacheSizeBytes):ps.DEFAULT;return new Wn(this.synchronizeTabs,r,e.clientId,o,e.asyncQueue,wg(),Il(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new dh}}class ov extends ip{constructor(e,r){super(e,r,!1),this.tc=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,o=this;return(0,ne.Z)(function*(){yield r().call(o,e);const u=o.tc.syncEngine;o.sharedClientState instanceof lh&&(o.sharedClientState.syncEngine={mi:jg.bind(null,u),gi:Hg.bind(null,u),yi:Cy.bind(null,u),Tn:sv.bind(null,u),_i:Bg.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.sn(function(){var p=(0,ne.Z)(function*(v){yield function Dy(i,e){return Xf.apply(this,arguments)}(o.tc.syncEngine,v),o.gcScheduler&&(v&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):v||o.gcScheduler.stop())});return function(v){return p.apply(this,arguments)}}())})()}Jo(e){const r=wg();if(!lh.Pt(r))throw new Ee(Y.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=th(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new lh(r,e.asyncQueue,o,e.clientId,e.initialUser)}}class ta{initialize(e,r){var o=this;return(0,ne.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(r),o.remoteStore=o.createRemoteStore(r),o.eventManager=o.createEventManager(r),o.syncEngine=o.createSyncEngine(r,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>Ah(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=by.bind(null,o.syncEngine),yield Uf(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new gy}createDatastore(e){const r=ld(e.databaseInfo.databaseId),o=new vg(e.databaseInfo);return new Dl(e.authCredentials,e.appCheckCredentials,o,r)}createRemoteStore(e){return r=this.localStore,o=this.datastore,u=e.asyncQueue,p=O=>Ah(this.syncEngine,O,0),v=hh.Pt()?new hh:new _g,new Cl(r,o,u,p,v);var r,o,u,p,v}createSyncEngine(e,r){return function(o,u,p,v,O,H,X){const pe=new Fg(o,u,p,v,O,H);return X&&(pe.Wo=!0),pe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){return(e=(0,ne.Z)(function*(r){const o=Q(r);St("RemoteStore","RemoteStore shutting down."),o.Gr.add(5),yield Tl(o),o.Hr.shutdown(),o.Jr.set("Unknown")}),function(r){return e.apply(this,arguments)})(this.remoteStore);var e}}function Ay(i,e=10240){let r=0;return{read:()=>(0,ne.Z)(function*(){if(r<i.byteLength){const o={value:i.slice(r,r+e),done:!1};return r+=e,o}return{done:!0}})(),cancel:()=>(0,ne.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class sp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ec(this.observer.next,e)}error(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}nc(){this.muted=!0}ec(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class zg{constructor(e,r){this.sc=e,this.k=r,this.metadata=new Ct,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then(o=>{o&&o._o()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.sc.cancel()}getMetadata(){var e=this;return(0,ne.Z)(function*(){return e.metadata.promise})()}Ho(){var e=this;return(0,ne.Z)(function*(){return yield e.getMetadata(),e.rc()})()}rc(){var e=this;return(0,ne.Z)(function*(){const r=yield e.oc();if(null===r)return null;const o=e.ic.decode(r),u=Number(o);isNaN(u)&&e.cc(`length string (${o}) is not valid number`);const p=yield e.ac(u);return new Gf(JSON.parse(p),r.length+u)})()}uc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}oc(){var e=this;return(0,ne.Z)(function*(){for(;e.uc()<0&&!(yield e.hc()););if(0===e.buffer.length)return null;const r=e.uc();r<0&&e.cc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),o})()}ac(e){var r=this;return(0,ne.Z)(function*(){for(;r.buffer.length<e;)(yield r.hc())&&r.cc("Reached the end of bundle when more is expected.");const o=r.ic.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),o})()}cc(e){throw this.sc.cancel(),new Error(`Invalid bundle format: ${e}`)}hc(){var e=this;return(0,ne.Z)(function*(){const r=yield e.sc.read();if(!r.done){const o=new Uint8Array(e.buffer.length+r.value.length);o.set(e.buffer),o.set(r.value,e.buffer.length),e.buffer=o}return r.done})()}}class Kg{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,ne.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw new Ee(Y.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(u=(0,ne.Z)(function*(p,v){const O=Q(p),H=Gi(O.k)+"/documents",X={documents:v.map(Xe=>fs(O.k,Xe))},pe=yield O.ji("BatchGetDocuments",H,X),ke=new Map;pe.forEach(Xe=>{const Pt=function Xl(i,e){return"found"in e?function(r,o){k(!!o.found);const u=ko(r,o.found.name),p=Os(o.found.updateTime),v=new hs({mapValue:{fields:o.found.fields}});return vi.newFoundDocument(u,p,v)}(i,e):"missing"in e?function(r,o){k(!!o.missing),k(!!o.readTime);const u=ko(r,o.missing),p=Os(o.readTime);return vi.newNoDocument(u,p)}(i,e):C()}(O.k,Xe);ke.set(Pt.key.toString(),Pt)});const it=[];return v.forEach(Xe=>{const Pt=ke.get(Xe.toString());k(!!Pt),it.push(Pt)}),it}),function(p,v){return u.apply(this,arguments)})(r.datastore,e);var u;return o.forEach(u=>r.recordVersion(u)),o})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new Jc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ne.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const r=e.readVersions;var o;e.mutations.forEach(o=>{r.delete(o.key.toString())}),r.forEach((o,u)=>{const p=rn.fromPath(u);e.mutations.push(new Kl(p,e.precondition(p)))}),yield(o=(0,ne.Z)(function*(u,p){const v=Q(u),O=Gi(v.k)+"/documents",H={writes:p.map(X=>ul(v.k,X))};yield v.Bi("Commit",O,H)}),function(u,p){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw C();r=Ln.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!r.isEqual(o))throw new Ee(Y.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?di.updateTime(r):di.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Ln.min()))throw new Ee(Y.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return di.updateTime(r)}return di.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class qg{constructor(e,r,o,u){this.asyncQueue=e,this.datastore=r,this.updateFunction=o,this.deferred=u,this.lc=5,this.ur=new fh(this.asyncQueue,"transaction_retry")}run(){this.lc-=1,this.fc()}fc(){var e=this;this.ur.Zi((0,ne.Z)(function*(){const r=new Kg(e.datastore),o=e.dc(r);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(u)}).catch(p=>{e.wc(p)}))}).catch(u=>{e.wc(u)})}))}dc(e){try{const r=this.updateFunction(e);return!Js(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}wc(e){this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget(()=>(this.fc(),Promise.resolve()))):this.deferred.reject(e)}_c(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||!Hu(r)}return!1}}class Sy{constructor(e,r,o,u){var p=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=u,this.user=yi.UNAUTHENTICATED,this.clientId=Yo.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var v=(0,ne.Z)(function*(O){St("FirestoreClient","Received user=",O.uid),yield p.authCredentialListener(O),p.user=O});return function(O){return v.apply(this,arguments)}}()),this.appCheckCredentials.start(o,()=>Promise.resolve())}getConfiguration(){var e=this;return(0,ne.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ee(Y.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Ct;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ne.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(o){const u=sc(o,"Failed to shutdown persistence");r.reject(u)}})),r.promise}}function My(i,e){return Ph.apply(this,arguments)}function Ph(){return Ph=(0,ne.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),St("FirestoreClient","Initializing OfflineComponentProvider");const r=yield i.getConfiguration();yield e.initialize(r);let o=r.initialUser;i.setCredentialChangeListener(function(){var u=(0,ne.Z)(function*(p){o.isEqual(p)||(yield ih(e.localStore,p),o=p)});return function(p){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Ph.apply(this,arguments)}function Nh(i,e){return op.apply(this,arguments)}function op(){return op=(0,ne.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const r=yield bd(i);St("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(r,o),i.setCredentialChangeListener(u=>{return(p=(0,ne.Z)(function*(v,O){const H=Q(v);H.asyncQueue.verifyOperationInProgress(),St("RemoteStore","RemoteStore received new credentials");const X=Mu(H);H.Gr.add(3),yield Tl(H),X&&H.Jr.set("Unknown"),yield H.remoteSyncer.handleCredentialChange(O),H.Gr.delete(3),yield Su(H)}),function(v,O){return p.apply(this,arguments)})(e.remoteStore,u);var p}),i.onlineComponents=e}),op.apply(this,arguments)}function bd(i){return ap.apply(this,arguments)}function ap(){return ap=(0,ne.Z)(function*(i){return i.offlineComponents||(St("FirestoreClient","Using default OfflineComponentProvider"),yield My(i,new rp)),i.offlineComponents}),ap.apply(this,arguments)}function kh(i){return up.apply(this,arguments)}function up(){return up=(0,ne.Z)(function*(i){return i.onlineComponents||(St("FirestoreClient","Using default OnlineComponentProvider"),yield Nh(i,new ta)),i.onlineComponents}),up.apply(this,arguments)}function Zg(i){return bd(i).then(e=>e.persistence)}function cp(i){return bd(i).then(e=>e.localStore)}function Yg(i){return kh(i).then(e=>e.remoteStore)}function Ml(i){return kh(i).then(e=>e.syncEngine)}function Wa(i){return lp.apply(this,arguments)}function lp(){return lp=(0,ne.Z)(function*(i){const e=yield kh(i),r=e.eventManager;return r.onListen=Lg.bind(null,e.syncEngine),r.onUnlisten=Dh.bind(null,e.syncEngine),r}),lp.apply(this,arguments)}function Fh(i,e,r={}){const o=new Ct;return i.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return function(u,p,v,O,H){const X=new sp({next:ke=>{p.enqueueAndForget(()=>md(u,pe));const it=ke.docs.has(v);!it&&ke.fromCache?H.reject(new Ee(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):it&&ke.fromCache&&O&&"server"===O.source?H.reject(new Ee(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):H.resolve(ke)},error:ke=>H.reject(ke)}),pe=new Hf(_a(v.path),X,{includeMetadataChanges:!0,wo:!0});return Bf(u,pe)}(yield Wa(i),i.asyncQueue,e,r,o)})),o.promise}function xl(i,e,r={}){const o=new Ct;return i.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return function(u,p,v,O,H){const X=new sp({next:ke=>{p.enqueueAndForget(()=>md(u,pe)),ke.fromCache&&"server"===O.source?H.reject(new Ee(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):H.resolve(ke)},error:ke=>H.reject(ke)}),pe=new Hf(v,X,{includeMetadataChanges:!0,wo:!0});return Bf(u,pe)}(yield Wa(i),i.asyncQueue,e,r,o)})),o.promise}class dp{constructor(e,r,o,u,p,v,O,H){this.databaseId=e,this.appId=r,this.persistenceKey=o,this.host=u,this.ssl=p,this.forceLongPolling=v,this.autoDetectLongPolling=O,this.useFetchStreams=H}}class za{constructor(e,r){this.projectId=e,this.database=r||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof za&&e.projectId===this.projectId&&e.database===this.database}}const Pc=new Map;function oc(i,e,r){if(!r)throw new Ee(Y.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Nc(i,e,r,o){if(!0===e&&!0===o)throw new Ee(Y.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function kc(i){if(!rn.isDocumentKey(i))throw new Ee(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Fc(i){if(rn.isDocumentKey(i))throw new Ee(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function xu(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(r=i).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof i?"a function":C()}function mr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ee(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=xu(i);throw new Ee(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return i}function Lc(i,e){if(e<=0)throw new Ee(Y.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class hp{constructor(e){var r;if(void 0===e.host){if(void 0!==e.ssl)throw new Ee(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ee(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Nc("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ol{constructor(e,r,o){this._authCredentials=r,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hp({}),this._settingsFrozen=!1,e instanceof za?this._databaseId=e:(this._app=e,this._databaseId=function(u){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ee(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new za(u.options.projectId)}(e))}get app(){if(!this._app)throw new Ee(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ee(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hp(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new mn;switch(r.type){case"gapi":const o=r.client;return k(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new Ss(o,r.sessionIndex||"0",r.iamToken||null);case"provider":return r.client;default:throw new Ee(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=Pc.get(e);r&&(St("ComponentProvider","Removing Datastore"),Pc.delete(e),r.terminate())}(this),Promise.resolve()}}class Ci{constructor(e,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ka(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ci(this.firestore,e,this._key)}}class to{constructor(e,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new to(this.firestore,e,this._query)}}class Ka extends to{constructor(e,r,o){super(e,r,_a(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ci(this.firestore,null,new rn(e))}withConverter(e){return new Ka(this.firestore,e,this._path)}}function fp(i,e,...r){if(i=(0,Ke.m9)(i),oc("collection","path",e),i instanceof Ol){const o=Br.fromString(e,...r);return Fc(o),new Ka(i,null,o)}{if(!(i instanceof Ci||i instanceof Ka))throw new Ee(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Br.fromString(e,...r));return Fc(o),new Ka(i.firestore,null,o)}}function Dd(i,e,...r){if(i=(0,Ke.m9)(i),1===arguments.length&&(e=Yo.A()),oc("doc","path",e),i instanceof Ol){const o=Br.fromString(e,...r);return kc(o),new Ci(i,null,new rn(o))}{if(!(i instanceof Ci||i instanceof Ka))throw new Ee(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Br.fromString(e,...r));return kc(o),new Ci(i.firestore,i instanceof Ka?i.converter:null,new rn(o))}}function Xg(i,e){return i=(0,Ke.m9)(i),e=(0,Ke.m9)(e),(i instanceof Ci||i instanceof Ka)&&(e instanceof Ci||e instanceof Ka)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function pp(i,e){return i=(0,Ke.m9)(i),e=(0,Ke.m9)(e),i instanceof to&&e instanceof to&&i.firestore===e.firestore&&zc(i._query,e._query)&&i.converter===e.converter}class Ry{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new fh(this,"async_queue_retry"),this.bc=()=>{const r=Il();r&&St("AsyncQueue","Visibility state changed to "+r.visibilityState),this.ur.er()};const e=Il();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pc(),this.vc(e)}enterRestrictedMode(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;const r=Il();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.bc)}}enqueue(e){if(this.Pc(),this.yc)return new Promise(()=>{});const r=new Ct;return this.vc(()=>this.yc&&this.Ac?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.gc.push(e),this.Vc()))}Vc(){var e=this;return(0,ne.Z)(function*(){if(0!==e.gc.length){try{yield e.gc[0](),e.gc.shift(),e.ur.reset()}catch(r){if(!Da(r))throw r;St("AsyncQueue","Operation failed with retryable error: "+r)}e.gc.length>0&&e.ur.Zi(()=>e.Vc())}})()}vc(e){const r=this.mc.then(()=>(this.Ic=!0,e().catch(o=>{throw this.Ec=o,this.Ic=!1,I("INTERNAL UNHANDLED ERROR: ",function(p){let v=p.message||"";return p.stack&&(v=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),v}(o)),o}).then(o=>(this.Ic=!1,o))));return this.mc=r,r}enqueueAfterDelay(e,r,o){this.Pc(),this.Rc.indexOf(e)>-1&&(r=0);const u=Ta.createAndSchedule(this,e,r,o,p=>this.Sc(p));return this.Tc.push(u),u}Pc(){this.Ec&&C()}verifyOperationInProgress(){}Dc(){var e=this;return(0,ne.Z)(function*(){let r;do{r=e.mc,yield r}while(r!==e.mc)})()}Cc(e){for(const r of this.Tc)if(r.timerId===e)return!0;return!1}Nc(e){return this.Dc().then(()=>{this.Tc.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.Tc)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.Dc()})}kc(e){this.Rc.push(e)}Sc(e){const r=this.Tc.indexOf(e);this.Tc.splice(r,1)}}function gp(i){return function(e,r){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class em{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ct,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,o){this._progressObserver={next:e,error:r,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class zi extends Ol{constructor(e,r,o){super(e,r,o),this.type="firestore",this._queue=new Ry,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||tm(this),this._firestoreClient.terminate()}}function ws(i){return i._firestoreClient||tm(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function tm(i){var e;const r=i._freezeSettings(),o=(p=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new dp(i._databaseId,p,i._persistenceKey,(O=r).host,O.ssl,O.experimentalForceLongPolling,O.experimentalAutoDetectLongPolling,O.useFetchStreams));var p,O;i._firestoreClient=new Sy(i._authCredentials,i._appCheckCredentials,i._queue,o)}function nm(i,e,r){const o=new Ct;return i.asyncQueue.enqueue((0,ne.Z)(function*(){try{yield My(i,r),yield Nh(i,e),o.resolve()}catch(u){if(!("FirebaseError"===(p=u).name?p.code===Y.FAILED_PRECONDITION||p.code===Y.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&p instanceof DOMException)||22===p.code||20===p.code||11===p.code))throw u;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),o.reject(u)}var p})).then(()=>o.promise)}function _p(i){if(i._initialized||i._terminated)throw new Ee(Y.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ac{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new Ee(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _i(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Eo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Eo(Ri.fromBase64String(e))}catch(r){throw new Ee(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Eo(Ri.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Vc{constructor(e){this._methodName=e}}class Cd{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ee(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ee(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zn(this._lat,e._lat)||Zn(this._long,e._long)}}const Vy=/^__.*__$/;class rm{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return null!==this.fieldMask?new ru(e,this.data,this.fieldMask,r,this.fieldTransforms):new ju(e,this.data,r,this.fieldTransforms)}}class Td{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return new ru(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function im(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw C()}}class Ad{constructor(e,r,o,u,p,v){this.settings=e,this.databaseId=r,this.k=o,this.ignoreUndefinedProperties=u,void 0===p&&this.xc(),this.fieldTransforms=p||[],this.fieldMask=v||[]}get path(){return this.settings.path}get $c(){return this.settings.$c}Oc(e){return new Ad(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mc(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.Oc({path:o,Fc:!1});return u.Lc(e),u}Bc(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.Oc({path:o,Fc:!1});return u.xc(),u}Uc(e){return this.Oc({path:void 0,Fc:!0})}qc(e){return Pl(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}Lc(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(im(this.$c)&&Vy.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}class Uy{constructor(e,r,o){this.databaseId=e,this.ignoreUndefinedProperties=r,this.k=o||ld(e)}Qc(e,r,o,u=!1){return new Ad({$c:e,methodName:r,jc:o,path:_i.emptyPath(),Fc:!1,Kc:u},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function Uc(i){const e=i._freezeSettings(),r=ld(i._databaseId);return new Uy(i._databaseId,!!e.ignoreUndefinedProperties,r)}function Vh(i,e,r,o,u,p={}){const v=i.Qc(p.merge||p.mergeFields?2:0,e,r,u);jh("Data must be an object, but it was:",v,o);const O=jy(o,v);let H,X;if(p.merge)H=new Xa(v.fieldMask),X=v.fieldTransforms;else if(p.mergeFields){const pe=[];for(const ke of p.mergeFields){const it=xd(e,ke,r);if(!v.contains(it))throw new Ee(Y.INVALID_ARGUMENT,`Field '${it}' is specified in your field mask but missing from your input data.`);$h(pe,it)||pe.push(it)}H=new Xa(pe),X=v.fieldTransforms.filter(ke=>H.covers(ke.field))}else H=null,X=v.fieldTransforms;return new rm(new hs(O),H,X)}class Sd extends Vc{_toFieldTransform(e){if(2!==e.$c)throw e.qc(1===e.$c?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sd}}function sm(i,e,r){return new Ad({$c:3,jc:e.settings.jc,methodName:i._methodName,Fc:r},e.databaseId,e.k,e.ignoreUndefinedProperties)}class Uh extends Vc{_toFieldTransform(e){return new bu(e.path,new va)}isEqual(e){return e instanceof Uh}}class By extends Vc{constructor(e,r){super(e),this.Wc=r}_toFieldTransform(e){const r=sm(this,e,!0),o=this.Wc.map(p=>Bc(p,r)),u=new Jo(o);return new bu(e.path,u)}isEqual(e){return this===e}}class om extends Vc{constructor(e,r){super(e),this.Wc=r}_toFieldTransform(e){const r=sm(this,e,!0),o=this.Wc.map(p=>Bc(p,r)),u=new Ba(o);return new bu(e.path,u)}isEqual(e){return this===e}}class am extends Vc{constructor(e,r){super(e),this.Gc=r}_toFieldTransform(e){const r=new nu(e.k,Bu(e.k,this.Gc));return new bu(e.path,r)}isEqual(e){return this===e}}function Md(i,e,r,o){const u=i.Qc(1,e,r);jh("Data must be an object, but it was:",u,o);const p=[],v=hs.empty();Pa(o,(H,X)=>{const pe=wp(e,H,r);X=(0,Ke.m9)(X);const ke=u.Bc(pe);if(X instanceof Sd)p.push(pe);else{const it=Bc(X,ke);null!=it&&(p.push(pe),v.set(pe,it))}});const O=new Xa(p);return new Td(v,O,u.fieldTransforms)}function um(i,e,r,o,u,p){const v=i.Qc(1,e,r),O=[xd(e,o,r)],H=[u];if(p.length%2!=0)throw new Ee(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let it=0;it<p.length;it+=2)O.push(xd(e,p[it])),H.push(p[it+1]);const X=[],pe=hs.empty();for(let it=O.length-1;it>=0;--it)if(!$h(X,O[it])){const Xe=O[it];let Pt=H[it];Pt=(0,Ke.m9)(Pt);const vn=v.Bc(Xe);if(Pt instanceof Sd)X.push(Xe);else{const fr=Bc(Pt,vn);null!=fr&&(X.push(Xe),pe.set(Xe,fr))}}const ke=new Xa(X);return new Td(pe,ke,v.fieldTransforms)}function Bh(i,e,r,o=!1){return Bc(r,i.Qc(o?4:3,e))}function Bc(i,e){if(Rl(i=(0,Ke.m9)(i)))return jh("Unsupported field value:",e,i),jy(i,e);if(i instanceof Vc)return function(r,o){if(!im(o.$c))throw o.qc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Fc&&4!==e.$c)throw e.qc("Nested arrays are not supported");return function(r,o){const u=[];let p=0;for(const v of r){let O=Bc(v,o.Uc(p));null==O&&(O={nullValue:"NULL_VALUE"}),u.push(O),p++}return{arrayValue:{values:u}}}(i,e)}return function(r,o){if(null===(r=(0,Ke.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return Bu(o.k,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const u=Hn.fromDate(r);return{timestampValue:Ic(o.k,u)}}if(r instanceof Hn){const u=new Hn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ic(o.k,u)}}if(r instanceof Cd)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Eo)return{bytesValue:rl(o.k,r._byteString)};if(r instanceof Ci){const u=o.databaseId,p=r.firestore._databaseId;if(!p.isEqual(u))throw o.qc(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:il(r.firestore._databaseId||o.databaseId,r._key.path)}}throw o.qc(`Unsupported field value: ${xu(r)}`)}(i,e)}function jy(i,e){const r={};return Vl(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pa(i,(o,u)=>{const p=Bc(u,e.Mc(o));null!=p&&(r[o]=p)}),{mapValue:{fields:r}}}function Rl(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Hn||i instanceof Cd||i instanceof Eo||i instanceof Ci||i instanceof Vc)}function jh(i,e,r){if(!Rl(r)||"object"!=typeof(o=r)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=xu(r);throw e.qc("an object"===o?i+" a custom object":i+" "+o)}var o}function xd(i,e,r){if((e=(0,Ke.m9)(e))instanceof ac)return e._internalPath;if("string"==typeof e)return wp(i,e);throw Pl("Field path arguments must be of type string or ",i,!1,void 0,r)}const vp=new RegExp("[~\\*/\\[\\]]");function wp(i,e,r){if(e.search(vp)>=0)throw Pl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new ac(...e.split("."))._internalPath}catch(o){throw Pl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function Pl(i,e,r,o,u){const p=o&&!o.isEmpty(),v=void 0!==u;let O=`Function ${e}() called with invalid data`;r&&(O+=" (via `toFirestore()`)"),O+=". ";let H="";return(p||v)&&(H+=" (found",p&&(H+=` in field ${o}`),v&&(H+=` in document ${u}`),H+=")"),new Ee(Y.INVALID_ARGUMENT,O+i+H)}function $h(i,e){return i.some(r=>r.isEqual(e))}class Nl{constructor(e,r,o,u,p){this._firestore=e,this._userDataWriter=r,this._key=o,this._document=u,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new Ci(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new hv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Hh("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class hv extends Nl{data(){return super.data()}}function Hh(i,e){return"string"==typeof e?wp(i,e):e instanceof ac?e._internalPath:e._delegate._internalPath}class uc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fu extends Nl{constructor(e,r,o,u,p,v){super(e,r,o,u,v),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Od(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const o=this._document.data.field(Hh("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class Od extends fu{data(e={}){return super.data(e)}}class Ou{constructor(e,r,o,u){this._firestore=e,this._userDataWriter=r,this._snapshot=u,this.metadata=new uc(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(o=>{e.call(r,new Od(this._firestore,this._userDataWriter,o.key,o,new uc(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ee(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let p=0;return o._snapshot.docChanges.map(v=>({type:"added",doc:new Od(o._firestore,o._userDataWriter,v.doc.key,v.doc,new uc(o._snapshot.mutatedKeys.has(v.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:p++}))}{let p=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(v=>u||3!==v.type).map(v=>{const O=new Od(o._firestore,o._userDataWriter,v.doc.key,v.doc,new uc(o._snapshot.mutatedKeys.has(v.doc.key),o._snapshot.fromCache),o.query.converter);let H=-1,X=-1;return 0!==v.type&&(H=p.indexOf(v.doc.key),p=p.delete(v.doc.key)),1!==v.type&&(p=p.add(v.doc),X=p.indexOf(v.doc.key)),{type:Ep(v.type),doc:O,oldIndex:H,newIndex:X}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Ep(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return C()}}function bp(i,e){return i instanceof fu&&e instanceof fu?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Ou&&e instanceof Ou&&i._firestore===e._firestore&&pp(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function Ip(i){if(Eu(i)&&0===i.explicitOrderBy.length)throw new Ee(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jc{}function Ru(i,...e){for(const r of e)i=r._apply(i);return i}class $y extends jc{constructor(e,r,o){super(),this.zc=e,this.Hc=r,this.Jc=o,this.type="where"}_apply(e){const r=Uc(e.firestore),o=function(u,p,v,O,H,X,pe){let ke;if(H.isKeyField()){if("array-contains"===X||"array-contains-any"===X)throw new Ee(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${X}' queries on documentId().`);if("in"===X||"not-in"===X){xp(pe,X);const Xe=[];for(const Pt of pe)Xe.push(Mp(O,u,Pt));ke={arrayValue:{values:Xe}}}else ke=Mp(O,u,pe)}else"in"!==X&&"not-in"!==X&&"array-contains-any"!==X||xp(pe,X),ke=Bh(v,"where",pe,"in"===X||"not-in"===X);const it=Fe.create(H,X,ke);return function(Xe,Pt){if(Pt.V()){const fr=_c(Xe);if(null!==fr&&!fr.isEqual(Pt.field))throw new Ee(Y.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${fr.toString()}' and '${Pt.field.toString()}'`);const is=Uu(Xe);null!==is&&Op(0,Pt.field,is)}const vn=function(fr,is){for(const go of fr.filters)if(is.indexOf(go.op)>=0)return go.op;return null}(Xe,function(fr){switch(fr){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Pt.op));if(null!==vn)throw new Ee(Y.INVALID_ARGUMENT,vn===Pt.op?`Invalid query. You cannot use more than one '${Pt.op.toString()}' filter.`:`Invalid query. You cannot use '${Pt.op.toString()}' filters with '${vn.toString()}' filters.`)}(u,it),it}(e._query,0,r,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new to(e.firestore,e.converter,function(u,p){const v=u.filters.concat([p]);return new Gs(u.path,u.collectionGroup,u.explicitOrderBy.slice(),v,u.limit,u.limitType,u.startAt,u.endAt)}(e._query,o))}}class lm extends jc{constructor(e,r){super(),this.zc=e,this.Yc=r,this.type="orderBy"}_apply(e){const r=function(o,u,p){if(null!==o.startAt)throw new Ee(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Ee(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const v=new No(u,p);return function(O,H){if(null===Uu(O)){const X=_c(O);null!==X&&Op(0,X,H.field)}}(o,v),v}(e._query,this.zc,this.Yc);return new to(e.firestore,e.converter,function(o,u){const p=o.explicitOrderBy.concat([u]);return new Gs(o.path,o.collectionGroup,p,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class Cp extends jc{constructor(e,r,o){super(),this.type=e,this.Xc=r,this.Zc=o}_apply(e){return new to(e.firestore,e.converter,Ul(e._query,this.Xc,this.Zc))}}class dm extends jc{constructor(e,r,o){super(),this.type=e,this.ta=r,this.ea=o}_apply(e){const r=Sp(e,this.type,this.ta,this.ea);return new to(e.firestore,e.converter,(u=r,new Gs((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)));var o,u}}class Ap extends jc{constructor(e,r,o){super(),this.type=e,this.ta=r,this.ea=o}_apply(e){const r=Sp(e,this.type,this.ta,this.ea);return new to(e.firestore,e.converter,(u=r,new Gs((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)));var o,u}}function Sp(i,e,r,o){if(r[0]=(0,Ke.m9)(r[0]),r[0]instanceof Nl)return function(u,p,v,O,H){if(!O)throw new Ee(Y.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${v}().`);const X=[];for(const pe of Qo(u))if(pe.field.isKeyField())X.push(eu(p,O.key));else{const ke=O.data.field(pe.field);if($s(ke))throw new Ee(Y.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+pe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ke){const it=pe.field.canonicalString();throw new Ee(Y.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${it}' (used as the orderBy) does not exist.`)}X.push(ke)}return new ma(X,H)}(i._query,i.firestore._databaseId,e,r[0]._document,o);{const u=Uc(i.firestore);return function(p,v,O,H,X,pe){const ke=p.explicitOrderBy;if(X.length>ke.length)throw new Ee(Y.INVALID_ARGUMENT,`Too many arguments provided to ${H}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const it=[];for(let Xe=0;Xe<X.length;Xe++){const Pt=X[Xe];if(ke[Xe].field.isKeyField()){if("string"!=typeof Pt)throw new Ee(Y.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${H}(), but got a ${typeof Pt}`);if(!vc(p)&&-1!==Pt.indexOf("/"))throw new Ee(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${H}() must be a plain document ID, but '${Pt}' contains a slash.`);const vn=p.path.child(Br.fromString(Pt));if(!rn.isDocumentKey(vn))throw new Ee(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${H}() must result in a valid document path, but '${vn}' is not because it contains an odd number of segments.`);const fr=new rn(vn);it.push(eu(v,fr))}else{const vn=Bh(O,H,Pt);it.push(vn)}}return new ma(it,pe)}(i._query,i.firestore._databaseId,u,e,r,o)}}function Mp(i,e,r){if("string"==typeof(r=(0,Ke.m9)(r))){if(""===r)throw new Ee(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vc(e)&&-1!==r.indexOf("/"))throw new Ee(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const o=e.path.child(Br.fromString(r));if(!rn.isDocumentKey(o))throw new Ee(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return eu(i,new rn(o))}if(r instanceof Ci)return eu(i,r._key);throw new Ee(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xu(r)}.`)}function xp(i,e){if(!Array.isArray(i)||0===i.length)throw new Ee(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new Ee(Y.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Op(i,e,r){if(!r.isEqual(e))throw new Ee(Y.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}class Gh{convertValue(e,r="none"){switch(da(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw C()}}convertObject(e,r){const o={};return Pa(e.fields,(u,p)=>{o[u]=this.convertValue(p,r)}),o}convertGeoPoint(e){return new Cd(Pi(e.latitude),Pi(e.longitude))}convertArray(e,r){return(e.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(e,r){switch(r){case"previous":const o=ku(e);return null==o?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(vo(e));default:return null}}convertTimestamp(e){const r=Na(e);return new Hn(r.seconds,r.nanos)}convertDocumentKey(e,r){const o=Br.fromString(e);k(Jd(o));const u=new za(o.get(1),o.get(3)),p=new rn(o.popFirst(5));return u.isEqual(r)||I(`Document ${p} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),p}}function Rp(i,e,r){let o;return o=i?r&&(r.merge||r.mergeFields)?i.toFirestore(e,r):i.toFirestore(e):e,o}class Wy extends Gh{constructor(e){super(),this.firestore=e}convertBytes(e){return new Eo(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ci(this.firestore,null,r)}}class gm{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Uc(e)}set(e,r,o){this._verifyNotCommitted();const u=Pu(e,this._firestore),p=Rp(u.converter,r,o),v=Vh(this._dataReader,"WriteBatch.set",u._key,p,null!==u.converter,o);return this._mutations.push(v.toMutation(u._key,di.none())),this}update(e,r,o,...u){this._verifyNotCommitted();const p=Pu(e,this._firestore);let v;return v="string"==typeof(r=(0,Ke.m9)(r))||r instanceof ac?um(this._dataReader,"WriteBatch.update",p._key,r,o,u):Md(this._dataReader,"WriteBatch.update",p._key,r),this._mutations.push(v.toMutation(p._key,di.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Pu(e,this._firestore);return this._mutations=this._mutations.concat(new Jc(r._key,di.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ee(Y.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Pu(i,e){if((i=(0,Ke.m9)(i)).firestore!==e)throw new Ee(Y.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Oi extends Gh{constructor(e){super(),this.firestore=e}convertBytes(e){return new Eo(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ci(this.firestore,null,r)}}function Pp(i,e,r){i=mr(i,Ci);const o=mr(i.firestore,zi),u=Rp(i.converter,e,r);return Fl(o,[Vh(Uc(o),"setDoc",i._key,u,null!==i.converter,r).toMutation(i._key,di.none())])}function Np(i,e,r,...o){i=mr(i,Ci);const u=mr(i.firestore,zi),p=Uc(u);let v;return v="string"==typeof(e=(0,Ke.m9)(e))||e instanceof ac?um(p,"updateDoc",i._key,e,r,o):Md(p,"updateDoc",i._key,e),Fl(u,[v.toMutation(i._key,di.exists(!0))])}function _m(i,...e){var r,o,u;i=(0,Ke.m9)(i);let p={includeMetadataChanges:!1},v=0;"object"!=typeof e[v]||gp(e[v])||(p=e[v],v++);const O={includeMetadataChanges:p.includeMetadataChanges};if(gp(e[v])){const ke=e[v];e[v]=null===(r=ke.next)||void 0===r?void 0:r.bind(ke),e[v+1]=null===(o=ke.error)||void 0===o?void 0:o.bind(ke),e[v+2]=null===(u=ke.complete)||void 0===u?void 0:u.bind(ke)}let H,X,pe;if(i instanceof Ci)X=mr(i.firestore,zi),pe=_a(i._key.path),H={next:ke=>{e[v]&&e[v](Wh(X,i,ke))},error:e[v+1],complete:e[v+2]};else{const ke=mr(i,to);X=mr(ke.firestore,zi),pe=ke._query;const it=new Oi(X);H={next:Xe=>{e[v]&&e[v](new Ou(X,it,ke,Xe))},error:e[v+1],complete:e[v+2]},Ip(i._query)}return function(ke,it,Xe,Pt){const vn=new sp(Pt),fr=new Hf(it,vn,Xe);return ke.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return Bf(yield Wa(ke),fr)})),()=>{vn.nc(),ke.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return md(yield Wa(ke),fr)}))}}(ws(X),pe,O,H)}function Fl(i,e){return function(r,o){const u=new Ct;return r.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return function vy(i,e,r){return Vg.apply(this,arguments)}(yield Ml(r),o,u)})),u.promise}(ws(i),e)}function Wh(i,e,r){const o=r.docs.get(e._key),u=new Oi(i);return new fu(i,u,e._key,o,new uc(r.hasPendingWrites,r.fromCache),e.converter)}class fv extends class{constructor(e,r){this._firestore=e,this._transaction=r,this._dataReader=Uc(e)}get(e){const r=Pu(e,this._firestore),o=new Wy(this._firestore);return this._transaction.lookup([r._key]).then(u=>{if(!u||1!==u.length)return C();const p=u[0];if(p.isFoundDocument())return new Nl(this._firestore,o,p.key,p,r.converter);if(p.isNoDocument())return new Nl(this._firestore,o,r._key,null,r.converter);throw C()})}set(e,r,o){const u=Pu(e,this._firestore),p=Rp(u.converter,r,o),v=Vh(this._dataReader,"Transaction.set",u._key,p,null!==u.converter,o);return this._transaction.set(u._key,v),this}update(e,r,o,...u){const p=Pu(e,this._firestore);let v;return v="string"==typeof(r=(0,Ke.m9)(r))||r instanceof ac?um(this._dataReader,"Transaction.update",p._key,r,o,u):Md(this._dataReader,"Transaction.update",p._key,r),this._transaction.update(p._key,v),this}delete(e){const r=Pu(e,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=Pu(e,this._firestore),o=new Oi(this._firestore);return super.get(e).then(u=>new fu(this._firestore,o,r._key,u._document,new uc(!1,!1),r.converter))}}function zh(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ee("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function bm(){if("undefined"==typeof Uint8Array)throw new Ee("unimplemented","Uint8Arrays are not available in this environment.")}function Im(){if(!function Bi(){return"undefined"!=typeof atob}())throw new Ee("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){ca=Re.SDK_VERSION,(0,Re._registerComponent)(new Ue.wA("firestore",(r,{options:o})=>{const u=r.getProvider("app").getImmediate(),p=new zi(u,new gr(r.getProvider("auth-internal")),new ls(r.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),p._setSettings(o),p},"PUBLIC")),(0,Re.registerVersion)(ua,"3.4.3",i),(0,Re.registerVersion)(ua,"3.4.3","esm2017")}();class Rd{constructor(e){this._delegate=e}static fromBase64String(e){return Im(),new Rd(Eo.fromBase64String(e))}static fromUint8Array(e){return bm(),new Rd(Eo.fromUint8Array(e))}toBase64(){return Im(),this._delegate.toBase64()}toUint8Array(){return bm(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Fp(i){return function Lp(i,e){if("object"!=typeof i||null===i)return!1;const r=i;for(const o of e)if(o in r&&"function"==typeof r[o])return!0;return!1}(i,["next","error","complete"])}class Pd{enableIndexedDbPersistence(e,r){return function ky(i,e){_p(i=mr(i,zi));const r=ws(i),o=i._freezeSettings(),u=new ta;return nm(r,u,new ip(u,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(e){return function uv(i){_p(i=mr(i,zi));const e=ws(i),r=i._freezeSettings(),o=new ta;return nm(e,o,new ov(o,r.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function mp(i){if(i._initialized&&!i._terminated)throw new Ee(Y.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ct;return i._queue.enqueueAndForgetEvenWhileRestricted((0,ne.Z)(function*(){try{yield(r=(0,ne.Z)(function*(o){if(!rs.Pt())return Promise.resolve();const u=o+"main";yield rs.delete(u)}),function(o){return r.apply(this,arguments)})(th(i._databaseId,i._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}(e._delegate)}}class Dm{constructor(e,r,o){this._delegate=r,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof za||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const r=this._delegate._getSettings();!e.merge&&r.host!==e.host&&w("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},r),e)).merge,this._delegate._setSettings(e)}useEmulator(e,r,o={}){!function Qg(i,e,r,o={}){var u;const p=(i=mr(i,Ol))._getSettings();if("firestore.googleapis.com"!==p.host&&p.host!==e&&w("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},p),{host:`${e}:${r}`,ssl:!1})),o.mockUserToken){let v,O;if("string"==typeof o.mockUserToken)v=o.mockUserToken,O=yi.MOCK_USER;else{v=(0,Ke.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const H=o.mockUserToken.sub||o.mockUserToken.user_id;if(!H)throw new Ee(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");O=new yi(H)}i._authCredentials=new dr(new Gn(v,O))}}(this._delegate,e,r,o)}enableNetwork(){return function Fy(i){return function Id(i){return i.asyncQueue.enqueue((0,ne.Z)(function*(){const e=yield Zg(i),r=yield Yg(i);return e.setNetworkEnabled(!0),function(o){const u=Q(o);return u.Gr.delete(0),Su(u)}(r)}))}(ws(i=mr(i,zi)))}(this._delegate)}disableNetwork(){return function cv(i){return function xy(i){return i.asyncQueue.enqueue((0,ne.Z)(function*(){const e=yield Zg(i),r=yield Yg(i);return e.setNetworkEnabled(!1),(o=(0,ne.Z)(function*(u){const p=Q(u);p.Gr.add(0),yield Tl(p),p.Jr.set("Offline")}),function(u){return o.apply(this,arguments)})(r);var o}))}(ws(i=mr(i,zi)))}(this._delegate)}enablePersistence(e){let r=!1,o=!1;return e&&(r=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,Nc("synchronizeTabs",r,"experimentalForceOwningTab",o)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function yp(i){return function(e){const r=new Ct;return e.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return function wy(i,e){return vd.apply(this,arguments)}(yield Ml(e),r)})),r.promise}(ws(i=mr(i,zi)))}(this._delegate)}onSnapshotsInSync(e){return function vm(i,e){return function ho(i,e){const r=new sp(e);return i.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return o=yield Wa(i),u=r,Q(o).io.add(u),void u.next();var o,u})),()=>{r.nc(),i.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return o=yield Wa(i),u=r,void Q(o).io.delete(u);var o,u}))}}(ws(i=mr(i,zi)),gp(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ee("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new $c(this,fp(this._delegate,e))}catch(r){throw fo(r,"collection()","Firestore.collection()")}}doc(e){try{return new Ma(this,Dd(this._delegate,e))}catch(r){throw fo(r,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new po(this,function Jg(i,e){if(i=mr(i,Ol),oc("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ee(Y.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new to(i,null,(r=e,new Gs(Br.emptyPath(),r)));var r}(this._delegate,e))}catch(r){throw fo(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function wm(i,e){return function Rc(i,e){const r=new Ct;return i.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){const o=yield(u=i,kh(u).then(p=>p.datastore));var u;new qg(i.asyncQueue,o,e,r).run()})),r.promise}(ws(i=mr(i,zi)),r=>e(new fv(i,r)))}(this._delegate,r=>e(new Vp(this,r)))}batch(){return ws(this._delegate),new Up(new gm(this._delegate,e=>Fl(this._delegate,e)))}loadBundle(e){return function lv(i,e){const r=ws(i=mr(i,zi)),o=new em;return function Lh(i,e,r,o){const u=function(p,v){let O;return O="string"==typeof p?(new TextEncoder).encode(p):p,H=function(H,X){if(H instanceof Uint8Array)return Ay(H,X);if(H instanceof ArrayBuffer)return Ay(new Uint8Array(H),X);if(H instanceof ReadableStream)return H.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(O),new zg(H,v);var H}(r,ld(e));i.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){!function Ty(i,e,r){const o=Q(i);var u;(u=(0,ne.Z)(function*(p,v,O){try{const H=yield v.getMetadata();if(yield function(it,Xe){const Pt=Q(it),vn=Os(Xe.createTime);return Pt.persistence.runTransaction("hasNewerBundle","readonly",fr=>Pt.Ye.getBundleMetadata(fr,Xe.id)).then(fr=>!!fr&&fr.createTime.compareTo(vn)>=0)}(p.localStore,H))return yield v.close(),void O._completeWith((it=H,{taskState:"Success",documentsLoaded:it.totalDocuments,bytesLoaded:it.totalBytes,totalDocuments:it.totalDocuments,totalBytes:it.totalBytes}));O._updateProgress(Pg(H));const X=new Rg(H,p.localStore,v.k);let pe=yield v.Ho();for(;pe;){const it=yield X.yo(pe);it&&O._updateProgress(it),pe=yield v.Ho()}const ke=yield X.complete();yield Vo(p,ke.In,void 0),yield function(it,Xe){const Pt=Q(it);return Pt.persistence.runTransaction("Save bundle","readwrite",vn=>Pt.Ye.saveBundleMetadata(vn,Xe))}(p.localStore,H),O._completeWith(ke.progress)}catch(H){w("SyncEngine",`Loading bundle failed with ${H}`),O._failWith(H)}var it}),function(p,v,O){return u.apply(this,arguments)})(o,e,r).then(()=>{o.sharedClientState.notifyBundleLoaded()})}(yield Ml(i),u,o)}))}(r,i._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function Ly(i,e){return function Sa(i,e){return i.asyncQueue.enqueue((0,ne.Z)(function*(){return function(r,o){const u=Q(r);return u.persistence.runTransaction("Get named query","readonly",p=>u.Ye.getNamedQuery(p,o))}(yield cp(i),e)}))}(ws(i=mr(i,zi)),e).then(r=>r?new to(i,null,r.query):null)}(this._delegate,e).then(r=>r?new po(this,r):null)}}class Nd extends Gh{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rd(new Eo(e))}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return Ma.forKey(r,this.firestore,null)}}class Vp{constructor(e,r){this._firestore=e,this._delegate=r,this._userDataWriter=new Nd(e)}get(e){const r=lc(e);return this._delegate.get(r).then(o=>new cc(this._firestore,new fu(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,r.converter)))}set(e,r,o){const u=lc(e);return o?(zh("Transaction.set",o),this._delegate.set(u,r,o)):this._delegate.set(u,r),this}update(e,r,o,...u){const p=lc(e);return 2===arguments.length?this._delegate.update(p,r):this._delegate.update(p,r,o,...u),this}delete(e){const r=lc(e);return this._delegate.delete(r),this}}class Up{constructor(e){this._delegate=e}set(e,r,o){const u=lc(e);return o?(zh("WriteBatch.set",o),this._delegate.set(u,r,o)):this._delegate.set(u,r),this}update(e,r,o,...u){const p=lc(e);return 2===arguments.length?this._delegate.update(p,r):this._delegate.update(p,r,o,...u),this}delete(e){const r=lc(e);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class yu{constructor(e,r,o){this._firestore=e,this._userDataWriter=r,this._delegate=o}fromFirestore(e,r){const o=new Od(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ll(this._firestore,o),null!=r?r:{})}toFirestore(e,r){return r?this._delegate.toFirestore(e,r):this._delegate.toFirestore(e)}static getInstance(e,r){const o=yu.INSTANCES;let u=o.get(e);u||(u=new WeakMap,o.set(e,u));let p=u.get(r);return p||(p=new yu(e,new Nd(e),r),u.set(r,p)),p}}yu.INSTANCES=new WeakMap;class Ma{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new Nd(e)}static forPath(e,r,o){if(e.length%2!=0)throw new Ee("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ma(r,new Ci(r._delegate,o,new rn(e)))}static forKey(e,r,o){return new Ma(r,new Ci(r._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new $c(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new $c(this.firestore,fp(this._delegate,e))}catch(r){throw fo(r,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ke.m9)(e))instanceof Ci&&Xg(this._delegate,e)}set(e,r){r=zh("DocumentReference.set",r);try{return r?Pp(this._delegate,e,r):Pp(this._delegate,e)}catch(o){throw fo(o,"setDoc()","DocumentReference.set()")}}update(e,r,...o){try{return 1===arguments.length?Np(this._delegate,e):Np(this._delegate,e,r,...o)}catch(u){throw fo(u,"updateDoc()","DocumentReference.update()")}}delete(){return function kl(i){return Fl(mr(i.firestore,zi),[new Jc(i._key,di.none())])}(this._delegate)}onSnapshot(...e){const r=Bp(e),o=Kh(e,u=>new cc(this.firestore,new fu(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return _m(this._delegate,r,o)}get(e){let r;return r="cache"===(null==e?void 0:e.source)?function mm(i){i=mr(i,Ci);const e=mr(i.firestore,zi),r=ws(e),o=new Oi(e);return function Oy(i,e){const r=new Ct;return i.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return(o=(0,ne.Z)(function*(u,p,v){try{const O=yield function(H,X){const pe=Q(H);return pe.persistence.runTransaction("read document","readonly",ke=>pe.Wn.Rn(ke,X))}(u,p);O.isFoundDocument()?v.resolve(O):O.isNoDocument()?v.resolve(null):v.reject(new Ee(Y.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(O){const H=sc(O,`Failed to get document '${p} from cache`);v.reject(H)}}),function(u,p,v){return o.apply(this,arguments)})(yield cp(i),e,r);var o})),r.promise}(r,i._key).then(u=>new fu(e,o,i._key,u,new uc(null!==u&&u.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function Ky(i){i=mr(i,Ci);const e=mr(i.firestore,zi);return Fh(ws(e),i._key,{source:"server"}).then(r=>Wh(e,i,r))}(this._delegate):function zy(i){i=mr(i,Ci);const e=mr(i.firestore,zi);return Fh(ws(e),i._key).then(r=>Wh(e,i,r))}(this._delegate),r.then(o=>new cc(this.firestore,new fu(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new Ma(this.firestore,this._delegate.withConverter(e?yu.getInstance(this.firestore,e):null))}}function fo(i,e,r){return i.message=i.message.replace(e,r),i}function Bp(i){for(const e of i)if("object"==typeof e&&!Fp(e))return e;return{}}function Kh(i,e){var r,o;let u;return u=Fp(i[0])?i[0]:Fp(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:p=>{u.next&&u.next(e(p))},error:null===(r=u.error)||void 0===r?void 0:r.bind(u),complete:null===(o=u.complete)||void 0===o?void 0:o.bind(u)}}class cc{constructor(e,r){this._firestore=e,this._delegate=r}get ref(){return new Ma(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,r){return this._delegate.get(e,r)}isEqual(e){return bp(this._delegate,e._delegate)}}class Ll extends cc{data(e){const r=this._delegate.data(e);return function q(i,e){i||C()}(void 0!==r),r}}class po{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new Nd(e)}where(e,r,o){try{return new po(this.firestore,Ru(this._delegate,function cm(i,e,r){const o=e,u=Hh("where",i);return new $y(u,o,r)}(e,r,o)))}catch(u){throw fo(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,r){try{return new po(this.firestore,Ru(this._delegate,function Dp(i,e="asc"){const r=e,o=Hh("orderBy",i);return new lm(o,r)}(e,r)))}catch(o){throw fo(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new po(this.firestore,Ru(this._delegate,function Hy(i){return Lc("limit",i),new Cp("limit",i,"F")}(e)))}catch(r){throw fo(r,"limit()","Query.limit()")}}limitToLast(e){try{return new po(this.firestore,Ru(this._delegate,function Gy(i){return Lc("limitToLast",i),new Cp("limitToLast",i,"L")}(e)))}catch(r){throw fo(r,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new po(this.firestore,Ru(this._delegate,function hm(...i){return new dm("startAt",i,!0)}(...e)))}catch(r){throw fo(r,"startAt()","Query.startAt()")}}startAfter(...e){try{return new po(this.firestore,Ru(this._delegate,function Tp(...i){return new dm("startAfter",i,!1)}(...e)))}catch(r){throw fo(r,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new po(this.firestore,Ru(this._delegate,function fm(...i){return new Ap("endBefore",i,!0)}(...e)))}catch(r){throw fo(r,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new po(this.firestore,Ru(this._delegate,function pm(...i){return new Ap("endAt",i,!1)}(...e)))}catch(r){throw fo(r,"endAt()","Query.endAt()")}}isEqual(e){return pp(this._delegate,e._delegate)}get(e){let r;return r="cache"===(null==e?void 0:e.source)?function ym(i){i=mr(i,to);const e=mr(i.firestore,zi),r=ws(e),o=new Oi(e);return function hu(i,e){const r=new Ct;return i.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return(o=(0,ne.Z)(function*(u,p,v){try{const O=yield bl(u,p,!0),H=new yy(p,O.zn),X=H.Po(O.documents),pe=H.applyChanges(X,!1);v.resolve(pe.snapshot)}catch(O){const H=sc(O,`Failed to execute query '${p} against cache`);v.reject(H)}}),function(u,p,v){return o.apply(this,arguments)})(yield cp(i),e,r);var o})),r.promise}(r,i._query).then(u=>new Ou(e,o,i,u))}(this._delegate):"server"===(null==e?void 0:e.source)?function Zy(i){i=mr(i,to);const e=mr(i.firestore,zi),r=ws(e),o=new Oi(e);return xl(r,i._query,{source:"server"}).then(u=>new Ou(e,o,i,u))}(this._delegate):function qy(i){i=mr(i,to);const e=mr(i.firestore,zi),r=ws(e),o=new Oi(e);return Ip(i._query),xl(r,i._query).then(u=>new Ou(e,o,i,u))}(this._delegate),r.then(o=>new qh(this.firestore,new Ou(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const r=Bp(e),o=Kh(e,u=>new qh(this.firestore,new Ou(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return _m(this._delegate,r,o)}withConverter(e){return new po(this.firestore,this._delegate.withConverter(e?yu.getInstance(this.firestore,e):null))}}class Cm{constructor(e,r){this._firestore=e,this._delegate=r}get type(){return this._delegate.type}get doc(){return new Ll(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class qh{constructor(e,r){this._firestore=e,this._delegate=r}get query(){return new po(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ll(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(r=>new Cm(this._firestore,r))}forEach(e,r){this._delegate.forEach(o=>{e.call(r,new Ll(this._firestore,o))})}isEqual(e){return bp(this._delegate,e._delegate)}}class $c extends po{constructor(e,r){super(e,r),this.firestore=e,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ma(this.firestore,e):null}doc(e){try{return new Ma(this.firestore,void 0===e?Dd(this._delegate):Dd(this._delegate,e))}catch(r){throw fo(r,"doc()","CollectionReference.doc()")}}add(e){return function Yy(i,e){const r=mr(i.firestore,zi),o=Dd(i),u=Rp(i.converter,e);return Fl(r,[Vh(Uc(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,di.exists(!1))]).then(()=>o)}(this._delegate,e).then(r=>new Ma(this.firestore,r))}isEqual(e){return Xg(this._delegate,e._delegate)}withConverter(e){return new $c(this.firestore,this._delegate.withConverter(e?yu.getInstance(this.firestore,e):null))}}function lc(i){return mr(i,Ci)}class Zh{constructor(...e){this._delegate=new ac(...e)}static documentId(){return new Zh(_i.keyField().canonicalString())}isEqual(e){return(e=(0,Ke.m9)(e))instanceof ac&&this._delegate._internalPath.isEqual(e._internalPath)}}class dc{constructor(e){this._delegate=e}static serverTimestamp(){const e=function pu(){return new Uh("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new dc(e)}static delete(){const e=function kp(){return new Sd("deleteField")}();return e._methodName="FieldValue.delete",new dc(e)}static arrayUnion(...e){const r=function Qy(...i){return new By("arrayUnion",i)}(...e);return r._methodName="FieldValue.arrayUnion",new dc(r)}static arrayRemove(...e){const r=function Jy(...i){return new om("arrayRemove",i)}(...e);return r._methodName="FieldValue.arrayRemove",new dc(r)}static increment(e){const r=function gu(i){return new am("increment",i)}(e);return r._methodName="FieldValue.increment",new dc(r)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const e_={Firestore:Dm,GeoPoint:Cd,Timestamp:Hn,Blob:Rd,Transaction:Vp,WriteBatch:Up,DocumentReference:Ma,DocumentSnapshot:cc,Query:po,QueryDocumentSnapshot:Ll,QuerySnapshot:qh,CollectionReference:$c,FieldPath:Zh,FieldValue:dc,setLogLevel:function Xy(i){!function Ra(i){js.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function n_(i){(function t_(i,e){i.INTERNAL.registerComponent(new Ue.wA("firestore-compat",r=>{const o=r.getProvider("app-compat").getImmediate(),u=r.getProvider("firestore").getImmediate();return e(o,u)},"PUBLIC").setServiceProps(Object.assign({},e_)))})(i,(e,r)=>new Dm(e,r,new Pd)),i.registerVersion("@firebase/firestore-compat","0.1.12")}(xe.Z);var hc=S(1041),r_=S(440),i_=S(127);function Tm(i,e){return function s_(i,e=R.z){return new $.y(r=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},r)}):o=i.onSnapshot({includeMetadataChanges:!0},r),()=>{null!=o&&o()}})}(i,e)}function jp(i,e){return Tm(i,e).pipe((0,ee.U)(r=>({payload:r,type:"query"})))}function Yh(i,e){return jp(i,e).pipe((0,J.O)(void 0),oe(),(0,ee.U)(([r,o])=>{const u=o.payload.docChanges(),p=u.map(v=>({type:v.type,payload:v}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((v,O)=>{const H=u.find(pe=>pe.doc.ref.isEqual(v.ref)),X=null==r?void 0:r.payload.docs.find(pe=>pe.ref.isEqual(v.ref));H&&JSON.stringify(H.doc.metadata)===JSON.stringify(v.metadata)||!H&&X&&JSON.stringify(X.metadata)===JSON.stringify(v.metadata)||p.push({type:"modified",payload:{oldIndex:O,newIndex:O,type:"modified",doc:v}})}),p}))}function Am(i,e,r){return Yh(i,r).pipe((0,ae.R)((o,u)=>function a_(i,e,r){return e.forEach(o=>{r.indexOf(o.type)>-1&&(i=function u_(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return $p(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const r=i.slice();return r.splice(e.oldIndex,1),r.splice(e.newIndex,0,e),r}return $p(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return $p(i,e.oldIndex,1)}return i}(i,o))}),i}(o,u.map(p=>p.payload),e),[]),(0,$e.x)(),(0,ee.U)(o=>o.map(u=>({type:u.type,payload:u}))))}function $p(i,e,r,...o){const u=i.slice();return u.splice(e,r,...o),u}function Sm(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class Mm{constructor(e,r,o){this.ref=e,this.query=r,this.afs=o}stateChanges(e){let r=Yh(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(r=r.pipe((0,ee.U)(o=>o.filter(u=>e.indexOf(u.type)>-1)))),r.pipe((0,J.O)(void 0),oe(),(0,He.h)(([o,u])=>u.length>0||!o),(0,ee.U)(([o,u])=>u),ye.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ae.R)((r,o)=>[...r,...o],[]))}snapshotChanges(e){const r=Sm(e);return Am(this.query,r,this.afs.schedulers.outsideAngular).pipe(ye.iC)}valueChanges(e={}){return jp(this.query,this.afs.schedulers.outsideAngular).pipe((0,ee.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),ye.iC)}get(e){return(0,le.D)(this.query.get(e)).pipe(ye.iC)}add(e){return this.ref.add(e)}doc(e){return new xm(this.ref.doc(e),this.afs)}}class xm{constructor(e,r){this.ref=e,this.afs=r}set(e,r){return this.ref.set(e,r)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,r){const o=this.ref.collection(e),{ref:u,query:p}=Wp(o,r);return new Mm(u,p,this.afs)}snapshotChanges(){return function o_(i,e){return Tm(i,e).pipe((0,J.O)(void 0),oe(),(0,ee.U)(([r,o])=>o.exists?(null==r?void 0:r.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ye.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ee.U)(({payload:r})=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data()))}get(e){return(0,le.D)(this.ref.get(e)).pipe(ye.iC)}}class Om{constructor(e,r){this.query=e,this.afs=r}stateChanges(e){return e&&0!==e.length?Yh(this.query,this.afs.schedulers.outsideAngular).pipe((0,ee.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)),(0,He.h)(r=>r.length>0),ye.iC):Yh(this.query,this.afs.schedulers.outsideAngular).pipe(ye.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ae.R)((r,o)=>[...r,...o],[]))}snapshotChanges(e){const r=Sm(e);return Am(this.query,r,this.afs.schedulers.outsideAngular).pipe(ye.iC)}valueChanges(e={}){return jp(this.query,this.afs.schedulers.outsideAngular).pipe((0,ee.U)(o=>o.payload.docs.map(u=>e.idField?Object.assign({[e.idField]:u.id},u.data()):u.data())),ye.iC)}get(e){return(0,le.D)(this.query.get(e)).pipe(ye.iC)}}const Hp=new f.OlP("angularfire2.enableFirestorePersistence"),Gp=new f.OlP("angularfire2.firestore.persistenceSettings"),Rm=new f.OlP("angularfire2.firestore.settings"),Pm=new f.OlP("angularfire2.firestore.use-emulator");function Wp(i,e=(r=>r)){return{query:e(i),ref:i}}let zp=(()=>{class i{constructor(r,o,u,p,v,O,H,X,pe,ke,it,Xe,Pt,vn,fr,is,go){this.schedulers=H;const xa=(0,ze.on)(r,O,o),na=pe;ke&&(0,hc.nw)(xa,O,it,Pt,vn,fr,Xe,is),[this.firestore,this.persistenceEnabled$]=(0,ze.cc)(`${xa.name}.firestore`,"AngularFirestore",xa.name,()=>{const ei=O.runOutsideAngular(()=>xa.firestore());if(p&&ei.settings(p),na&&ei.useEmulator(...na),u&&!(0,st.PM)(v)){const km=()=>{try{return(0,le.D)(ei.enablePersistence(X||void 0).then(()=>!0,()=>!1))}catch(kd){return"undefined"!=typeof console&&console.warn(kd),(0,re.of)(!1)}};return[ei,O.runOutsideAngular(km)]}return[ei,(0,re.of)(!1)]},[p,na,u])}collection(r,o){let u;u="string"==typeof r?this.firestore.collection(r):r;const{ref:p,query:v}=Wp(u,o),O=this.schedulers.ngZone.run(()=>p);return new Mm(O,v,this)}collectionGroup(r,o){const u=o||(v=>v),p=this.firestore.collectionGroup(r);return new Om(u(p),this)}doc(r){let o;o="string"==typeof r?this.firestore.doc(r):r;const u=this.schedulers.ngZone.run(()=>o);return new xm(u,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(ze.Dh),f.LFG(ze.xv,8),f.LFG(Hp,8),f.LFG(Rm,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(ye.HU),f.LFG(Gp,8),f.LFG(Pm,8),f.LFG(hc.zQ,8),f.LFG(hc.Qv,8),f.LFG(hc.L6,8),f.LFG(hc._Q,8),f.LFG(hc.rT,8),f.LFG(hc.lh,8),f.LFG(hc.f7,8),f.LFG(r_.nm,8))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),Nm=(()=>{class i{constructor(){i_.Z.registerVersion("angularfire",ye.q4.full,"fst-compat")}static enablePersistence(r){return{ngModule:i,providers:[{provide:Hp,useValue:!0},{provide:Gp,useValue:r}]}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({providers:[zp]}),i})()},2011:(Me,ie,S)=>{"use strict";S.d(ie,{hO:()=>$e,xv:()=>oe,Dh:()=>ge,GT:()=>ye,cc:()=>He,on:()=>J,pX:()=>re});var f=S(5e3),R=S(127),$=S(6351);Me=S.hmd(Me);const le=["ngOnDestroy"],re=(xe,ne,Re,Ue={})=>new Proxy(xe,{get:(at,Ke)=>Re.runOutsideAngular(()=>{var Et;if(xe[Ke])return(null===(Et=null==Ue?void 0:Ue.spy)||void 0===Et?void 0:Et.get)&&Ue.spy.get(Ke,xe[Ke]),xe[Ke];if(le.indexOf(Ke)>-1)return()=>{};const we=ne.toPromise().then(nt=>{const Oe=nt&&nt[Ke];return"function"==typeof Oe?Oe.bind(nt):Oe&&Oe.then?Oe.then(Ne=>Re.run(()=>Ne)):Re.run(()=>Oe)});return new Proxy(()=>{},{get:(nt,Oe)=>we[Oe],apply:(nt,Oe,Ne)=>we.then(We=>{var Ge;const ct=We&&We(...Ne);return(null===(Ge=null==Ue?void 0:Ue.spy)||void 0===Ge?void 0:Ge.apply)&&Ue.spy.apply(Ke,Ne,ct),ct})})})}),ye=(xe,ne)=>{ne.forEach(Re=>{Object.getOwnPropertyNames(Re.prototype||Re).forEach(Ue=>{Object.defineProperty(xe.prototype,Ue,Object.getOwnPropertyDescriptor(Re.prototype||Re,Ue))})})};class _e{constructor(ne){return ne}}const ge=new f.OlP("angularfire2.app.options"),oe=new f.OlP("angularfire2.app.name");function J(xe,ne,Re){const at="object"==typeof Re&&Re||{};at.name=at.name||"string"==typeof Re&&Re||"[DEFAULT]";const Et=R.Z.apps.filter(we=>we&&we.name===at.name)[0]||ne.runOutsideAngular(()=>R.Z.initializeApp(xe,at));try{JSON.stringify(xe)!==JSON.stringify(Et.options)&&ee("error",`${Et.name} Firebase App already initialized with different options${Me.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(we){}return new _e(Et)}const ee=(xe,...ne)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[xe](...ne)},ae={provide:_e,useFactory:J,deps:[ge,f.R0b,[new f.FiY,oe]]};let $e=(()=>{class xe{constructor(Re){R.Z.registerVersion("angularfire",$.q4.full,"core"),R.Z.registerVersion("angularfire",$.q4.full,"app-compat"),R.Z.registerVersion("angular",f.q4F.full,Re.toString())}static initializeApp(Re,Ue){return{ngModule:xe,providers:[{provide:ge,useValue:Re},{provide:oe,useValue:Ue}]}}}return xe.\u0275fac=function(Re){return new(Re||xe)(f.LFG(f.Lbi))},xe.\u0275mod=f.oAB({type:xe}),xe.\u0275inj=f.cJS({providers:[ae]}),xe})();function He(xe,ne,Re,Ue,at){const[,Ke,Et]=globalThis.\u0275AngularfireInstanceCache.find(we=>we[0]===xe)||[];if(Ke)return function ze(xe,ne){try{return xe.toString()===ne.toString()}catch(Re){return xe===ne}}(at,Et)||(Ae("error",`${ne} was already initialized on the ${Re} Firebase App with different settings.${st?" You may need to reload as Firebase is not HMR aware.":""}`),Ae("warn",{is:at,was:Et})),Ke;{const we=Ue();return globalThis.\u0275AngularfireInstanceCache.push([xe,we,at]),we}}const st=!!Me.hot,Ae=(xe,...ne)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[xe](...ne)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(Me,ie,S)=>{"use strict";S.d(ie,{q4:()=>$s,iC:()=>ga,HU:()=>Lu,vb:()=>fa,JM:()=>Fu});var f=S(5e3),R=S(5867),$=S(5861),le=S(9681),re=S(2090),ye=S(4859),_e=S(1877),ge=S(2940);const oe="@firebase/installations",J="0.5.5",ae=`w:${J}`,$e="FIS_v2",ne=new re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Re(M){return M instanceof re.ZR&&M.code.includes("request-failed")}function Ue({projectId:M}){return`https://firebaseinstallations.googleapis.com/v1/projects/${M}/installations`}function at(M){return{token:M.token,requestStatus:2,expiresIn:We(M.expiresIn),creationTime:Date.now()}}function Ke(M,V){return Et.apply(this,arguments)}function Et(){return(Et=(0,$.Z)(function*(M,V){const de=(yield V.json()).error;return ne.create("request-failed",{requestName:M,serverCode:de.code,serverMessage:de.message,serverStatus:de.status})})).apply(this,arguments)}function we({apiKey:M}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M})}function nt(M,{refreshToken:V}){const Z=we(M);return Z.append("Authorization",function Ge(M){return`${$e} ${M}`}(V)),Z}function Oe(M){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,$.Z)(function*(M){const V=yield M();return V.status>=500&&V.status<600?M():V})).apply(this,arguments)}function We(M){return Number(M.replace("s","000"))}function ct(M,V){return Be.apply(this,arguments)}function Be(){return(Be=(0,$.Z)(function*(M,{fid:V}){const Z=Ue(M),rt={method:"POST",headers:we(M),body:JSON.stringify({fid:V,authVersion:$e,appId:M.appId,sdkVersion:ae})},mt=yield Oe(()=>fetch(Z,rt));if(mt.ok){const Jt=yield mt.json();return{fid:Jt.fid||V,registrationStatus:2,refreshToken:Jt.refreshToken,authToken:at(Jt.authToken)}}throw yield Ke("Create Installation",mt)})).apply(this,arguments)}function At(M){return new Promise(V=>{setTimeout(V,M)})}const kn=/^[cdef][\w-]{21}$/;function ft(){try{const M=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(M),M[0]=112+M[0]%16;const Z=function dn(M){return function on(M){return btoa(String.fromCharCode(...M)).replace(/\+/g,"-").replace(/\//g,"_")}(M).substr(0,22)}(M);return kn.test(Z)?Z:""}catch(M){return""}}function Ht(M){return`${M.appName}!${M.appId}`}const sn=new Map;function Rt(M,V){const Z=Ht(M);Dn(Z,V),function yr(M,V){const Z=function Sn(){return!fn&&"BroadcastChannel"in self&&(fn=new BroadcastChannel("[Firebase] FID Change"),fn.onmessage=M=>{Dn(M.data.key,M.data.fid)}),fn}();Z&&Z.postMessage({key:M,fid:V}),function ur(){0===sn.size&&fn&&(fn.close(),fn=null)}()}(Z,V)}function Dn(M,V){const Z=sn.get(M);if(Z)for(const de of Z)de(V)}let fn=null;const ot="firebase-installations-store";let Xt=null;function It(){return Xt||(Xt=(0,ge.openDb)("firebase-installations-database",1,M=>{0===M.oldVersion&&M.createObjectStore(ot)})),Xt}function jn(M,V){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,$.Z)(function*(M,V){const Z=Ht(M),Fe=(yield It()).transaction(ot,"readwrite"),rt=Fe.objectStore(ot),mt=yield rt.get(Z);return yield rt.put(V,Z),yield Fe.complete,(!mt||mt.fid!==V.fid)&&Rt(M,V.fid),V})).apply(this,arguments)}function bn(M){return oi.apply(this,arguments)}function oi(){return(oi=(0,$.Z)(function*(M){const V=Ht(M),de=(yield It()).transaction(ot,"readwrite");yield de.objectStore(ot).delete(V),yield de.complete})).apply(this,arguments)}function Qt(M,V){return vt.apply(this,arguments)}function vt(){return(vt=(0,$.Z)(function*(M,V){const Z=Ht(M),Fe=(yield It()).transaction(ot,"readwrite"),rt=Fe.objectStore(ot),mt=yield rt.get(Z),Jt=V(mt);return void 0===Jt?yield rt.delete(Z):yield rt.put(Jt,Z),yield Fe.complete,Jt&&(!mt||mt.fid!==Jt.fid)&&Rt(M,Jt.fid),Jt})).apply(this,arguments)}function an(M){return kt.apply(this,arguments)}function kt(){return(kt=(0,$.Z)(function*(M){let V;const Z=yield Qt(M,de=>{const Fe=Pn(de),rt=Bt(M,Fe);return V=rt.registrationPromise,rt.installationEntry});return""===Z.fid?{installationEntry:yield V}:{installationEntry:Z,registrationPromise:V}})).apply(this,arguments)}function Pn(M){return xn(M||{fid:ft(),registrationStatus:0})}function Bt(M,V){if(0===V.registrationStatus){if(!navigator.onLine)return{installationEntry:V,registrationPromise:Promise.reject(ne.create("app-offline"))};const Z={fid:V.fid,registrationStatus:1,registrationTime:Date.now()},de=function Mt(M,V){return $t.apply(this,arguments)}(M,Z);return{installationEntry:Z,registrationPromise:de}}return 1===V.registrationStatus?{installationEntry:V,registrationPromise:wi(M)}:{installationEntry:V}}function $t(){return($t=(0,$.Z)(function*(M,V){try{return jn(M,yield ct(M,V))}catch(Z){throw Re(Z)&&409===Z.customData.serverCode?yield bn(M):yield jn(M,{fid:V.fid,registrationStatus:0}),Z}})).apply(this,arguments)}function wi(M){return pr.apply(this,arguments)}function pr(){return(pr=(0,$.Z)(function*(M){let V=yield en(M);for(;1===V.registrationStatus;)yield At(100),V=yield en(M);if(0===V.registrationStatus){const{installationEntry:Z,registrationPromise:de}=yield an(M);return de||Z}return V})).apply(this,arguments)}function en(M){return Qt(M,V=>{if(!V)throw ne.create("installation-not-found");return xn(V)})}function xn(M){return function Ar(M){return 1===M.registrationStatus&&M.registrationTime+1e4<Date.now()}(M)?{fid:M.fid,registrationStatus:0}:M}function qr(M,V){return fe.apply(this,arguments)}function fe(){return(fe=(0,$.Z)(function*({appConfig:M,platformLoggerProvider:V},Z){const de=De(M,Z),Fe=nt(M,Z),rt=V.getImmediate({optional:!0});rt&&Fe.append("x-firebase-client",rt.getPlatformInfoString());const Jt={method:"POST",headers:Fe,body:JSON.stringify({installation:{sdkVersion:ae}})},tn=yield Oe(()=>fetch(de,Jt));if(tn.ok)return at(yield tn.json());throw yield Ke("Generate Auth Token",tn)})).apply(this,arguments)}function De(M,{fid:V}){return`${Ue(M)}/${V}/authTokens:generate`}function be(M){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,$.Z)(function*(M,V=!1){let Z;const de=yield Qt(M.appConfig,rt=>{if(!Un(rt))throw ne.create("not-registered");const mt=rt.authToken;if(!V&&Pr(mt))return rt;if(1===mt.requestStatus)return Z=Ze(M,V),rt;{if(!navigator.onLine)throw ne.create("app-offline");const Jt=lr(rt);return Z=Mn(M,Jt),Jt}});return Z?yield Z:de.authToken})).apply(this,arguments)}function Ze(M,V){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,$.Z)(function*(M,V){let Z=yield Ut(M.appConfig);for(;1===Z.authToken.requestStatus;)yield At(100),Z=yield Ut(M.appConfig);const de=Z.authToken;return 0===de.requestStatus?be(M,V):de})).apply(this,arguments)}function Ut(M){return Qt(M,V=>{if(!Un(V))throw ne.create("not-registered");return function Fr(M){return 1===M.requestStatus&&M.requestTime+1e4<Date.now()}(V.authToken)?Object.assign(Object.assign({},V),{authToken:{requestStatus:0}}):V})}function Mn(M,V){return zn.apply(this,arguments)}function zn(){return(zn=(0,$.Z)(function*(M,V){try{const Z=yield qr(M,V),de=Object.assign(Object.assign({},V),{authToken:Z});return yield jn(M.appConfig,de),Z}catch(Z){if(!Re(Z)||401!==Z.customData.serverCode&&404!==Z.customData.serverCode){const de=Object.assign(Object.assign({},V),{authToken:{requestStatus:0}});yield jn(M.appConfig,de)}else yield bn(M.appConfig);throw Z}})).apply(this,arguments)}function Un(M){return void 0!==M&&2===M.registrationStatus}function Pr(M){return 2===M.requestStatus&&!function In(M){const V=Date.now();return V<M.creationTime||M.creationTime+M.expiresIn<V+36e5}(M)}function lr(M){const V={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},M),{authToken:V})}function cn(){return(cn=(0,$.Z)(function*(M){const V=M,{installationEntry:Z,registrationPromise:de}=yield an(V.appConfig);return de?de.catch(console.error):be(V).catch(console.error),Z.fid})).apply(this,arguments)}function Cn(){return(Cn=(0,$.Z)(function*(M,V=!1){const Z=M;return yield Xn(Z.appConfig),(yield be(Z,V)).token})).apply(this,arguments)}function Xn(M){return wr.apply(this,arguments)}function wr(){return(wr=(0,$.Z)(function*(M){const{registrationPromise:V}=yield an(M);V&&(yield V)})).apply(this,arguments)}function Lr(M){return ne.create("missing-app-config-values",{valueName:M})}const Tn="installations",un=M=>{const V=M.getProvider("app").getImmediate(),Z=function Wt(M){if(!M||!M.options)throw Lr("App Configuration");if(!M.name)throw Lr("App Name");const V=["projectId","apiKey","appId"];for(const Z of V)if(!M.options[Z])throw Lr(Z);return{appName:M.name,projectId:M.options.projectId,apiKey:M.options.apiKey,appId:M.options.appId}}(V);return{app:V,appConfig:Z,platformLoggerProvider:(0,le._getProvider)(V,"platform-logger"),_delete:()=>Promise.resolve()}},Nn=M=>{const V=M.getProvider("app").getImmediate(),Z=(0,le._getProvider)(V,Tn).getImmediate();return{getId:()=>function $r(M){return cn.apply(this,arguments)}(Z),getToken:Fe=>function Sr(M){return Cn.apply(this,arguments)}(Z,Fe)}};(function cr(){(0,le._registerComponent)(new ye.wA(Tn,un,"PUBLIC")),(0,le._registerComponent)(new ye.wA("installations-internal",Nn,"PRIVATE"))})(),(0,le.registerVersion)(oe,J),(0,le.registerVersion)(oe,J,"esm2017");const br="@firebase/remote-config",ir=new re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Le{constructor(V,Z,de,Fe){this.client=V,this.storage=Z,this.storageCache=de,this.logger=Fe}isCachedDataFresh(V,Z){if(!Z)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const de=Date.now()-Z,Fe=de<=V;return this.logger.debug(`Config fetch cache check. Cache age millis: ${de}. Cache max age millis (minimumFetchIntervalMillis setting): ${V}. Is cache hit: ${Fe}.`),Fe}fetch(V){var Z=this;return(0,$.Z)(function*(){const[de,Fe]=yield Promise.all([Z.storage.getLastSuccessfulFetchTimestampMillis(),Z.storage.getLastSuccessfulFetchResponse()]);if(Fe&&Z.isCachedDataFresh(V.cacheMaxAgeMillis,de))return Fe;V.eTag=Fe&&Fe.eTag;const rt=yield Z.client.fetch(V),mt=[Z.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===rt.status&&mt.push(Z.storage.setLastSuccessfulFetchResponse(rt)),yield Promise.all(mt),rt})()}}function ut(M=navigator){return M.languages&&M.languages[0]||M.language}class Gt{constructor(V,Z,de,Fe,rt,mt){this.firebaseInstallations=V,this.sdkVersion=Z,this.namespace=de,this.projectId=Fe,this.apiKey=rt,this.appId=mt}fetch(V){var Z=this;return(0,$.Z)(function*(){const[de,Fe]=yield Promise.all([Z.firebaseInstallations.getId(),Z.firebaseInstallations.getToken()]),mt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Z.projectId}/namespaces/${Z.namespace}:fetch?key=${Z.apiKey}`,Jt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":V.eTag||"*"},tn={sdk_version:Z.sdkVersion,app_instance_id:de,app_instance_id_token:Fe,app_id:Z.appId,language_code:ut()},On={method:"POST",headers:Jt,body:JSON.stringify(tn)},Qr=fetch(mt,On),Hs=new Promise((Xs,eo)=>{V.signal.addEventListener(()=>{const tu=new Error("The operation was aborted.");tu.name="AbortError",eo(tu)})});let Ms;try{yield Promise.race([Qr,Hs]),Ms=yield Qr}catch(Xs){let eo="fetch-client-network";throw"AbortError"===Xs.name&&(eo="fetch-timeout"),ir.create(eo,{originalErrorMessage:Xs.message})}let Mi=Ms.status;const ma=Ms.headers.get("ETag")||void 0;let ya,No;if(200===Ms.status){let Xs;try{Xs=yield Ms.json()}catch(eo){throw ir.create("fetch-client-parse",{originalErrorMessage:eo.message})}ya=Xs.entries,No=Xs.state}if("INSTANCE_STATE_UNSPECIFIED"===No?Mi=500:"NO_CHANGE"===No?Mi=304:("NO_TEMPLATE"===No||"EMPTY_CONFIG"===No)&&(ya={}),304!==Mi&&200!==Mi)throw ir.create("fetch-status",{httpStatus:Mi});return{status:Mi,eTag:ma,config:ya}})()}}class Te{constructor(V,Z){this.client=V,this.storage=Z}fetch(V){var Z=this;return(0,$.Z)(function*(){const de=(yield Z.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Z.attemptFetch(V,de)})()}attemptFetch(V,{throttleEndTimeMillis:Z,backoffCount:de}){var Fe=this;return(0,$.Z)(function*(){yield function Vn(M,V){return new Promise((Z,de)=>{const Fe=Math.max(V-Date.now(),0),rt=setTimeout(Z,Fe);M.addEventListener(()=>{clearTimeout(rt),de(ir.create("fetch-throttle",{throttleEndTimeMillis:V}))})})}(V.signal,Z);try{const rt=yield Fe.client.fetch(V);return yield Fe.storage.deleteThrottleMetadata(),rt}catch(rt){if(!function Dr(M){if(!(M instanceof re.ZR&&M.customData))return!1;const V=Number(M.customData.httpStatus);return 429===V||500===V||503===V||504===V}(rt))throw rt;const mt={throttleEndTimeMillis:Date.now()+(0,re.$s)(de),backoffCount:de+1};return yield Fe.storage.setThrottleMetadata(mt),Fe.attemptFetch(V,mt)}})()}}class lt{constructor(V,Z,de,Fe,rt){this.app=V,this._client=Z,this._storageCache=de,this._storage=Fe,this._logger=rt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Tt(M,V){const Z=M.target.error||void 0;return ir.create(V,{originalErrorMessage:Z&&Z.message})}const jt="app_namespace_store";class Ei{constructor(V,Z,de,Fe=function qn(){return new Promise((M,V)=>{try{const Z=indexedDB.open("firebase_remote_config",1);Z.onerror=de=>{V(Tt(de,"storage-open"))},Z.onsuccess=de=>{M(de.target.result)},Z.onupgradeneeded=de=>{0===de.oldVersion&&de.target.result.createObjectStore(jt,{keyPath:"compositeKey"})}}catch(Z){V(ir.create("storage-open",{originalErrorMessage:Z}))}})}()){this.appId=V,this.appName=Z,this.namespace=de,this.openDbPromise=Fe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(V){return this.set("last_fetch_status",V)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(V){return this.set("last_successful_fetch_timestamp_millis",V)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(V){return this.set("last_successful_fetch_response",V)}getActiveConfig(){return this.get("active_config")}setActiveConfig(V){return this.set("active_config",V)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(V){return this.set("active_config_etag",V)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(V){return this.set("throttle_metadata",V)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(V){var Z=this;return(0,$.Z)(function*(){const de=yield Z.openDbPromise;return new Promise((Fe,rt)=>{const Jt=de.transaction([jt],"readonly").objectStore(jt),tn=Z.createCompositeKey(V);try{const On=Jt.get(tn);On.onerror=Qr=>{rt(Tt(Qr,"storage-get"))},On.onsuccess=Qr=>{const Hs=Qr.target.result;Fe(Hs?Hs.value:void 0)}}catch(On){rt(ir.create("storage-get",{originalErrorMessage:On&&On.message}))}})})()}set(V,Z){var de=this;return(0,$.Z)(function*(){const Fe=yield de.openDbPromise;return new Promise((rt,mt)=>{const tn=Fe.transaction([jt],"readwrite").objectStore(jt),On=de.createCompositeKey(V);try{const Qr=tn.put({compositeKey:On,value:Z});Qr.onerror=Hs=>{mt(Tt(Hs,"storage-set"))},Qr.onsuccess=()=>{rt()}}catch(Qr){mt(ir.create("storage-set",{originalErrorMessage:Qr&&Qr.message}))}})})()}delete(V){var Z=this;return(0,$.Z)(function*(){const de=yield Z.openDbPromise;return new Promise((Fe,rt)=>{const Jt=de.transaction([jt],"readwrite").objectStore(jt),tn=Z.createCompositeKey(V);try{const On=Jt.delete(tn);On.onerror=Qr=>{rt(Tt(Qr,"storage-delete"))},On.onsuccess=()=>{Fe()}}catch(On){rt(ir.create("storage-delete",{originalErrorMessage:On&&On.message}))}})})()}createCompositeKey(V){return[this.appId,this.appName,this.namespace,V].join()}}class Ki{constructor(V){this.storage=V}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var V=this;return(0,$.Z)(function*(){const Z=V.storage.getLastFetchStatus(),de=V.storage.getLastSuccessfulFetchTimestampMillis(),Fe=V.storage.getActiveConfig(),rt=yield Z;rt&&(V.lastFetchStatus=rt);const mt=yield de;mt&&(V.lastSuccessfulFetchTimestampMillis=mt);const Jt=yield Fe;Jt&&(V.activeConfig=Jt)})()}setLastFetchStatus(V){return this.lastFetchStatus=V,this.storage.setLastFetchStatus(V)}setLastSuccessfulFetchTimestampMillis(V){return this.lastSuccessfulFetchTimestampMillis=V,this.storage.setLastSuccessfulFetchTimestampMillis(V)}setActiveConfig(V){return this.activeConfig=V,this.storage.setActiveConfig(V)}}function bs(){return Is.apply(this,arguments)}function Is(){return(Is=(0,$.Z)(function*(){if(!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch(M){return!1}})).apply(this,arguments)}!function ss(){(0,le._registerComponent)(new ye.wA("remote-config",function M(V,{instanceIdentifier:Z}){const de=V.getProvider("app").getImmediate(),Fe=V.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw ir.create("registration-window");if(!(0,re.hl)())throw ir.create("indexed-db-unavailable");const{projectId:rt,apiKey:mt,appId:Jt}=de.options;if(!rt)throw ir.create("registration-project-id");if(!mt)throw ir.create("registration-api-key");if(!Jt)throw ir.create("registration-app-id");const tn=new Ei(Jt,de.name,Z=Z||"firebase"),On=new Ki(tn),Qr=new _e.Yd(br);Qr.logLevel=_e.in.ERROR;const Hs=new Gt(Fe,le.SDK_VERSION,Z,rt,mt,Jt),Ms=new Te(Hs,tn),Mi=new Le(Ms,tn,On,Qr),ma=new lt(de,Mi,On,tn,Qr);return function Lt(M){const V=(0,re.m9)(M);V._initializePromise||(V._initializePromise=V._storageCache.loadFromStorage().then(()=>{V._isInitializationComplete=!0}))}(ma),ma},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(br,"0.3.4"),(0,le.registerVersion)(br,"0.3.4","esm2017")}();const mo="/firebase-messaging-sw.js",os="/firebase-cloud-messaging-push-scope",Zi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ui="google.c.a.c_id",Ns="google.c.a.c_l",ni="google.c.a.ts",no="google.c.a.e";var ci=(()=>{return(M=ci||(ci={})).PUSH_RECEIVED="push-received",M.NOTIFICATION_CLICKED="notification-clicked",ci;var M})();function Yr(M){const V=new Uint8Array(M);return btoa(String.fromCharCode(...V)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Yi(M){const Z=(M+"=".repeat((4-M.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),de=atob(Z),Fe=new Uint8Array(de.length);for(let rt=0;rt<de.length;++rt)Fe[rt]=de.charCodeAt(rt);return Fe}const Cr="fcm_token_details_db",Ds="fcm_token_object_Store";function us(M){return Ni.apply(this,arguments)}function Ni(){return Ni=(0,$.Z)(function*(M){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(rt=>rt.name).includes(Cr))return null;let V=null;return(yield(0,ge.openDb)(Cr,5,function(){var de=(0,$.Z)(function*(Fe){var rt;if(Fe.oldVersion<2||!Fe.objectStoreNames.contains(Ds))return;const mt=Fe.transaction.objectStore(Ds),Jt=yield mt.index("fcmSenderId").get(M);if(yield mt.clear(),Jt)if(2===Fe.oldVersion){const tn=Jt;if(!tn.auth||!tn.p256dh||!tn.endpoint)return;V={token:tn.fcmToken,createTime:null!==(rt=tn.createTime)&&void 0!==rt?rt:Date.now(),subscriptionOptions:{auth:tn.auth,p256dh:tn.p256dh,endpoint:tn.endpoint,swScope:tn.swScope,vapidKey:"string"==typeof tn.vapidKey?tn.vapidKey:Yr(tn.vapidKey)}}}else if(3===Fe.oldVersion){const tn=Jt;V={token:tn.fcmToken,createTime:tn.createTime,subscriptionOptions:{auth:Yr(tn.auth),p256dh:Yr(tn.p256dh),endpoint:tn.endpoint,swScope:tn.swScope,vapidKey:Yr(tn.vapidKey)}}}else if(4===Fe.oldVersion){const tn=Jt;V={token:tn.fcmToken,createTime:tn.createTime,subscriptionOptions:{auth:Yr(tn.auth),p256dh:Yr(tn.p256dh),endpoint:tn.endpoint,swScope:tn.swScope,vapidKey:Yr(tn.vapidKey)}}}});return function(Fe){return de.apply(this,arguments)}}())).close(),yield(0,ge.deleteDb)(Cr),yield(0,ge.deleteDb)("fcm_vapid_details_db"),yield(0,ge.deleteDb)("undefined"),Ls(V)?V:null}),Ni.apply(this,arguments)}function Ls(M){if(!M||!M.subscriptionOptions)return!1;const{subscriptionOptions:V}=M;return"number"==typeof M.createTime&&M.createTime>0&&"string"==typeof M.token&&M.token.length>0&&"string"==typeof V.auth&&V.auth.length>0&&"string"==typeof V.p256dh&&V.p256dh.length>0&&"string"==typeof V.endpoint&&V.endpoint.length>0&&"string"==typeof V.swScope&&V.swScope.length>0&&"string"==typeof V.vapidKey&&V.vapidKey.length>0}const ki="firebase-messaging-store";let Fi=null;function wn(){return Fi||(Fi=(0,ge.openDb)("firebase-messaging-database",1,M=>{0===M.oldVersion&&M.createObjectStore(ki)})),Fi}function N(M){return z.apply(this,arguments)}function z(){return(z=(0,$.Z)(function*(M){const V=pt(M),de=yield(yield wn()).transaction(ki).objectStore(ki).get(V);if(de)return de;{const Fe=yield us(M.appConfig.senderId);if(Fe)return yield P(M,Fe),Fe}})).apply(this,arguments)}function P(M,V){return K.apply(this,arguments)}function K(){return(K=(0,$.Z)(function*(M,V){const Z=pt(M),Fe=(yield wn()).transaction(ki,"readwrite");return yield Fe.objectStore(ki).put(V,Z),yield Fe.complete,V})).apply(this,arguments)}function me(M){return tt.apply(this,arguments)}function tt(){return(tt=(0,$.Z)(function*(M){const V=pt(M),de=(yield wn()).transaction(ki,"readwrite");yield de.objectStore(ki).delete(V),yield de.complete})).apply(this,arguments)}function pt({appConfig:M}){return M.appId}const yn=new re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Bn(M,V){return vr.apply(this,arguments)}function vr(){return(vr=(0,$.Z)(function*(M,V){const Z=yield mi(M),de=cs(V),Fe={method:"POST",headers:Z,body:JSON.stringify(de)};let rt;try{rt=yield(yield fetch(ri(M.appConfig),Fe)).json()}catch(mt){throw yn.create("token-subscribe-failed",{errorInfo:mt})}if(rt.error)throw yn.create("token-subscribe-failed",{errorInfo:rt.error.message});if(!rt.token)throw yn.create("token-subscribe-no-token");return rt.token})).apply(this,arguments)}function pn(M,V){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,$.Z)(function*(M,V){const Z=yield mi(M),de=cs(V.subscriptionOptions),Fe={method:"PATCH",headers:Z,body:JSON.stringify(de)};let rt;try{rt=yield(yield fetch(`${ri(M.appConfig)}/${V.token}`,Fe)).json()}catch(mt){throw yn.create("token-update-failed",{errorInfo:mt})}if(rt.error)throw yn.create("token-update-failed",{errorInfo:rt.error.message});if(!rt.token)throw yn.create("token-update-no-token");return rt.token})).apply(this,arguments)}function ar(M,V){return qt.apply(this,arguments)}function qt(){return(qt=(0,$.Z)(function*(M,V){const de={method:"DELETE",headers:yield mi(M)};try{const rt=yield(yield fetch(`${ri(M.appConfig)}/${V}`,de)).json();if(rt.error)throw yn.create("token-unsubscribe-failed",{errorInfo:rt.error.message})}catch(Fe){throw yn.create("token-unsubscribe-failed",{errorInfo:Fe})}})).apply(this,arguments)}function ri({projectId:M}){return`https://fcmregistrations.googleapis.com/v1/projects/${M}/registrations`}function mi(M){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,$.Z)(function*({appConfig:M,installations:V}){const Z=yield V.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M.apiKey,"x-goog-firebase-installations-auth":`FIS ${Z}`})})).apply(this,arguments)}function cs({p256dh:M,auth:V,endpoint:Z,vapidKey:de}){const Fe={web:{endpoint:Z,auth:V,p256dh:M}};return de!==Zi&&(Fe.web.applicationPubKey=de),Fe}const L=6048e5;function x(M){return A.apply(this,arguments)}function A(){return(A=(0,$.Z)(function*(M){const V=yield zr(M.swRegistration,M.vapidKey),Z={vapidKey:M.vapidKey,swScope:M.swRegistration.scope,endpoint:V.endpoint,auth:Yr(V.getKey("auth")),p256dh:Yr(V.getKey("p256dh"))},de=yield N(M.firebaseDependencies);if(de){if(Qs(de.subscriptionOptions,Z))return Date.now()>=de.createTime+L?Zt(M,{token:de.token,createTime:Date.now(),subscriptionOptions:Z}):de.token;try{yield ar(M.firebaseDependencies,de.token)}catch(Fe){console.warn(Fe)}return Ur(M.firebaseDependencies,Z)}return Ur(M.firebaseDependencies,Z)})).apply(this,arguments)}function U(M){return je.apply(this,arguments)}function je(){return(je=(0,$.Z)(function*(M){const V=yield N(M.firebaseDependencies);V&&(yield ar(M.firebaseDependencies,V.token),yield me(M.firebaseDependencies));const Z=yield M.swRegistration.pushManager.getSubscription();return!Z||Z.unsubscribe()})).apply(this,arguments)}function Zt(M,V){return En.apply(this,arguments)}function En(){return(En=(0,$.Z)(function*(M,V){try{const Z=yield pn(M.firebaseDependencies,V),de=Object.assign(Object.assign({},V),{token:Z,createTime:Date.now()});return yield P(M.firebaseDependencies,de),Z}catch(Z){throw yield U(M),Z}})).apply(this,arguments)}function Ur(M,V){return bi.apply(this,arguments)}function bi(){return(bi=(0,$.Z)(function*(M,V){const de={token:yield Bn(M,V),createTime:Date.now(),subscriptionOptions:V};return yield P(M,de),de.token})).apply(this,arguments)}function zr(M,V){return Li.apply(this,arguments)}function Li(){return(Li=(0,$.Z)(function*(M,V){return(yield M.pushManager.getSubscription())||M.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Yi(V)})})).apply(this,arguments)}function Qs(M,V){return V.vapidKey===M.vapidKey&&V.endpoint===M.endpoint&&V.auth===M.auth&&V.p256dh===M.p256dh}function Vs(M){const V={from:M.from,collapseKey:M.collapse_key,messageId:M.fcmMessageId};return function bo(M,V){if(!V.notification)return;M.notification={};const Z=V.notification.title;Z&&(M.notification.title=Z);const de=V.notification.body;de&&(M.notification.body=de);const Fe=V.notification.image;Fe&&(M.notification.image=Fe)}(V,M),function Io(M,V){!V.data||(M.data=V.data)}(V,M),function Do(M,V){if(!V.fcmOptions)return;M.fcmOptions={};const Z=V.fcmOptions.link;Z&&(M.fcmOptions.link=Z);const de=V.fcmOptions.analytics_label;de&&(M.fcmOptions.analyticsLabel=de)}(V,M),V}function Ii(M){return"object"==typeof M&&!!M&&ui in M}function Ji(M,V){const Z=[];for(let de=0;de<M.length;de++)Z.push(M.charAt(de)),de<V.length&&Z.push(V.charAt(de));return Z.join("")}function Cs(M){return yn.create("missing-app-config-values",{valueName:M})}Ji("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ji("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Xi{constructor(V,Z,de){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Fe=function ro(M){if(!M||!M.options)throw Cs("App Configuration Object");if(!M.name)throw Cs("App Name");const V=["projectId","apiKey","appId","messagingSenderId"],{options:Z}=M;for(const de of V)if(!Z[de])throw Cs(de);return{appName:M.name,projectId:Z.projectId,apiKey:Z.apiKey,appId:Z.appId,senderId:Z.messagingSenderId}}(V);this.firebaseDependencies={app:V,appConfig:Fe,installations:Z,analyticsProvider:de}}_delete(){return Promise.resolve()}}function Uo(M){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,$.Z)(function*(M){try{M.swRegistration=yield navigator.serviceWorker.register(mo,{scope:os}),M.swRegistration.update().catch(()=>{})}catch(V){throw yn.create("failed-service-worker-registration",{browserErrorMessage:V.message})}})).apply(this,arguments)}function io(M,V){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,$.Z)(function*(M,V){if(!V&&!M.swRegistration&&(yield Uo(M)),V||!M.swRegistration){if(!(V instanceof ServiceWorkerRegistration))throw yn.create("invalid-sw-registration");M.swRegistration=V}})).apply(this,arguments)}function Nr(M,V){return Co.apply(this,arguments)}function Co(){return(Co=(0,$.Z)(function*(M,V){V?M.vapidKey=V:M.vapidKey||(M.vapidKey=Zi)})).apply(this,arguments)}function Us(){return(Us=(0,$.Z)(function*(M,V){if(!navigator)throw yn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw yn.create("permission-blocked");return yield Nr(M,null==V?void 0:V.vapidKey),yield io(M,null==V?void 0:V.serviceWorkerRegistration),x(M)})).apply(this,arguments)}function Oa(M,V,Z){return $o.apply(this,arguments)}function $o(){return($o=(0,$.Z)(function*(M,V,Z){const de=As(V);(yield M.firebaseDependencies.analyticsProvider.get()).logEvent(de,{message_id:Z[ui],message_name:Z[Ns],message_time:Z[ni],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function As(M){switch(M){case ci.NOTIFICATION_CLICKED:return"notification_open";case ci.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function so(){return(so=(0,$.Z)(function*(M,V){const Z=V.data;if(!Z.isFirebaseMessaging)return;M.onMessageHandler&&Z.messageType===ci.PUSH_RECEIVED&&("function"==typeof M.onMessageHandler?M.onMessageHandler(Vs(Z)):M.onMessageHandler.next(Vs(Z)));const de=Z.data;Ii(de)&&"1"===de[no]&&(yield Oa(M,Z.messageType,de))})).apply(this,arguments)}const To="@firebase/messaging",gs=M=>{const V=new Xi(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),M.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Z=>function Ho(M,V){return so.apply(this,arguments)}(V,Z)),V},ia=M=>{const V=M.getProvider("messaging").getImmediate();return{getToken:de=>function jo(M,V){return Us.apply(this,arguments)}(V,de)}};function li(){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,$.Z)(function*(){return"undefined"!=typeof window&&(0,re.hl)()&&(yield(0,re.eu)())&&(0,re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function _u(){(0,le._registerComponent)(new ye.wA("messaging",gs,"PUBLIC")),(0,le._registerComponent)(new ye.wA("messaging-internal",ia,"PRIVATE")),(0,le.registerVersion)(To,"0.9.7"),(0,le.registerVersion)(To,"0.9.7","esm2017")}();const es="analytics",Wo="firebase_id",Mo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Vi="https://www.googletagmanager.com/gtag/js",Tr=new _e.Yd("@firebase/analytics");function ao(M){return Promise.all(M.map(V=>V.catch(Z=>Z)))}function ms(M,V){const Z=document.createElement("script");Z.src=`${Vi}?l=${M}&id=${V}`,Z.async=!0,document.head.appendChild(Z)}function xo(M,V,Z,de,Fe,rt){return zo.apply(this,arguments)}function zo(){return(zo=(0,$.Z)(function*(M,V,Z,de,Fe,rt){const mt=de[Fe];try{if(mt)yield V[mt];else{const tn=(yield ao(Z)).find(On=>On.measurementId===Fe);tn&&(yield V[tn.appId])}}catch(Jt){Tr.error(Jt)}M("config",Fe,rt)})).apply(this,arguments)}function _o(M,V,Z,de,Fe){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,$.Z)(function*(M,V,Z,de,Fe){try{let rt=[];if(Fe&&Fe.send_to){let mt=Fe.send_to;Array.isArray(mt)||(mt=[mt]);const Jt=yield ao(Z);for(const tn of mt){const On=Jt.find(Hs=>Hs.measurementId===tn),Qr=On&&V[On.appId];if(!Qr){rt=[];break}rt.push(Qr)}}0===rt.length&&(rt=Object.values(V)),yield Promise.all(rt),M("event",de,Fe||{})}catch(rt){Tr.error(rt)}})).apply(this,arguments)}function qo(){const M=window.document.getElementsByTagName("script");for(const V of Object.values(M))if(V.src&&V.src.includes(Vi))return V;return null}const D=new re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),gn=new class ht{constructor(V={},Z=1e3){this.throttleMetadata=V,this.intervalMillis=Z}getThrottleMetadata(V){return this.throttleMetadata[V]}setThrottleMetadata(V,Z){this.throttleMetadata[V]=Z}deleteThrottleMetadata(V){delete this.throttleMetadata[V]}};function ii(M){return new Headers({Accept:"application/json","x-goog-api-key":M})}function Ui(M){return fi.apply(this,arguments)}function fi(){return(fi=(0,$.Z)(function*(M){var V;const{appId:Z,apiKey:de}=M,Fe={method:"GET",headers:ii(de)},rt=Mo.replace("{app-id}",Z),mt=yield fetch(rt,Fe);if(200!==mt.status&&304!==mt.status){let Jt="";try{const tn=yield mt.json();(null===(V=tn.error)||void 0===V?void 0:V.message)&&(Jt=tn.error.message)}catch(tn){}throw D.create("config-fetch-failed",{httpStatus:mt.status,responseMessage:Jt})}return mt.json()})).apply(this,arguments)}function Bs(M){return _s.apply(this,arguments)}function _s(){return(_s=(0,$.Z)(function*(M,V=gn,Z){const{appId:de,apiKey:Fe,measurementId:rt}=M.options;if(!de)throw D.create("no-app-id");if(!Fe){if(rt)return{measurementId:rt,appId:de};throw D.create("no-api-key")}const mt=V.getThrottleMetadata(de)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Jt=new la;return setTimeout((0,$.Z)(function*(){Jt.abort()}),void 0!==Z?Z:6e4),ua({appId:de,apiKey:Fe,measurementId:rt},mt,Jt,V)})).apply(this,arguments)}function ua(M,V,Z){return yi.apply(this,arguments)}function yi(){return(yi=(0,$.Z)(function*(M,{throttleEndTimeMillis:V,backoffCount:Z},de,Fe=gn){const{appId:rt,measurementId:mt}=M;try{yield ca(de,V)}catch(Jt){if(mt)return Tr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${mt} provided in the "measurementId" field in the local Firebase config. [${Jt.message}]`),{appId:rt,measurementId:mt};throw Jt}try{const Jt=yield Ui(M);return Fe.deleteThrottleMetadata(rt),Jt}catch(Jt){if(!js(Jt)){if(Fe.deleteThrottleMetadata(rt),mt)return Tr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${mt} provided in the "measurementId" field in the local Firebase config. [${Jt.message}]`),{appId:rt,measurementId:mt};throw Jt}const tn=503===Number(Jt.customData.httpStatus)?(0,re.$s)(Z,Fe.intervalMillis,30):(0,re.$s)(Z,Fe.intervalMillis),On={throttleEndTimeMillis:Date.now()+tn,backoffCount:Z+1};return Fe.setThrottleMetadata(rt,On),Tr.debug(`Calling attemptFetch again in ${tn} millis`),ua(M,On,de,Fe)}})).apply(this,arguments)}function ca(M,V){return new Promise((Z,de)=>{const Fe=Math.max(V-Date.now(),0),rt=setTimeout(Z,Fe);M.addEventListener(()=>{clearTimeout(rt),de(D.create("fetch-throttle",{throttleEndTimeMillis:V}))})})}function js(M){if(!(M instanceof re.ZR&&M.customData))return!1;const V=Number(M.customData.httpStatus);return 429===V||500===V||503===V||504===V}class la{constructor(){this.listeners=[]}addEventListener(V){this.listeners.push(V)}abort(){this.listeners.forEach(V=>V())}}function Ra(){return St.apply(this,arguments)}function St(){return(St=(0,$.Z)(function*(){if(!(0,re.hl)())return Tr.warn(D.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,re.eu)()}catch(M){return Tr.warn(D.create("indexeddb-unavailable",{errorInfo:M}).message),!1}return!0})).apply(this,arguments)}function w(){return(w=(0,$.Z)(function*(M,V,Z,de,Fe,rt,mt){var Jt;const tn=Bs(M);tn.then(Mi=>{Z[Mi.measurementId]=Mi.appId,M.options.measurementId&&Mi.measurementId!==M.options.measurementId&&Tr.warn(`The measurement ID in the local Firebase config (${M.options.measurementId}) does not match the measurement ID fetched from the server (${Mi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Mi=>Tr.error(Mi)),V.push(tn);const On=Ra().then(Mi=>{if(Mi)return de.getId()}),[Qr,Hs]=yield Promise.all([tn,On]);qo()||ms(rt,Qr.measurementId),Fe("js",new Date);const Ms=null!==(Jt=null==mt?void 0:mt.config)&&void 0!==Jt?Jt:{};return Ms.origin="firebase",Ms.update=!0,null!=Hs&&(Ms[Wo]=Hs),Fe("config",Qr.measurementId,Ms),Qr.measurementId})).apply(this,arguments)}class _{constructor(V){this.app=V}_delete(){return delete C[this.app.options.appId],Promise.resolve()}}let C={},k=[];const q={};let Ee,Ct,Q="dataLayer",Gn=!1;function gr(M,V,Z){!function dr(){const M=[];if((0,re.ru)()&&M.push("This is a browser extension environment."),(0,re.zI)()||M.push("Cookies are not available."),M.length>0){const V=M.map((de,Fe)=>`(${Fe+1}) ${de}`).join(" "),Z=D.create("invalid-analytics-context",{errorInfo:V});Tr.warn(Z.message)}}();const de=M.options.appId;if(!de)throw D.create("no-app-id");if(!M.options.apiKey){if(!M.options.measurementId)throw D.create("no-api-key");Tr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${M.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=C[de])throw D.create("already-exists",{id:de});if(!Gn){!function ys(M){let V=[];Array.isArray(window[M])?V=window[M]:window[M]=V}(Q);const{wrappedGtag:rt,gtagCore:mt}=function Di(M,V,Z,de,Fe){let rt=function(...mt){window[de].push(arguments)};return window[Fe]&&"function"==typeof window[Fe]&&(rt=window[Fe]),window[Fe]=function aa(M,V,Z,de){function rt(){return(rt=(0,$.Z)(function*(mt,Jt,tn){try{"event"===mt?yield _o(M,V,Z,Jt,tn):"config"===mt?yield xo(M,V,Z,de,Jt,tn):M("set",Jt)}catch(On){Tr.error(On)}})).apply(this,arguments)}return function Fe(mt,Jt,tn){return rt.apply(this,arguments)}}(rt,M,V,Z),{gtagCore:rt,wrappedGtag:window[Fe]}}(C,k,q,Q,"gtag");Ct=rt,Ee=mt,Gn=!0}return C[de]=function I(M,V,Z,de,Fe,rt,mt){return w.apply(this,arguments)}(M,k,q,V,Ee,Q,Z),new _(M)}function Ss(){return(Ss=(0,$.Z)(function*(M,V,Z,de,Fe){if(Fe&&Fe.global)M("event",Z,de);else{const rt=yield V;M("event",Z,Object.assign(Object.assign({},de),{send_to:rt}))}})).apply(this,arguments)}function Ln(){return pc.apply(this,arguments)}function pc(){return(pc=(0,$.Z)(function*(){if((0,re.ru)()||!(0,re.zI)()||!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch(M){return!1}})).apply(this,arguments)}const _i="@firebase/analytics";!function Bi(){(0,le._registerComponent)(new ye.wA(es,(V,{options:Z})=>gr(V.getProvider("app").getImmediate(),V.getProvider("installations-internal").getImmediate(),Z),"PUBLIC")),(0,le._registerComponent)(new ye.wA("analytics-internal",function M(V){try{const Z=V.getProvider(es).getImmediate();return{logEvent:(de,Fe,rt)=>function Gc(M,V,Z,de){M=(0,re.m9)(M),function si(M,V,Z,de,Fe){return Ss.apply(this,arguments)}(Ct,C[M.app.options.appId],V,Z,de).catch(Fe=>Tr.error(Fe))}(Z,de,Fe,rt)}}catch(Z){throw D.create("interop-component-reg-failed",{reason:Z})}},"PRIVATE")),(0,le.registerVersion)(_i,"0.7.5"),(0,le.registerVersion)(_i,"0.7.5","esm2017")}();var Ri=S(233),Ro=S(4986),Na=S(8505),Pi=S(9468),ds=S(5363);const $s=new f.GfV("7.2.0"),vo="__angularfire_symbol__analyticsIsSupported",ka="__angularfire_symbol__remoteConfigIsSupported",rn="__angularfire_symbol__messagingIsSupported";function Fu(M,V,Z){if(V){if(1===V.length)return V[0];const rt=V.filter(mt=>mt.app===Z);if(1===rt.length)return rt[0]}return Z.container.getProvider(M).getImmediate({optional:!0})}globalThis[vo]||(globalThis[vo]=Ln().then(M=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=M)),globalThis[rn]||(globalThis[rn]=li().then(M=>globalThis.__angularfire_symbol__messagingIsSupportedValue=M)),globalThis[ka]||(globalThis[ka]=bs().then(M=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=M));const fa=(M,V)=>{const Z=V?[V]:(0,R.C6)(),de=[];return Z.forEach(Fe=>{Fe.container.getProvider(M).instances.forEach(mt=>{de.includes(mt)||de.push(mt)})}),de};function Fa(){}class eu{constructor(V,Z=Ri.N){this.zone=V,this.delegate=Z}now(){return this.delegate.now()}schedule(V,Z,de){const Fe=this.zone;return this.delegate.schedule(function(mt){Fe.runGuarded(()=>{V.apply(this,[mt])})},Z,de)}}class mc{constructor(V){this.zone=V,this.task=null}call(V,Z){const de=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fa,{},Fa,Fa)),Z.pipe((0,Na.b)({next:de,complete:de,error:de})).subscribe(V).add(de)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Lu=(()=>{class M{constructor(Z){this.ngZone=Z,this.outsideAngular=Z.runOutsideAngular(()=>new eu(Zone.current)),this.insideAngular=Z.run(()=>new eu(Zone.current,Ro.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return M.\u0275fac=function(Z){return new(Z||M)(f.LFG(f.R0b))},M.\u0275prov=f.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();function pa(){const M=globalThis.\u0275AngularFireScheduler;if(!M)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return M}function ga(M){return pa(),function vi(M){return function(Z){return(Z=Z.lift(new mc(M.ngZone))).pipe((0,Pi.R)(M.outsideAngular),(0,ds.Q)(M.insideAngular))}}(pa())(M)}},2090:(Me,ie,S)=>{"use strict";S.d(ie,{BH:()=>$e,LL:()=>Be,ZR:()=>ct,zI:()=>Ne,US:()=>ye,tV:()=>oe,$s:()=>en,r3:()=>Qn,Sg:()=>He,ne:()=>Xt,vZ:()=>fn,ZB:()=>ee,pd:()=>Fn,m9:()=>qr,z$:()=>ze,jU:()=>xe,ru:()=>ne,d:()=>Ue,xb:()=>Dn,w1:()=>at,hl:()=>nt,uI:()=>st,UG:()=>Ae,b$:()=>Re,G6:()=>we,Mn:()=>Ke,xO:()=>ur,zd:()=>tr,eu:()=>Oe});const le=function(fe){const De=[];let be=0;for(let Ve=0;Ve<fe.length;Ve++){let Ze=fe.charCodeAt(Ve);Ze<128?De[be++]=Ze:Ze<2048?(De[be++]=Ze>>6|192,De[be++]=63&Ze|128):55296==(64512&Ze)&&Ve+1<fe.length&&56320==(64512&fe.charCodeAt(Ve+1))?(Ze=65536+((1023&Ze)<<10)+(1023&fe.charCodeAt(++Ve)),De[be++]=Ze>>18|240,De[be++]=Ze>>12&63|128,De[be++]=Ze>>6&63|128,De[be++]=63&Ze|128):(De[be++]=Ze>>12|224,De[be++]=Ze>>6&63|128,De[be++]=63&Ze|128)}return De},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(fe,De){if(!Array.isArray(fe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const be=De?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ve=[];for(let Ze=0;Ze<fe.length;Ze+=3){const Nt=fe[Ze],Ut=Ze+1<fe.length,Mn=Ut?fe[Ze+1]:0,zn=Ze+2<fe.length,Un=zn?fe[Ze+2]:0;let lr=(15&Mn)<<2|Un>>6,Fr=63&Un;zn||(Fr=64,Ut||(lr=64)),Ve.push(be[Nt>>2],be[(3&Nt)<<4|Mn>>4],be[lr],be[Fr])}return Ve.join("")},encodeString(fe,De){return this.HAS_NATIVE_SUPPORT&&!De?btoa(fe):this.encodeByteArray(le(fe),De)},decodeString(fe,De){return this.HAS_NATIVE_SUPPORT&&!De?atob(fe):function(fe){const De=[];let be=0,Ve=0;for(;be<fe.length;){const Ze=fe[be++];if(Ze<128)De[Ve++]=String.fromCharCode(Ze);else if(Ze>191&&Ze<224){const Nt=fe[be++];De[Ve++]=String.fromCharCode((31&Ze)<<6|63&Nt)}else if(Ze>239&&Ze<365){const zn=((7&Ze)<<18|(63&fe[be++])<<12|(63&fe[be++])<<6|63&fe[be++])-65536;De[Ve++]=String.fromCharCode(55296+(zn>>10)),De[Ve++]=String.fromCharCode(56320+(1023&zn))}else{const Nt=fe[be++],Ut=fe[be++];De[Ve++]=String.fromCharCode((15&Ze)<<12|(63&Nt)<<6|63&Ut)}}return De.join("")}(this.decodeStringToByteArray(fe,De))},decodeStringToByteArray(fe,De){this.init_();const be=De?this.charToByteMapWebSafe_:this.charToByteMap_,Ve=[];for(let Ze=0;Ze<fe.length;){const Nt=be[fe.charAt(Ze++)],Mn=Ze<fe.length?be[fe.charAt(Ze)]:0;++Ze;const Un=Ze<fe.length?be[fe.charAt(Ze)]:64;++Ze;const In=Ze<fe.length?be[fe.charAt(Ze)]:64;if(++Ze,null==Nt||null==Mn||null==Un||null==In)throw Error();Ve.push(Nt<<2|Mn>>4),64!==Un&&(Ve.push(Mn<<4&240|Un>>2),64!==In&&Ve.push(Un<<6&192|In))}return Ve},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let fe=0;fe<this.ENCODED_VALS.length;fe++)this.byteToCharMap_[fe]=this.ENCODED_VALS.charAt(fe),this.charToByteMap_[this.byteToCharMap_[fe]]=fe,this.byteToCharMapWebSafe_[fe]=this.ENCODED_VALS_WEBSAFE.charAt(fe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[fe]]=fe,fe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(fe)]=fe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(fe)]=fe)}}},ge=function(fe){return function(fe){const De=le(fe);return ye.encodeByteArray(De,!0)}(fe).replace(/\./g,"")},oe=function(fe){try{return ye.decodeString(fe,!0)}catch(De){console.error("base64Decode failed: ",De)}return null};function ee(fe,De){if(!(De instanceof Object))return De;switch(De.constructor){case Date:return new Date(De.getTime());case Object:void 0===fe&&(fe={});break;case Array:fe=[];break;default:return De}for(const be in De)!De.hasOwnProperty(be)||!ae(be)||(fe[be]=ee(fe[be],De[be]));return fe}function ae(fe){return"__proto__"!==fe}class $e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((De,be)=>{this.resolve=De,this.reject=be})}wrapCallback(De){return(be,Ve)=>{be?this.reject(be):this.resolve(Ve),"function"==typeof De&&(this.promise.catch(()=>{}),1===De.length?De(be):De(be,Ve))}}}function He(fe,De){if(fe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ve=De||"demo-project",Ze=fe.iat||0,Nt=fe.sub||fe.user_id;if(!Nt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ut=Object.assign({iss:`https://securetoken.google.com/${Ve}`,aud:Ve,iat:Ze,exp:Ze+3600,auth_time:Ze,sub:Nt,user_id:Nt,firebase:{sign_in_provider:"custom",identities:{}}},fe);return[ge(JSON.stringify({alg:"none",type:"JWT"})),ge(JSON.stringify(Ut)),""].join(".")}function ze(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function st(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ze())}function Ae(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(fe){return!1}}function xe(){return"object"==typeof self&&self.self===self}function ne(){const fe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof fe&&void 0!==fe.id}function Re(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ue(){return ze().indexOf("Electron/")>=0}function at(){const fe=ze();return fe.indexOf("MSIE ")>=0||fe.indexOf("Trident/")>=0}function Ke(){return ze().indexOf("MSAppHost/")>=0}function we(){return!Ae()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nt(){return"object"==typeof indexedDB}function Oe(){return new Promise((fe,De)=>{try{let be=!0;const Ve="validate-browser-context-for-indexeddb-analytics-module",Ze=self.indexedDB.open(Ve);Ze.onsuccess=()=>{Ze.result.close(),be||self.indexedDB.deleteDatabase(Ve),fe(!0)},Ze.onupgradeneeded=()=>{be=!1},Ze.onerror=()=>{var Nt;De((null===(Nt=Ze.error)||void 0===Nt?void 0:Nt.message)||"")}}catch(be){De(be)}})}function Ne(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ct extends Error{constructor(De,be,Ve){super(be),this.code=De,this.customData=Ve,this.name="FirebaseError",Object.setPrototypeOf(this,ct.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Be.prototype.create)}}class Be{constructor(De,be,Ve){this.service=De,this.serviceName=be,this.errors=Ve}create(De,...be){const Ve=be[0]||{},Ze=`${this.service}/${De}`,Nt=this.errors[De],Ut=Nt?function At(fe,De){return fe.replace(on,(be,Ve)=>{const Ze=De[Ve];return null!=Ze?String(Ze):`<${Ve}?>`})}(Nt,Ve):"Error";return new ct(Ze,`${this.serviceName}: ${Ut} (${Ze}).`,Ve)}}const on=/\{\$([^}]+)}/g;function Qn(fe,De){return Object.prototype.hasOwnProperty.call(fe,De)}function Dn(fe){for(const De in fe)if(Object.prototype.hasOwnProperty.call(fe,De))return!1;return!0}function fn(fe,De){if(fe===De)return!0;const be=Object.keys(fe),Ve=Object.keys(De);for(const Ze of be){if(!Ve.includes(Ze))return!1;const Nt=fe[Ze],Ut=De[Ze];if(Sn(Nt)&&Sn(Ut)){if(!fn(Nt,Ut))return!1}else if(Nt!==Ut)return!1}for(const Ze of Ve)if(!be.includes(Ze))return!1;return!0}function Sn(fe){return null!==fe&&"object"==typeof fe}function ur(fe){const De=[];for(const[be,Ve]of Object.entries(fe))Array.isArray(Ve)?Ve.forEach(Ze=>{De.push(encodeURIComponent(be)+"="+encodeURIComponent(Ze))}):De.push(encodeURIComponent(be)+"="+encodeURIComponent(Ve));return De.length?"&"+De.join("&"):""}function tr(fe){const De={};return fe.replace(/^\?/,"").split("&").forEach(Ve=>{if(Ve){const[Ze,Nt]=Ve.split("=");De[decodeURIComponent(Ze)]=decodeURIComponent(Nt)}}),De}function Fn(fe){const De=fe.indexOf("?");if(!De)return"";const be=fe.indexOf("#",De);return fe.substring(De,be>0?be:void 0)}function Xt(fe,De){const be=new It(fe,De);return be.subscribe.bind(be)}class It{constructor(De,be){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=be,this.task.then(()=>{De(this)}).catch(Ve=>{this.error(Ve)})}next(De){this.forEachObserver(be=>{be.next(De)})}error(De){this.forEachObserver(be=>{be.error(De)}),this.close(De)}complete(){this.forEachObserver(De=>{De.complete()}),this.close()}subscribe(De,be,Ve){let Ze;if(void 0===De&&void 0===be&&void 0===Ve)throw new Error("Missing Observer.");Ze=function Kt(fe,De){if("object"!=typeof fe||null===fe)return!1;for(const be of De)if(be in fe&&"function"==typeof fe[be])return!0;return!1}(De,["next","error","complete"])?De:{next:De,error:be,complete:Ve},void 0===Ze.next&&(Ze.next=bn),void 0===Ze.error&&(Ze.error=bn),void 0===Ze.complete&&(Ze.complete=bn);const Nt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ze.error(this.finalError):Ze.complete()}catch(Ut){}}),this.observers.push(Ze),Nt}unsubscribeOne(De){void 0===this.observers||void 0===this.observers[De]||(delete this.observers[De],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(De){if(!this.finalized)for(let be=0;be<this.observers.length;be++)this.sendOne(be,De)}sendOne(De,be){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[De])try{be(this.observers[De])}catch(Ve){"undefined"!=typeof console&&console.error&&console.error(Ve)}})}close(De){this.finalized||(this.finalized=!0,void 0!==De&&(this.finalError=De),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bn(){}function en(fe,De=1e3,be=2){const Ve=De*Math.pow(be,fe),Ze=Math.round(.5*Ve*(Math.random()-.5)*2);return Math.min(144e5,Ve+Ze)}function qr(fe){return fe&&fe._delegate?fe._delegate:fe}},3259:(Me,ie,S)=>{"use strict";S.d(ie,{a:()=>R,N:()=>$});var f=S(5620);const R=(0,f.PH)("[Auth] SetUser",(0,f.Ky)()),$=(0,f.PH)("[Auth] UnSetUser")},725:(Me,ie,S)=>{"use strict";S.d(ie,{H:()=>R,U:()=>$});var f=S(5620);const R=(0,f.PH)("[IngresoEgreso Component] Unset Items"),$=(0,f.PH)("[IngresoEgreso Component] Set Items",(0,f.Ky)())},1353:(Me,ie,S)=>{"use strict";S.d(ie,{e:()=>oe});var f=S(4004);class R{constructor(ee,ae,$e){this.uid=ee,this.nombre=ae,this.email=$e}static fromFirebase({email:ee,uid:ae,nombre:$e}){return new R(ae,$e,ee)}}var $=S(3259),le=S(725),re=S(5e3),ye=S(1041),_e=S(7407),ge=S(5620);let oe=(()=>{class J{constructor(ae,$e,He){this.auth=ae,this.firestore=$e,this.store=He}get user(){return this._user}initAuthListener(){this.auth.authState.subscribe(ae=>{var $e;ae?this.userSubs=this.firestore.doc(`${null==ae?void 0:ae.uid}/usuario`).valueChanges().subscribe(He=>{const ze=R.fromFirebase(He);this._user=ze,this.store.dispatch((0,$.a)({user:ze}))}):(this._user=null,null===($e=this.userSubs)||void 0===$e||$e.unsubscribe(),this.store.dispatch((0,$.N)()),this.store.dispatch((0,le.H)()))})}crearUsuario(ae,$e,He){return this.auth.createUserWithEmailAndPassword($e,He).then(({user:ze})=>{const st=new R(null==ze?void 0:ze.uid,ae,null==ze?void 0:ze.email);return this.firestore.doc(`${null==ze?void 0:ze.uid}/usuario`).set(Object.assign({},st))})}loginUsuario(ae,$e){return this.auth.signInWithEmailAndPassword(ae,$e)}logout(){return this.auth.signOut()}isAuth(){return this.auth.authState.pipe((0,f.U)(ae=>null!=ae))}}return J.\u0275fac=function(ae){return new(ae||J)(re.LFG(ye.zQ),re.LFG(_e.ST),re.LFG(ge.yh))},J.\u0275prov=re.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})()},1222:(Me,ie,S)=>{"use strict";S.d(ie,{h:()=>R,V:()=>$});var f=S(5620);const R=(0,f.PH)("[UI Component] Is Loading"),$=(0,f.PH)("[UI Component] Stop Loading")},4468:(Me,ie,S)=>{"use strict";var f=S(9808),R=S(5e3);class $ extends f.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class le extends ${static makeCurrent(){(0,f.HT)(new le)}onAndCancel(ue,te,Le){return ue.addEventListener(te,Le,!1),()=>{ue.removeEventListener(te,Le,!1)}}dispatchEvent(ue,te){ue.dispatchEvent(te)}remove(ue){ue.parentNode&&ue.parentNode.removeChild(ue)}createElement(ue,te){return(te=te||this.getDefaultDocument()).createElement(ue)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ue){return ue.nodeType===Node.ELEMENT_NODE}isShadowRoot(ue){return ue instanceof DocumentFragment}getGlobalEventTarget(ue,te){return"window"===te?window:"document"===te?ue:"body"===te?ue.body:null}getBaseHref(ue){const te=function ye(){return re=re||document.querySelector("base"),re?re.getAttribute("href"):null}();return null==te?null:function ge(ce){_e=_e||document.createElement("a"),_e.setAttribute("href",ce);const ue=_e.pathname;return"/"===ue.charAt(0)?ue:`/${ue}`}(te)}resetBaseElement(){re=null}getUserAgent(){return window.navigator.userAgent}getCookie(ue){return(0,f.Mx)(document.cookie,ue)}}let _e,re=null;const oe=new R.OlP("TRANSITION_ID"),ee=[{provide:R.ip1,useFactory:function J(ce,ue,te){return()=>{te.get(R.CZH).donePromise.then(()=>{const Le=(0,f.q)(),ut=ue.querySelectorAll(`style[ng-transition="${ce}"]`);for(let Gt=0;Gt<ut.length;Gt++)Le.remove(ut[Gt])})}},deps:[oe,f.K0,R.zs3],multi:!0}];class ae{static init(){(0,R.VLi)(new ae)}addToWindow(ue){R.dqk.getAngularTestability=(Le,ut=!0)=>{const Gt=ue.findTestabilityInTree(Le,ut);if(null==Gt)throw new Error("Could not find testability for element.");return Gt},R.dqk.getAllAngularTestabilities=()=>ue.getAllTestabilities(),R.dqk.getAllAngularRootElements=()=>ue.getAllRootElements(),R.dqk.frameworkStabilizers||(R.dqk.frameworkStabilizers=[]),R.dqk.frameworkStabilizers.push(Le=>{const ut=R.dqk.getAllAngularTestabilities();let Gt=ut.length,Vn=!1;const Dr=function(Te){Vn=Vn||Te,Gt--,0==Gt&&Le(Vn)};ut.forEach(function(Te){Te.whenStable(Dr)})})}findTestabilityInTree(ue,te,Le){if(null==te)return null;const ut=ue.getTestability(te);return null!=ut?ut:Le?(0,f.q)().isShadowRoot(te)?this.findTestabilityInTree(ue,te.host,!0):this.findTestabilityInTree(ue,te.parentElement,!0):null}}let $e=(()=>{class ce{build(){return new XMLHttpRequest}}return ce.\u0275fac=function(te){return new(te||ce)},ce.\u0275prov=R.Yz7({token:ce,factory:ce.\u0275fac}),ce})();const He=new R.OlP("EventManagerPlugins");let ze=(()=>{class ce{constructor(te,Le){this._zone=Le,this._eventNameToPlugin=new Map,te.forEach(ut=>ut.manager=this),this._plugins=te.slice().reverse()}addEventListener(te,Le,ut){return this._findPluginFor(Le).addEventListener(te,Le,ut)}addGlobalEventListener(te,Le,ut){return this._findPluginFor(Le).addGlobalEventListener(te,Le,ut)}getZone(){return this._zone}_findPluginFor(te){const Le=this._eventNameToPlugin.get(te);if(Le)return Le;const ut=this._plugins;for(let Gt=0;Gt<ut.length;Gt++){const Vn=ut[Gt];if(Vn.supports(te))return this._eventNameToPlugin.set(te,Vn),Vn}throw new Error(`No event manager plugin found for event ${te}`)}}return ce.\u0275fac=function(te){return new(te||ce)(R.LFG(He),R.LFG(R.R0b))},ce.\u0275prov=R.Yz7({token:ce,factory:ce.\u0275fac}),ce})();class st{constructor(ue){this._doc=ue}addGlobalEventListener(ue,te,Le){const ut=(0,f.q)().getGlobalEventTarget(this._doc,ue);if(!ut)throw new Error(`Unsupported event target ${ut} for event ${te}`);return this.addEventListener(ut,te,Le)}}let Ae=(()=>{class ce{constructor(){this._stylesSet=new Set}addStyles(te){const Le=new Set;te.forEach(ut=>{this._stylesSet.has(ut)||(this._stylesSet.add(ut),Le.add(ut))}),this.onStylesAdded(Le)}onStylesAdded(te){}getAllStyles(){return Array.from(this._stylesSet)}}return ce.\u0275fac=function(te){return new(te||ce)},ce.\u0275prov=R.Yz7({token:ce,factory:ce.\u0275fac}),ce})(),xe=(()=>{class ce extends Ae{constructor(te){super(),this._doc=te,this._hostNodes=new Map,this._hostNodes.set(te.head,[])}_addStylesToHost(te,Le,ut){te.forEach(Gt=>{const Vn=this._doc.createElement("style");Vn.textContent=Gt,ut.push(Le.appendChild(Vn))})}addHost(te){const Le=[];this._addStylesToHost(this._stylesSet,te,Le),this._hostNodes.set(te,Le)}removeHost(te){const Le=this._hostNodes.get(te);Le&&Le.forEach(ne),this._hostNodes.delete(te)}onStylesAdded(te){this._hostNodes.forEach((Le,ut)=>{this._addStylesToHost(te,ut,Le)})}ngOnDestroy(){this._hostNodes.forEach(te=>te.forEach(ne))}}return ce.\u0275fac=function(te){return new(te||ce)(R.LFG(f.K0))},ce.\u0275prov=R.Yz7({token:ce,factory:ce.\u0275fac}),ce})();function ne(ce){(0,f.q)().remove(ce)}const Re={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ue=/%COMP%/g;function Ne(ce,ue,te){for(let Le=0;Le<ue.length;Le++){let ut=ue[Le];Array.isArray(ut)?Ne(ce,ut,te):(ut=ut.replace(Ue,ce),te.push(ut))}return te}function We(ce){return ue=>{if("__ngUnwrap__"===ue)return ce;!1===ce(ue)&&(ue.preventDefault(),ue.returnValue=!1)}}let ct=(()=>{class ce{constructor(te,Le,ut){this.eventManager=te,this.sharedStylesHost=Le,this.appId=ut,this.rendererByCompId=new Map,this.defaultRenderer=new Be(te)}createRenderer(te,Le){if(!te||!Le)return this.defaultRenderer;switch(Le.encapsulation){case R.ifc.Emulated:{let ut=this.rendererByCompId.get(Le.id);return ut||(ut=new kn(this.eventManager,this.sharedStylesHost,Le,this.appId),this.rendererByCompId.set(Le.id,ut)),ut.applyToHost(te),ut}case 1:case R.ifc.ShadowDom:return new Ot(this.eventManager,this.sharedStylesHost,te,Le);default:if(!this.rendererByCompId.has(Le.id)){const ut=Ne(Le.id,Le.styles,[]);this.sharedStylesHost.addStyles(ut),this.rendererByCompId.set(Le.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return ce.\u0275fac=function(te){return new(te||ce)(R.LFG(ze),R.LFG(xe),R.LFG(R.AFp))},ce.\u0275prov=R.Yz7({token:ce,factory:ce.\u0275fac}),ce})();class Be{constructor(ue){this.eventManager=ue,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ue,te){return te?document.createElementNS(Re[te]||te,ue):document.createElement(ue)}createComment(ue){return document.createComment(ue)}createText(ue){return document.createTextNode(ue)}appendChild(ue,te){ue.appendChild(te)}insertBefore(ue,te,Le){ue&&ue.insertBefore(te,Le)}removeChild(ue,te){ue&&ue.removeChild(te)}selectRootElement(ue,te){let Le="string"==typeof ue?document.querySelector(ue):ue;if(!Le)throw new Error(`The selector "${ue}" did not match any elements`);return te||(Le.textContent=""),Le}parentNode(ue){return ue.parentNode}nextSibling(ue){return ue.nextSibling}setAttribute(ue,te,Le,ut){if(ut){te=ut+":"+te;const Gt=Re[ut];Gt?ue.setAttributeNS(Gt,te,Le):ue.setAttribute(te,Le)}else ue.setAttribute(te,Le)}removeAttribute(ue,te,Le){if(Le){const ut=Re[Le];ut?ue.removeAttributeNS(ut,te):ue.removeAttribute(`${Le}:${te}`)}else ue.removeAttribute(te)}addClass(ue,te){ue.classList.add(te)}removeClass(ue,te){ue.classList.remove(te)}setStyle(ue,te,Le,ut){ut&(R.JOm.DashCase|R.JOm.Important)?ue.style.setProperty(te,Le,ut&R.JOm.Important?"important":""):ue.style[te]=Le}removeStyle(ue,te,Le){Le&R.JOm.DashCase?ue.style.removeProperty(te):ue.style[te]=""}setProperty(ue,te,Le){ue[te]=Le}setValue(ue,te){ue.nodeValue=te}listen(ue,te,Le){return"string"==typeof ue?this.eventManager.addGlobalEventListener(ue,te,We(Le)):this.eventManager.addEventListener(ue,te,We(Le))}}class kn extends Be{constructor(ue,te,Le,ut){super(ue),this.component=Le;const Gt=Ne(ut+"-"+Le.id,Le.styles,[]);te.addStyles(Gt),this.contentAttr=function nt(ce){return"_ngcontent-%COMP%".replace(Ue,ce)}(ut+"-"+Le.id),this.hostAttr=function Oe(ce){return"_nghost-%COMP%".replace(Ue,ce)}(ut+"-"+Le.id)}applyToHost(ue){super.setAttribute(ue,this.hostAttr,"")}createElement(ue,te){const Le=super.createElement(ue,te);return super.setAttribute(Le,this.contentAttr,""),Le}}class Ot extends Be{constructor(ue,te,Le,ut){super(ue),this.sharedStylesHost=te,this.hostEl=Le,this.shadowRoot=Le.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Gt=Ne(ut.id,ut.styles,[]);for(let Vn=0;Vn<Gt.length;Vn++){const Dr=document.createElement("style");Dr.textContent=Gt[Vn],this.shadowRoot.appendChild(Dr)}}nodeOrShadowRoot(ue){return ue===this.hostEl?this.shadowRoot:ue}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ue,te){return super.appendChild(this.nodeOrShadowRoot(ue),te)}insertBefore(ue,te,Le){return super.insertBefore(this.nodeOrShadowRoot(ue),te,Le)}removeChild(ue,te){return super.removeChild(this.nodeOrShadowRoot(ue),te)}parentNode(ue){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ue)))}}let ft=(()=>{class ce extends st{constructor(te){super(te)}supports(te){return!0}addEventListener(te,Le,ut){return te.addEventListener(Le,ut,!1),()=>this.removeEventListener(te,Le,ut)}removeEventListener(te,Le,ut){return te.removeEventListener(Le,ut)}}return ce.\u0275fac=function(te){return new(te||ce)(R.LFG(f.K0))},ce.\u0275prov=R.Yz7({token:ce,factory:ce.\u0275fac}),ce})();const dn=["alt","control","meta","shift"],sn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Rt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Qn={alt:ce=>ce.altKey,control:ce=>ce.ctrlKey,meta:ce=>ce.metaKey,shift:ce=>ce.shiftKey};let Jn=(()=>{class ce extends st{constructor(te){super(te)}supports(te){return null!=ce.parseEventName(te)}addEventListener(te,Le,ut){const Gt=ce.parseEventName(Le),Vn=ce.eventCallback(Gt.fullKey,ut,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,f.q)().onAndCancel(te,Gt.domEventName,Vn))}static parseEventName(te){const Le=te.toLowerCase().split("."),ut=Le.shift();if(0===Le.length||"keydown"!==ut&&"keyup"!==ut)return null;const Gt=ce._normalizeKey(Le.pop());let Vn="";if(dn.forEach(Te=>{const Ce=Le.indexOf(Te);Ce>-1&&(Le.splice(Ce,1),Vn+=Te+".")}),Vn+=Gt,0!=Le.length||0===Gt.length)return null;const Dr={};return Dr.domEventName=ut,Dr.fullKey=Vn,Dr}static getEventFullKey(te){let Le="",ut=function Dn(ce){let ue=ce.key;if(null==ue){if(ue=ce.keyIdentifier,null==ue)return"Unidentified";ue.startsWith("U+")&&(ue=String.fromCharCode(parseInt(ue.substring(2),16)),3===ce.location&&Rt.hasOwnProperty(ue)&&(ue=Rt[ue]))}return sn[ue]||ue}(te);return ut=ut.toLowerCase()," "===ut?ut="space":"."===ut&&(ut="dot"),dn.forEach(Gt=>{Gt!=ut&&Qn[Gt](te)&&(Le+=Gt+".")}),Le+=ut,Le}static eventCallback(te,Le,ut){return Gt=>{ce.getEventFullKey(Gt)===te&&ut.runGuarded(()=>Le(Gt))}}static _normalizeKey(te){return"esc"===te?"escape":te}}return ce.\u0275fac=function(te){return new(te||ce)(R.LFG(f.K0))},ce.\u0275prov=R.Yz7({token:ce,factory:ce.\u0275fac}),ce})();const tr=(0,R.eFA)(R._c5,"browser",[{provide:R.Lbi,useValue:f.bD},{provide:R.g9A,useValue:function yr(){le.makeCurrent(),ae.init()},multi:!0},{provide:f.K0,useFactory:function Sn(){return(0,R.RDi)(document),document},deps:[]}]),Fn=[{provide:R.zSh,useValue:"root"},{provide:R.qLn,useFactory:function fn(){return new R.qLn},deps:[]},{provide:He,useClass:ft,multi:!0,deps:[f.K0,R.R0b,R.Lbi]},{provide:He,useClass:Jn,multi:!0,deps:[f.K0]},{provide:ct,useClass:ct,deps:[ze,xe,R.AFp]},{provide:R.FYo,useExisting:ct},{provide:Ae,useExisting:xe},{provide:xe,useClass:xe,deps:[f.K0]},{provide:R.dDg,useClass:R.dDg,deps:[R.R0b]},{provide:ze,useClass:ze,deps:[He,R.R0b]},{provide:f.JF,useClass:$e,deps:[]}];let ot=(()=>{class ce{constructor(te){if(te)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(te){return{ngModule:ce,providers:[{provide:R.AFp,useValue:te.appId},{provide:oe,useExisting:R.AFp},ee]}}}return ce.\u0275fac=function(te){return new(te||ce)(R.LFG(ce,12))},ce.\u0275mod=R.oAB({type:ce}),ce.\u0275inj=R.cJS({providers:Fn,imports:[f.ez,R.hGG]}),ce})();"undefined"!=typeof window&&window;const cn_firebase={apiKey:"AIzaSyDTGyv5R-YeSL8fLK5QF-BxjUaU-74Vdyc",authDomain:"ingreso-egreso-app-1989.firebaseapp.com",projectId:"ingreso-egreso-app-1989",storageBucket:"ingreso-egreso-app-1989.appspot.com",messagingSenderId:"203180176115",appId:"1:203180176115:web:cb8e9578029fecc4f8fd86",measurementId:"G-PKENK59V43"};var Sr=S(6115),Cn=S(2382),Xn=S(5226),wr=S.n(Xn),_r=S(1222),nr=S(1353),Er=S(5620);function gi(ce,ue){1&ce&&R._UZ(0,"i",22)}function Mr(ce,ue){1&ce&&R._UZ(0,"img",23)}function Hr(ce,ue){1&ce&&R._UZ(0,"i",22)}function Gr(ce,ue){1&ce&&R._UZ(0,"img",24)}function Wt(ce,ue){if(1&ce&&(R.TgZ(0,"button",25),R._uU(1,"Login"),R.qZA()),2&ce){const te=R.oxw();R.Q6J("disabled",te.loginForm.invalid)}}function Lr(ce,ue){1&ce&&(R.TgZ(0,"button",26),R._UZ(1,"i",27),R._uU(2," Espere..."),R.qZA()),2&ce&&R.Q6J("disabled",!0)}let Tn=(()=>{class ce{constructor(te,Le,ut,Gt){this.fb=te,this.authService=Le,this.router=ut,this.store=Gt,this.cargando=!1}ngOnInit(){this.loginForm=this.fb.group({correo:["",[Cn.kI.required,Cn.kI.email]],password:["",[Cn.kI.required,Cn.kI.minLength(4)]]}),this.uiSubs=this.store.select("ui").subscribe(te=>{this.cargando=te.isLoading})}ngOnDestroy(){var te;null===(te=this.uiSubs)||void 0===te||te.unsubscribe()}loginUsuario(){if(this.loginForm.invalid)return;this.store.dispatch((0,_r.h)());const{correo:te,password:Le}=this.loginForm.value;this.authService.loginUsuario(te,Le).then(ut=>{this.store.dispatch((0,_r.V)()),this.router.navigate(["/"])}).catch(ut=>{this.store.dispatch((0,_r.V)()),wr().fire({icon:"error",title:"Oops...",text:ut.message})})}}return ce.\u0275fac=function(te){return new(te||ce)(R.Y36(Cn.qu),R.Y36(nr.e),R.Y36(Sr.F0),R.Y36(Er.yh))},ce.\u0275cmp=R.Xpm({type:ce,selectors:[["app-login"]],decls:35,vars:7,consts:[[1,"page-body-wrapper","full-page-wrapper","auth-page"],[1,"content-wrapper","d-flex","align-items-center","auth","auth-bg-1","theme-one"],[1,"row","w-100"],[1,"col-lg-4","mx-auto"],[1,"text-center","mb-4",2,"color","white"],[1,"auto-form-wrapper"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"label"],[1,"input-group"],["type","email","placeholder","Email","formControlName","correo",1,"form-control"],[1,"input-group-append"],[1,"input-group-text"],["class","fa fa-check-circle ",4,"ngIf"],["src","\\assets\\images\\img-faest\\check.png","alt"," ","width","20px","height","20px",4,"ngIf"],["type","password","placeholder","*********","formControlName","password","maxlength","15",1,"form-control"],["src","\\assets\\images\\img-faest\\check.png","alt","","width","20px","height","20px",4,"ngIf"],["type","submit","class","btn btn-primary submit-btn btn-block",3,"disabled",4,"ngIf"],["type","button","class","btn btn-primary submit-btn btn-block",3,"disabled",4,"ngIf"],[1,"text-block","text-center","my-3"],[1,"text-small","font-weight-semibold"],["routerLink","/register",1,"text-black","text-small"],[1,"fa","fa-check-circle"],["src","\\assets\\images\\img-faest\\check.png","alt"," ","width","20px","height","20px"],["src","\\assets\\images\\img-faest\\check.png","alt","","width","20px","height","20px"],["type","submit",1,"btn","btn-primary","submit-btn","btn-block",3,"disabled"],["type","button",1,"btn","btn-primary","submit-btn","btn-block",3,"disabled"],[1,"fa","fa-spin","fa-sync"]],template:function(te,Le){1&te&&(R.TgZ(0,"div",0),R.TgZ(1,"div",1),R.TgZ(2,"div",2),R.TgZ(3,"div",3),R.TgZ(4,"h2",4),R._uU(5,"Ingresar"),R.qZA(),R.TgZ(6,"div",5),R.TgZ(7,"form",6),R.NdJ("ngSubmit",function(){return Le.loginUsuario()}),R.TgZ(8,"div",7),R.TgZ(9,"label",8),R._uU(10,"Email usuario"),R.qZA(),R.TgZ(11,"div",9),R._UZ(12,"input",10),R.TgZ(13,"div",11),R.TgZ(14,"span",12),R.YNc(15,gi,1,0,"i",13),R.YNc(16,Mr,1,0,"img",14),R.qZA(),R.qZA(),R.qZA(),R.qZA(),R.TgZ(17,"div",7),R.TgZ(18,"label",8),R._uU(19,"Contrase\xf1a"),R.qZA(),R.TgZ(20,"div",9),R._UZ(21,"input",15),R.TgZ(22,"div",11),R.TgZ(23,"span",12),R.YNc(24,Hr,1,0,"i",13),R.YNc(25,Gr,1,0,"img",16),R.qZA(),R.qZA(),R.qZA(),R.qZA(),R.TgZ(26,"div",7),R.YNc(27,Wt,2,1,"button",17),R.YNc(28,Lr,3,1,"button",18),R.qZA(),R.TgZ(29,"div",19),R.TgZ(30,"span",20),R._uU(31,"No estas registrado? "),R.qZA(),R._UZ(32,"br"),R.TgZ(33,"a",21),R._uU(34,"Crear una cuenta"),R.qZA(),R.qZA(),R.qZA(),R.qZA(),R.qZA(),R.qZA(),R.qZA(),R.qZA()),2&te&&(R.xp6(7),R.Q6J("formGroup",Le.loginForm),R.xp6(8),R.Q6J("ngIf",Le.loginForm.get("correo").invalid),R.xp6(1),R.Q6J("ngIf",Le.loginForm.get("correo").valid),R.xp6(8),R.Q6J("ngIf",Le.loginForm.get("password").invalid),R.xp6(1),R.Q6J("ngIf",Le.loginForm.get("password").valid),R.xp6(2),R.Q6J("ngIf",!Le.cargando),R.xp6(1),R.Q6J("ngIf",Le.cargando))},directives:[Cn._Y,Cn.JL,Cn.sg,Cn.Fj,Cn.JJ,Cn.u,f.O5,Cn.nD,Sr.yS],encapsulation:2}),ce})();function gt(ce,ue){1&ce&&R._UZ(0,"img",20)}function un(ce,ue){1&ce&&R._UZ(0,"img",20)}function Nn(ce,ue){1&ce&&R._UZ(0,"img",20)}function cr(ce,ue){if(1&ce&&(R.TgZ(0,"button",21),R._uU(1,"Crear cuenta"),R.qZA()),2&ce){const te=R.oxw();R.Q6J("disabled",te.registroForm.invalid)}}function br(ce,ue){1&ce&&(R.TgZ(0,"button",22),R._UZ(1,"i",23),R._uU(2," Espere..."),R.qZA()),2&ce&&R.Q6J("disabled",!0)}let $n=(()=>{class ce{constructor(te,Le,ut,Gt){this.fb=te,this.authService=Le,this.router=ut,this.store=Gt,this.cargando=!1}ngOnInit(){this.registroForm=this.fb.group({usuario:["",Cn.kI.required],correo:["",[Cn.kI.required,Cn.kI.email]],password:["",Cn.kI.required]}),this.uiSubs=this.store.select("ui").subscribe(te=>{this.cargando=te.isLoading})}ngOnDestroy(){this.uiSubs.unsubscribe()}crearUsuario(){if(this.registroForm.invalid)return;this.store.dispatch((0,_r.h)());const{usuario:te,correo:Le,password:ut}=this.registroForm.value;this.authService.crearUsuario(te,Le,ut).then(Gt=>{console.log(Gt),this.store.dispatch((0,_r.V)()),this.router.navigate(["/login"])}).catch(Gt=>{this.store.dispatch((0,_r.V)()),wr().fire({icon:"error",title:"Oops...",text:Gt.message})})}}return ce.\u0275fac=function(te){return new(te||ce)(R.Y36(Cn.qu),R.Y36(nr.e),R.Y36(Sr.F0),R.Y36(Er.yh))},ce.\u0275cmp=R.Xpm({type:ce,selectors:[["app-register"]],decls:35,vars:6,consts:[[1,"page-body-wrapper","full-page-wrapper","auth-page"],[1,"content-wrapper","d-flex","align-items-center","auth","register-bg-1","theme-one"],[1,"row","w-100"],[1,"col-lg-4","mx-auto"],[1,"text-center","mb-4"],[1,"auto-form-wrapper"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"input-group"],["type","text","placeholder","Usuario","formControlName","usuario",1,"form-control"],[1,"input-group-append"],[1,"input-group-text"],["src","\\assets\\images\\img-faest\\check.png","alt","","width","20px","height","20px",4,"ngIf"],["type","email","placeholder","Correo","formControlName","correo",1,"form-control"],["type","password","placeholder","Password","formControlName","password",1,"form-control"],["type","submit","class","btn btn-primary submit-btn btn-block",3,"disabled",4,"ngIf"],["type","button","class","btn btn-primary submit-btn btn-block",3,"disabled",4,"ngIf"],[1,"text-block","text-center","my-3"],[1,"text-small","font-weight-semibold"],["routerLink","/login",1,"text-black","text-small"],["src","\\assets\\images\\img-faest\\check.png","alt","","width","20px","height","20px"],["type","submit",1,"btn","btn-primary","submit-btn","btn-block",3,"disabled"],["type","button",1,"btn","btn-primary","submit-btn","btn-block",3,"disabled"],[1,"fa","fa-spin","fa-sync"]],template:function(te,Le){1&te&&(R.TgZ(0,"div",0),R.TgZ(1,"div",1),R.TgZ(2,"div",2),R.TgZ(3,"div",3),R.TgZ(4,"h2",4),R._uU(5,"Registro"),R.qZA(),R.TgZ(6,"div",5),R.TgZ(7,"form",6),R.NdJ("ngSubmit",function(){return Le.crearUsuario()}),R.TgZ(8,"div",7),R.TgZ(9,"div",8),R._UZ(10,"input",9),R.TgZ(11,"div",10),R.TgZ(12,"span",11),R.YNc(13,gt,1,0,"img",12),R.qZA(),R.qZA(),R.qZA(),R.qZA(),R.TgZ(14,"div",7),R.TgZ(15,"div",8),R._UZ(16,"input",13),R.TgZ(17,"div",10),R.TgZ(18,"span",11),R.YNc(19,un,1,0,"img",12),R.qZA(),R.qZA(),R.qZA(),R.qZA(),R.TgZ(20,"div",7),R.TgZ(21,"div",8),R._UZ(22,"input",14),R.TgZ(23,"div",10),R.TgZ(24,"span",11),R.YNc(25,Nn,1,0,"img",12),R.qZA(),R.qZA(),R.qZA(),R.qZA(),R.TgZ(26,"div",7),R.YNc(27,cr,2,1,"button",15),R.YNc(28,br,3,1,"button",16),R.qZA(),R.TgZ(29,"div",17),R.TgZ(30,"span",18),R._uU(31,"ya tienes una cuenta?"),R.qZA(),R._UZ(32,"br"),R.TgZ(33,"a",19),R._uU(34,"Login"),R.qZA(),R.qZA(),R.qZA(),R.qZA(),R.qZA(),R.qZA(),R.qZA(),R.qZA()),2&te&&(R.xp6(7),R.Q6J("formGroup",Le.registroForm),R.xp6(6),R.Q6J("ngIf",Le.registroForm.get("usuario").valid),R.xp6(6),R.Q6J("ngIf",Le.registroForm.get("correo").valid),R.xp6(6),R.Q6J("ngIf",Le.registroForm.get("password").valid),R.xp6(2),R.Q6J("ngIf",!Le.cargando),R.xp6(1),R.Q6J("ngIf",Le.cargando))},directives:[Cn._Y,Cn.JL,Cn.sg,Cn.Fj,Cn.JJ,Cn.u,f.O5,Sr.yS],encapsulation:2}),ce})();var xr=S(8505),hn=S(5698);const ir=[{path:"login",component:Tn},{path:"register",component:$n},{path:"",canLoad:[(()=>{class ce{constructor(te,Le){this.authService=te,this.router=Le}canActivate(){return this.authService.isAuth().pipe((0,xr.b)(te=>{te||this.router.navigate(["/login"])}))}canLoad(){return this.authService.isAuth().pipe((0,xr.b)(te=>{te||this.router.navigate(["/login"])}),(0,hn.q)(1))}}return ce.\u0275fac=function(te){return new(te||ce)(R.LFG(nr.e),R.LFG(Sr.F0))},ce.\u0275prov=R.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})()],loadChildren:()=>S.e(639).then(S.bind(S,1639)).then(ce=>ce.IngresoEgresoModule)},{path:"**",redirectTo:""}];let _n=(()=>{class ce{}return ce.\u0275fac=function(te){return new(te||ce)},ce.\u0275mod=R.oAB({type:ce}),ce.\u0275inj=R.cJS({imports:[[Sr.Bz.forRoot(ir)],Sr.Bz]}),ce})();var ti=S(2011),ai=S(7407),he=S(1041);let Je=(()=>{class ce{constructor(te){this.authService=te,this.authService.initAuthListener()}}return ce.\u0275fac=function(te){return new(te||ce)(R.Y36(nr.e))},ce.\u0275cmp=R.Xpm({type:ce,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"container-scroller"]],template:function(te,Le){1&te&&(R.TgZ(0,"div",0),R._UZ(1,"router-outlet"),R.qZA())},directives:[Sr.lC],styles:[""]}),ce})();var Pe=S(9565);const yt=(0,Er.Lq)({isLoading:!1},(0,Er.on)(_r.h,ce=>Object.assign(Object.assign({},ce),{isLoading:!0})),(0,Er.on)(_r.V,ce=>Object.assign(Object.assign({},ce),{isLoading:!1})));var Lt=S(3259);const Kn=(0,Er.Lq)({user:null},(0,Er.on)(Lt.a,(ce,{user:ue})=>Object.assign(Object.assign({},ce),{user:Object.assign({},ue)})),(0,Er.on)(Lt.N,ce=>Object.assign(Object.assign({},ce),{user:null}))),An={ui:function bt(ce,ue){return yt(ce,ue)},user:function rr(ce,ue){return Kn(ce,ue)}};let Zr=(()=>{class ce{}return ce.\u0275fac=function(te){return new(te||ce)},ce.\u0275mod=R.oAB({type:ce}),ce.\u0275inj=R.cJS({imports:[[f.ez,Cn.UX,Sr.Bz]]}),ce})(),Ir=(()=>{class ce{}return ce.\u0275fac=function(te){return new(te||ce)},ce.\u0275mod=R.oAB({type:ce,bootstrap:[Je]}),ce.\u0275inj=R.cJS({providers:[],imports:[[ot,Zr,_n,ti.hO.initializeApp(cn_firebase),ai.yb,he.ww,Er.Aw.forRoot(An),Pe.FT.instrument({maxAge:25,logOnly:true,autoPause:!0})]]}),ce})();(0,R.G48)(),tr().bootstrapModule(Ir).catch(ce=>console.error(ce))},5867:(Me,ie,S)=>{"use strict";S.d(ie,{Mq:()=>f.getApp,C6:()=>f.getApps});var f=S(9681);(0,f.registerVersion)("firebase","9.6.4","app")},127:(Me,ie,S)=>{"use strict";S.d(ie,{Z:()=>f.Z});var f=S(3942);f.Z.registerVersion("firebase","9.6.4","app-compat")},5735:(Me,ie,S)=>{"use strict";S.r(ie);var f=S(5861),R=S(3942),$=S(2090),le=S(9681);function ge(g,l){var d={};for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&l.indexOf(y)<0&&(d[y]=g[y]);if(null!=g&&"function"==typeof Object.getOwnPropertySymbols){var F=0;for(y=Object.getOwnPropertySymbols(g);F<y.length;F++)l.indexOf(y[F])<0&&Object.prototype.propertyIsEnumerable.call(g,y[F])&&(d[y[F]]=g[y[F]])}return d}var ct=S(1877),Be=S(4859);const sn=function dn(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Rt=function Ht(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Qn=new $.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Dn=new ct.Yd("@firebase/auth");function yr(g,...l){Dn.logLevel<=ct.in.ERROR&&Dn.error(`Auth (${le.SDK_VERSION}): ${g}`,...l)}function fn(g,...l){throw Fn(g,...l)}function Sn(g,...l){return Fn(g,...l)}function ur(g,l,d){const y=Object.assign(Object.assign({},Rt()),{[l]:d});return new $.LL("auth","Firebase",y).create(l,{appName:g.name})}function tr(g,l,d){if(!(l instanceof d))throw d.name!==l.constructor.name&&fn(g,"argument-error"),ur(g,"argument-error",`Type of ${l.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fn(g,...l){if("string"!=typeof g){const d=l[0],y=[...l.slice(1)];return y[0]&&(y[0].appName=g.name),g._errorFactory.create(d,...y)}return Qn.create(g,...l)}function ot(g,l,...d){if(!g)throw Fn(l,...d)}function Xt(g){const l="INTERNAL ASSERTION FAILED: "+g;throw yr(l),new Error(l)}function It(g,l){g||Xt(l)}const jn=new Map;function Kt(g){It(g instanceof Function,"Expected a class definition");let l=jn.get(g);return l?(It(l instanceof g,"Instance stored in cache mismatched with class"),l):(l=new g,jn.set(g,l),l)}function Qt(){var g;return"undefined"!=typeof self&&(null===(g=self.location)||void 0===g?void 0:g.href)||""}function vt(){return"http:"===an()||"https:"===an()}function an(){var g;return"undefined"!=typeof self&&(null===(g=self.location)||void 0===g?void 0:g.protocol)||null}class Bt{constructor(l,d){this.shortDelay=l,this.longDelay=d,It(d>l,"Short delay should be less than long delay!"),this.isMobile=(0,$.uI)()||(0,$.b$)()}get(){return function kt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(vt()||(0,$.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Mt(g,l){It(g.emulator,"Emulator should always be set here");const{url:d}=g.emulator;return l?`${d}${l.startsWith("/")?l.slice(1):l}`:d}class $t{static initialize(l,d,y){this.fetchImpl=l,d&&(this.headersImpl=d),y&&(this.responseImpl=y)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Xt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Xt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Xt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},pr=new Bt(3e4,6e4);function en(g,l){return g.tenantId&&!l.tenantId?Object.assign(Object.assign({},l),{tenantId:g.tenantId}):l}function xn(g,l,d,y){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,f.Z)(function*(g,l,d,y,F={}){return qr(g,F,(0,f.Z)(function*(){let G={},Ie={};y&&("GET"===l?Ie=y:G={body:JSON.stringify(y)});const et=(0,$.xO)(Object.assign({key:g.config.apiKey},Ie)).slice(1),xt=yield g._getAdditionalHeaders();return xt["Content-Type"]="application/json",g.languageCode&&(xt["X-Firebase-Locale"]=g.languageCode),$t.fetch()(Ve(g,g.config.apiHost,d,et),Object.assign({method:l,headers:xt,referrerPolicy:"no-referrer"},G))}))})).apply(this,arguments)}function qr(g,l,d){return fe.apply(this,arguments)}function fe(){return(fe=(0,f.Z)(function*(g,l,d){g._canInitEmulator=!1;const y=Object.assign(Object.assign({},wi),l);try{const F=new Ze(g),G=yield Promise.race([d(),F.promise]);F.clearNetworkTimeout();const Ie=yield G.json();if("needConfirmation"in Ie)throw Nt(g,"account-exists-with-different-credential",Ie);if(G.ok&&!("errorMessage"in Ie))return Ie;{const et=G.ok?Ie.errorMessage:Ie.error.message,[xt,Dt]=et.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===xt)throw Nt(g,"credential-already-in-use",Ie);if("EMAIL_EXISTS"===xt)throw Nt(g,"email-already-in-use",Ie);const nn=y[xt]||xt.toLowerCase().replace(/[_\s]+/g,"-");if(Dt)throw ur(g,nn,Dt);fn(g,nn)}}catch(F){if(F instanceof $.ZR)throw F;fn(g,"network-request-failed")}})).apply(this,arguments)}function De(g,l,d,y){return be.apply(this,arguments)}function be(){return(be=(0,f.Z)(function*(g,l,d,y,F={}){const G=yield xn(g,l,d,y,F);return"mfaPendingCredential"in G&&fn(g,"multi-factor-auth-required",{_serverResponse:G}),G})).apply(this,arguments)}function Ve(g,l,d,y){const F=`${l}${d}?${y}`;return g.config.emulator?Mt(g.config,F):`${g.config.apiScheme}://${F}`}class Ze{constructor(l){this.auth=l,this.timer=null,this.promise=new Promise((d,y)=>{this.timer=setTimeout(()=>y(Sn(this.auth,"network-request-failed")),pr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Nt(g,l,d){const y={appName:g.name};d.email&&(y.email=d.email),d.phoneNumber&&(y.phoneNumber=d.phoneNumber);const F=Sn(g,l,y);return F.customData._tokenResponse=d,F}function Mn(){return(Mn=(0,f.Z)(function*(g,l){return xn(g,"POST","/v1/accounts:delete",l)})).apply(this,arguments)}function zn(g,l){return Un.apply(this,arguments)}function Un(){return(Un=(0,f.Z)(function*(g,l){return xn(g,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Pr(g,l){return In.apply(this,arguments)}function In(){return(In=(0,f.Z)(function*(g,l){return xn(g,"POST","/v1/accounts:lookup",l)})).apply(this,arguments)}function lr(g){if(g)try{const l=new Date(Number(g));if(!isNaN(l.getTime()))return l.toUTCString()}catch(l){}}function cn(){return(cn=(0,f.Z)(function*(g,l=!1){const d=(0,$.m9)(g),y=yield d.getIdToken(l),F=Cn(y);ot(F&&F.exp&&F.auth_time&&F.iat,d.auth,"internal-error");const G="object"==typeof F.firebase?F.firebase:void 0,Ie=null==G?void 0:G.sign_in_provider;return{claims:F,token:y,authTime:lr(Sr(F.auth_time)),issuedAtTime:lr(Sr(F.iat)),expirationTime:lr(Sr(F.exp)),signInProvider:Ie||null,signInSecondFactor:(null==G?void 0:G.sign_in_second_factor)||null}})).apply(this,arguments)}function Sr(g){return 1e3*Number(g)}function Cn(g){const[l,d,y]=g.split(".");if(void 0===l||void 0===d||void 0===y)return yr("JWT malformed, contained fewer than 3 sections"),null;try{const F=(0,$.tV)(d);return F?JSON.parse(F):(yr("Failed to decode base64 JWT payload"),null)}catch(F){return yr("Caught error parsing JWT payload as JSON",F),null}}function wr(g,l){return _r.apply(this,arguments)}function _r(){return(_r=(0,f.Z)(function*(g,l,d=!1){if(d)return l;try{return yield l}catch(y){throw y instanceof $.ZR&&nr(y)&&g.auth.currentUser===g&&(yield g.auth.signOut()),y}})).apply(this,arguments)}function nr({code:g}){return"auth/user-disabled"===g||"auth/user-token-expired"===g}class Er{constructor(l){this.user=l,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(l){var d;if(l){const y=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),y}{this.errorBackoff=3e4;const F=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,F)}}schedule(l=!1){var d=this;if(!this.isRunning)return;const y=this.getInterval(l);this.timerId=setTimeout((0,f.Z)(function*(){yield d.iteration()}),y)}iteration(){var l=this;return(0,f.Z)(function*(){try{yield l.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d.code&&l.schedule(!0))}l.schedule()})()}}class gi{constructor(l,d){this.createdAt=l,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=lr(this.lastLoginAt),this.creationTime=lr(this.createdAt)}_copy(l){this.createdAt=l.createdAt,this.lastLoginAt=l.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Mr(g){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,f.Z)(function*(g){var l;const d=g.auth,y=yield g.getIdToken(),F=yield wr(g,Pr(d,{idToken:y}));ot(null==F?void 0:F.users.length,d,"internal-error");const G=F.users[0];g._notifyReloadListener(G);const Ie=(null===(l=G.providerUserInfo)||void 0===l?void 0:l.length)?Tn(G.providerUserInfo):[],et=Lr(g.providerData,Ie),nn=!!g.isAnonymous&&!(g.email&&G.passwordHash||(null==et?void 0:et.length)),Yt={uid:G.localId,displayName:G.displayName||null,photoURL:G.photoUrl||null,email:G.email||null,emailVerified:G.emailVerified||!1,phoneNumber:G.phoneNumber||null,tenantId:G.tenantId||null,providerData:et,metadata:new gi(G.createdAt,G.lastLoginAt),isAnonymous:nn};Object.assign(g,Yt)})).apply(this,arguments)}function Wt(){return(Wt=(0,f.Z)(function*(g){const l=(0,$.m9)(g);yield Mr(l),yield l.auth._persistUserIfCurrent(l),l.auth._notifyListenersIfCurrent(l)})).apply(this,arguments)}function Lr(g,l){return[...g.filter(y=>!l.some(F=>F.providerId===y.providerId)),...l]}function Tn(g){return g.map(l=>{var{providerId:d}=l,y=ge(l,["providerId"]);return{providerId:d,uid:y.rawId||"",displayName:y.displayName||null,email:y.email||null,phoneNumber:y.phoneNumber||null,photoURL:y.photoUrl||null}})}function un(){return(un=(0,f.Z)(function*(g,l){const d=yield qr(g,{},(0,f.Z)(function*(){const y=(0,$.xO)({grant_type:"refresh_token",refresh_token:l}).slice(1),{tokenApiHost:F,apiKey:G}=g.config,Ie=Ve(g,F,"/v1/token",`key=${G}`),et=yield g._getAdditionalHeaders();return et["Content-Type"]="application/x-www-form-urlencoded",$t.fetch()(Ie,{method:"POST",headers:et,body:y})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}class Nn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(l){ot(l.idToken,"internal-error"),ot(void 0!==l.idToken,"internal-error"),ot(void 0!==l.refreshToken,"internal-error");const d="expiresIn"in l&&void 0!==l.expiresIn?Number(l.expiresIn):function Xn(g){const l=Cn(g);return ot(l,"internal-error"),ot(void 0!==l.exp,"internal-error"),ot(void 0!==l.iat,"internal-error"),Number(l.exp)-Number(l.iat)}(l.idToken);this.updateTokensAndExpiration(l.idToken,l.refreshToken,d)}getToken(l,d=!1){var y=this;return(0,f.Z)(function*(){return ot(!y.accessToken||y.refreshToken,l,"user-token-expired"),d||!y.accessToken||y.isExpired?y.refreshToken?(yield y.refresh(l,y.refreshToken),y.accessToken):null:y.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(l,d){var y=this;return(0,f.Z)(function*(){const{accessToken:F,refreshToken:G,expiresIn:Ie}=yield function gt(g,l){return un.apply(this,arguments)}(l,d);y.updateTokensAndExpiration(F,G,Number(Ie))})()}updateTokensAndExpiration(l,d,y){this.refreshToken=d||null,this.accessToken=l||null,this.expirationTime=Date.now()+1e3*y}static fromJSON(l,d){const{refreshToken:y,accessToken:F,expirationTime:G}=d,Ie=new Nn;return y&&(ot("string"==typeof y,"internal-error",{appName:l}),Ie.refreshToken=y),F&&(ot("string"==typeof F,"internal-error",{appName:l}),Ie.accessToken=F),G&&(ot("number"==typeof G,"internal-error",{appName:l}),Ie.expirationTime=G),Ie}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(l){this.accessToken=l.accessToken,this.refreshToken=l.refreshToken,this.expirationTime=l.expirationTime}_clone(){return Object.assign(new Nn,this.toJSON())}_performRefresh(){return Xt("not implemented")}}function cr(g,l){ot("string"==typeof g||void 0===g,"internal-error",{appName:l})}class br{constructor(l){var{uid:d,auth:y,stsTokenManager:F}=l,G=ge(l,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Er(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=y,this.stsTokenManager=F,this.accessToken=F.accessToken,this.displayName=G.displayName||null,this.email=G.email||null,this.emailVerified=G.emailVerified||!1,this.phoneNumber=G.phoneNumber||null,this.photoURL=G.photoURL||null,this.isAnonymous=G.isAnonymous||!1,this.tenantId=G.tenantId||null,this.metadata=new gi(G.createdAt||void 0,G.lastLoginAt||void 0)}getIdToken(l){var d=this;return(0,f.Z)(function*(){const y=yield wr(d,d.stsTokenManager.getToken(d.auth,l));return ot(y,d.auth,"internal-error"),d.accessToken!==y&&(d.accessToken=y,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),y})()}getIdTokenResult(l){return function $r(g){return cn.apply(this,arguments)}(this,l)}reload(){return function Gr(g){return Wt.apply(this,arguments)}(this)}_assign(l){this!==l&&(ot(this.uid===l.uid,this.auth,"internal-error"),this.displayName=l.displayName,this.photoURL=l.photoURL,this.email=l.email,this.emailVerified=l.emailVerified,this.phoneNumber=l.phoneNumber,this.isAnonymous=l.isAnonymous,this.tenantId=l.tenantId,this.providerData=l.providerData.map(d=>Object.assign({},d)),this.metadata._copy(l.metadata),this.stsTokenManager._assign(l.stsTokenManager))}_clone(l){return new br(Object.assign(Object.assign({},this),{auth:l,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(l){ot(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=l,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(l){this.reloadListener?this.reloadListener(l):this.reloadUserInfo=l}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(l,d=!1){var y=this;return(0,f.Z)(function*(){let F=!1;l.idToken&&l.idToken!==y.stsTokenManager.accessToken&&(y.stsTokenManager.updateFromServerResponse(l),F=!0),d&&(yield Mr(y)),yield y.auth._persistUserIfCurrent(y),F&&y.auth._notifyListenersIfCurrent(y)})()}delete(){var l=this;return(0,f.Z)(function*(){const d=yield l.getIdToken();return yield wr(l,function Ut(g,l){return Mn.apply(this,arguments)}(l.auth,{idToken:d})),l.stsTokenManager.clearRefreshToken(),l.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(l=>Object.assign({},l)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(l,d){var y,F,G,Ie,et,xt,Dt,nn;const Yt=null!==(y=d.displayName)&&void 0!==y?y:void 0,hr=null!==(F=d.email)&&void 0!==F?F:void 0,Wi=null!==(G=d.phoneNumber)&&void 0!==G?G:void 0,ou=null!==(Ie=d.photoURL)&&void 0!==Ie?Ie:void 0,au=null!==(et=d.tenantId)&&void 0!==et?et:void 0,ml=null!==(xt=d._redirectEventId)&&void 0!==xt?xt:void 0,id=null!==(Dt=d.createdAt)&&void 0!==Dt?Dt:void 0,Cc=null!==(nn=d.lastLoginAt)&&void 0!==nn?nn:void 0,{uid:yl,emailVerified:Tc,isAnonymous:_l,providerData:ps,stsTokenManager:Qu}=d;ot(yl&&Qu,l,"internal-error");const Ac=Nn.fromJSON(this.name,Qu);ot("string"==typeof yl,l,"internal-error"),cr(Yt,l.name),cr(hr,l.name),ot("boolean"==typeof Tc,l,"internal-error"),ot("boolean"==typeof _l,l,"internal-error"),cr(Wi,l.name),cr(ou,l.name),cr(au,l.name),cr(ml,l.name),cr(id,l.name),cr(Cc,l.name);const Tu=new br({uid:yl,auth:l,email:hr,emailVerified:Tc,displayName:Yt,isAnonymous:_l,photoURL:ou,phoneNumber:Wi,tenantId:au,stsTokenManager:Ac,createdAt:id,lastLoginAt:Cc});return ps&&Array.isArray(ps)&&(Tu.providerData=ps.map(sd=>Object.assign({},sd))),ml&&(Tu._redirectEventId=ml),Tu}static _fromIdTokenResponse(l,d,y=!1){return(0,f.Z)(function*(){const F=new Nn;F.updateFromServerResponse(d);const G=new br({uid:d.localId,auth:l,stsTokenManager:F,isAnonymous:y});return yield Mr(G),G})()}}const xr=(()=>{class g{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(d,y){var F=this;return(0,f.Z)(function*(){F.storage[d]=y})()}_get(d){var y=this;return(0,f.Z)(function*(){const F=y.storage[d];return void 0===F?null:F})()}_remove(d){var y=this;return(0,f.Z)(function*(){delete y.storage[d]})()}_addListener(d,y){}_removeListener(d,y){}}return g.type="NONE",g})();function hn(g,l,d){return`firebase:${g}:${l}:${d}`}class Vr{constructor(l,d,y){this.persistence=l,this.auth=d,this.userKey=y;const{config:F,name:G}=this.auth;this.fullUserKey=hn(this.userKey,F.apiKey,G),this.fullPersistenceKey=hn("persistence",F.apiKey,G),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(l){return this.persistence._set(this.fullUserKey,l.toJSON())}getCurrentUser(){var l=this;return(0,f.Z)(function*(){const d=yield l.persistence._get(l.fullUserKey);return d?br._fromJSON(l.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(l){var d=this;return(0,f.Z)(function*(){if(d.persistence===l)return;const y=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=l,y?d.setCurrentUser(y):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(l,d,y="authUser"){return(0,f.Z)(function*(){if(!d.length)return new Vr(Kt(xr),l,y);const F=(yield Promise.all(d.map(function(){var Dt=(0,f.Z)(function*(nn){if(yield nn._isAvailable())return nn});return function(nn){return Dt.apply(this,arguments)}}()))).filter(Dt=>Dt);let G=F[0]||Kt(xr);const Ie=hn(y,l.config.apiKey,l.name);let et=null;for(const Dt of d)try{const nn=yield Dt._get(Ie);if(nn){const Yt=br._fromJSON(l,nn);Dt!==G&&(et=Yt),G=Dt;break}}catch(nn){}const xt=F.filter(Dt=>Dt._shouldAllowMigration);return G._shouldAllowMigration&&xt.length?(G=xt[0],et&&(yield G._set(Ie,et.toJSON())),yield Promise.all(d.map(function(){var Dt=(0,f.Z)(function*(nn){if(nn!==G)try{yield nn._remove(Ie)}catch(Yt){}});return function(nn){return Dt.apply(this,arguments)}}())),new Vr(G,l,y)):new Vr(G,l,y)})()}}function ir(g){const l=g.toLowerCase();if(l.includes("opera/")||l.includes("opr/")||l.includes("opios/"))return"Opera";if(he(l))return"IEMobile";if(l.includes("msie")||l.includes("trident/"))return"IE";if(l.includes("edge/"))return"Edge";if(_n(l))return"Firefox";if(l.includes("silk/"))return"Silk";if(Pe(l))return"Blackberry";if(Qe(l))return"Webos";if(ti(l))return"Safari";if((l.includes("chrome/")||ai(l))&&!l.includes("edge/"))return"Chrome";if(Je(l))return"Android";{const y=g.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==y?void 0:y.length))return y[1]}return"Other"}function _n(g=(0,$.z$)()){return/firefox\//i.test(g)}function ti(g=(0,$.z$)()){const l=g.toLowerCase();return l.includes("safari/")&&!l.includes("chrome/")&&!l.includes("crios/")&&!l.includes("android")}function ai(g=(0,$.z$)()){return/crios\//i.test(g)}function he(g=(0,$.z$)()){return/iemobile/i.test(g)}function Je(g=(0,$.z$)()){return/android/i.test(g)}function Pe(g=(0,$.z$)()){return/blackberry/i.test(g)}function Qe(g=(0,$.z$)()){return/webos/i.test(g)}function yt(g=(0,$.z$)()){return/iphone|ipad|ipod/i.test(g)}function Kn(g=(0,$.z$)()){return yt(g)||Je(g)||Qe(g)||Pe(g)||/windows phone/i.test(g)||he(g)}function An(g,l=[]){let d;switch(g){case"Browser":d=ir((0,$.z$)());break;case"Worker":d=`${ir((0,$.z$)())}-${g}`;break;default:d=g}const y=l.length?l.join(","):"FirebaseCore-web";return`${d}/JsCore/${le.SDK_VERSION}/${y}`}class Zr{constructor(l,d){this.app=l,this.config=d,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ce(this),this.idTokenSubscription=new ce(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=l.name,this.clientVersion=d.sdkClientVersion}_initializeWithPersistence(l,d){var y=this;return d&&(this._popupRedirectResolver=Kt(d)),this._initializationPromise=this.queue((0,f.Z)(function*(){var F,G;if(!y._deleted&&(y.persistenceManager=yield Vr.create(y,l),!y._deleted)){if(null===(F=y._popupRedirectResolver)||void 0===F?void 0:F._shouldInitProactively)try{yield y._popupRedirectResolver._initialize(y)}catch(Ie){}yield y.initializeCurrentUser(d),y.lastNotifiedUid=(null===(G=y.currentUser)||void 0===G?void 0:G.uid)||null,!y._deleted&&(y._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var l=this;return(0,f.Z)(function*(){if(l._deleted)return;const d=yield l.assertedPersistence.getCurrentUser();if(l.currentUser||d){if(l.currentUser&&d&&l.currentUser.uid===d.uid)return l._currentUser._assign(d),void(yield l.currentUser.getIdToken());yield l._updateCurrentUser(d)}})()}initializeCurrentUser(l){var d=this;return(0,f.Z)(function*(){var y;let F=yield d.assertedPersistence.getCurrentUser();if(l&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const G=null===(y=d.redirectUser)||void 0===y?void 0:y._redirectEventId,Ie=null==F?void 0:F._redirectEventId,et=yield d.tryRedirectSignIn(l);(!G||G===Ie)&&(null==et?void 0:et.user)&&(F=et.user)}return F?F._redirectEventId?(ot(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===F._redirectEventId?d.directlySetCurrentUser(F):d.reloadAndSetCurrentUserOrClear(F)):d.reloadAndSetCurrentUserOrClear(F):d.directlySetCurrentUser(null)})()}tryRedirectSignIn(l){var d=this;return(0,f.Z)(function*(){let y=null;try{y=yield d._popupRedirectResolver._completeRedirectFn(d,l,!0)}catch(F){yield d._setRedirectUser(null)}return y})()}reloadAndSetCurrentUserOrClear(l){var d=this;return(0,f.Z)(function*(){try{yield Mr(l)}catch(y){if("auth/network-request-failed"!==y.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(l)})()}useDeviceLanguage(){this.languageCode=function Pn(){if("undefined"==typeof navigator)return null;const g=navigator;return g.languages&&g.languages[0]||g.language||null}()}_delete(){var l=this;return(0,f.Z)(function*(){l._deleted=!0})()}updateCurrentUser(l){var d=this;return(0,f.Z)(function*(){const y=l?(0,$.m9)(l):null;return y&&ot(y.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(y&&y._clone(d))})()}_updateCurrentUser(l){var d=this;return(0,f.Z)(function*(){if(!d._deleted)return l&&ot(d.tenantId===l.tenantId,d,"tenant-id-mismatch"),d.queue((0,f.Z)(function*(){yield d.directlySetCurrentUser(l),d.notifyAuthListeners()}))})()}signOut(){var l=this;return(0,f.Z)(function*(){return(l.redirectPersistenceManager||l._popupRedirectResolver)&&(yield l._setRedirectUser(null)),l._updateCurrentUser(null)})()}setPersistence(l){var d=this;return this.queue((0,f.Z)(function*(){yield d.assertedPersistence.setPersistence(Kt(l))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(l){this._errorFactory=new $.LL("auth","Firebase",l())}onAuthStateChanged(l,d,y){return this.registerStateListener(this.authStateSubscription,l,d,y)}onIdTokenChanged(l,d,y){return this.registerStateListener(this.idTokenSubscription,l,d,y)}toJSON(){var l;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(l=this._currentUser)||void 0===l?void 0:l.toJSON()}}_setRedirectUser(l,d){var y=this;return(0,f.Z)(function*(){const F=yield y.getOrInitRedirectPersistenceManager(d);return null===l?F.removeCurrentUser():F.setCurrentUser(l)})()}getOrInitRedirectPersistenceManager(l){var d=this;return(0,f.Z)(function*(){if(!d.redirectPersistenceManager){const y=l&&Kt(l)||d._popupRedirectResolver;ot(y,d,"argument-error"),d.redirectPersistenceManager=yield Vr.create(d,[Kt(y._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(l){var d=this;return(0,f.Z)(function*(){var y,F;return d._isInitialized&&(yield d.queue((0,f.Z)(function*(){}))),(null===(y=d._currentUser)||void 0===y?void 0:y._redirectEventId)===l?d._currentUser:(null===(F=d.redirectUser)||void 0===F?void 0:F._redirectEventId)===l?d.redirectUser:null})()}_persistUserIfCurrent(l){var d=this;return(0,f.Z)(function*(){if(l===d.currentUser)return d.queue((0,f.Z)(function*(){return d.directlySetCurrentUser(l)}))})()}_notifyListenersIfCurrent(l){l===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var l,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const y=null!==(d=null===(l=this.currentUser)||void 0===l?void 0:l.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==y&&(this.lastNotifiedUid=y,this.authStateSubscription.next(this.currentUser))}registerStateListener(l,d,y,F){if(this._deleted)return()=>{};const G="function"==typeof d?d:d.next.bind(d),Ie=this._isInitialized?Promise.resolve():this._initializationPromise;return ot(Ie,this,"internal-error"),Ie.then(()=>G(this.currentUser)),"function"==typeof d?l.addObserver(d,y,F):l.addObserver(d)}directlySetCurrentUser(l){var d=this;return(0,f.Z)(function*(){d.currentUser&&d.currentUser!==l&&(d._currentUser._stopProactiveRefresh(),l&&d.isProactiveRefreshEnabled&&l._startProactiveRefresh()),d.currentUser=l,l?yield d.assertedPersistence.setCurrentUser(l):yield d.assertedPersistence.removeCurrentUser()})()}queue(l){return this.operations=this.operations.then(l,l),this.operations}get assertedPersistence(){return ot(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(l){!l||this.frameworks.includes(l)||(this.frameworks.push(l),this.frameworks.sort(),this.clientVersion=An(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var l=this;return(0,f.Z)(function*(){const d={"X-Client-Version":l.clientVersion};return l.app.options.appId&&(d["X-Firebase-gmpid"]=l.app.options.appId),d})()}}function Ir(g){return(0,$.m9)(g)}class ce{constructor(l){this.auth=l,this.observer=null,this.addObserver=(0,$.ne)(d=>this.observer=d)}get next(){return ot(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function te(g){const l=g.indexOf(":");return l<0?"":g.substr(0,l+1)}function ut(g){if(!g)return null;const l=Number(g);return isNaN(l)?null:l}class Vn{constructor(l,d){this.providerId=l,this.signInMethod=d}toJSON(){return Xt("not implemented")}_getIdTokenResponse(l){return Xt("not implemented")}_linkToIdToken(l,d){return Xt("not implemented")}_getReauthenticationResolver(l){return Xt("not implemented")}}function Dr(g,l){return Te.apply(this,arguments)}function Te(){return(Te=(0,f.Z)(function*(g,l){return xn(g,"POST","/v1/accounts:resetPassword",en(g,l))})).apply(this,arguments)}function Ce(g,l){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,f.Z)(function*(g,l){return xn(g,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function lt(g,l){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,f.Z)(function*(g,l){return xn(g,"POST","/v1/accounts:update",en(g,l))})).apply(this,arguments)}function er(){return(er=(0,f.Z)(function*(g,l){return De(g,"POST","/v1/accounts:signInWithPassword",en(g,l))})).apply(this,arguments)}function Or(g,l){return qn.apply(this,arguments)}function qn(){return(qn=(0,f.Z)(function*(g,l){return xn(g,"POST","/v1/accounts:sendOobCode",en(g,l))})).apply(this,arguments)}function Ei(g,l){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,f.Z)(function*(g,l){return Or(g,l)})).apply(this,arguments)}function ss(g,l){return Es.apply(this,arguments)}function Es(){return(Es=(0,f.Z)(function*(g,l){return Or(g,l)})).apply(this,arguments)}function qi(g,l){return bs.apply(this,arguments)}function bs(){return(bs=(0,f.Z)(function*(g,l){return Or(g,l)})).apply(this,arguments)}function Is(g,l){return mo.apply(this,arguments)}function mo(){return(mo=(0,f.Z)(function*(g,l){return Or(g,l)})).apply(this,arguments)}function Zi(){return(Zi=(0,f.Z)(function*(g,l){return De(g,"POST","/v1/accounts:signInWithEmailLink",en(g,l))})).apply(this,arguments)}function ui(){return(ui=(0,f.Z)(function*(g,l){return De(g,"POST","/v1/accounts:signInWithEmailLink",en(g,l))})).apply(this,arguments)}class Ns extends Vn{constructor(l,d,y,F=null){super("password",y),this._email=l,this._password=d,this._tenantId=F}static _fromEmailAndPassword(l,d){return new Ns(l,d,"password")}static _fromEmailAndCode(l,d,y=null){return new Ns(l,d,"emailLink",y)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(l){const d="string"==typeof l?JSON.parse(l):l;if((null==d?void 0:d.email)&&(null==d?void 0:d.password)){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(l){var d=this;return(0,f.Z)(function*(){switch(d.signInMethod){case"password":return function jt(g,l){return er.apply(this,arguments)}(l,{returnSecureToken:!0,email:d._email,password:d._password});case"emailLink":return function os(g,l){return Zi.apply(this,arguments)}(l,{email:d._email,oobCode:d._password});default:fn(l,"internal-error")}})()}_linkToIdToken(l,d){var y=this;return(0,f.Z)(function*(){switch(y.signInMethod){case"password":return Ce(l,{idToken:d,returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function as(g,l){return ui.apply(this,arguments)}(l,{idToken:d,email:y._email,oobCode:y._password});default:fn(l,"internal-error")}})()}_getReauthenticationResolver(l){return this._getIdTokenResponse(l)}}function ni(g,l){return no.apply(this,arguments)}function no(){return(no=(0,f.Z)(function*(g,l){return De(g,"POST","/v1/accounts:signInWithIdp",en(g,l))})).apply(this,arguments)}class ci extends Vn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(l){const d=new ci(l.providerId,l.signInMethod);return l.idToken||l.accessToken?(l.idToken&&(d.idToken=l.idToken),l.accessToken&&(d.accessToken=l.accessToken),l.nonce&&!l.pendingToken&&(d.nonce=l.nonce),l.pendingToken&&(d.pendingToken=l.pendingToken)):l.oauthToken&&l.oauthTokenSecret?(d.accessToken=l.oauthToken,d.secret=l.oauthTokenSecret):fn("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(l){const d="string"==typeof l?JSON.parse(l):l,{providerId:y,signInMethod:F}=d,G=ge(d,["providerId","signInMethod"]);if(!y||!F)return null;const Ie=new ci(y,F);return Ie.idToken=G.idToken||void 0,Ie.accessToken=G.accessToken||void 0,Ie.secret=G.secret,Ie.nonce=G.nonce,Ie.pendingToken=G.pendingToken||null,Ie}_getIdTokenResponse(l){return ni(l,this.buildRequest())}_linkToIdToken(l,d){const y=this.buildRequest();return y.idToken=d,ni(l,y)}_getReauthenticationResolver(l){const d=this.buildRequest();return d.autoCreate=!1,ni(l,d)}buildRequest(){const l={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)l.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),l.postBody=(0,$.xO)(d)}return l}}function Yr(g,l){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,f.Z)(function*(g,l){return xn(g,"POST","/v1/accounts:sendVerificationCode",en(g,l))})).apply(this,arguments)}function Fs(){return(Fs=(0,f.Z)(function*(g,l){return De(g,"POST","/v1/accounts:signInWithPhoneNumber",en(g,l))})).apply(this,arguments)}function us(){return(us=(0,f.Z)(function*(g,l){const d=yield De(g,"POST","/v1/accounts:signInWithPhoneNumber",en(g,l));if(d.temporaryProof)throw Nt(g,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const Ni={USER_NOT_FOUND:"user-not-found"};function Qi(){return(Qi=(0,f.Z)(function*(g,l){return De(g,"POST","/v1/accounts:signInWithPhoneNumber",en(g,Object.assign(Object.assign({},l),{operation:"REAUTH"})),Ni)})).apply(this,arguments)}class or extends Vn{constructor(l){super("phone","phone"),this.params=l}static _fromVerification(l,d){return new or({verificationId:l,verificationCode:d})}static _fromTokenResponse(l,d){return new or({phoneNumber:l,temporaryProof:d})}_getIdTokenResponse(l){return function Cr(g,l){return Fs.apply(this,arguments)}(l,this._makeVerificationRequest())}_linkToIdToken(l,d){return function Ds(g,l){return us.apply(this,arguments)}(l,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(l){return function Ls(g,l){return Qi.apply(this,arguments)}(l,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:l,phoneNumber:d,verificationId:y,verificationCode:F}=this.params;return l&&d?{temporaryProof:l,phoneNumber:d}:{sessionInfo:y,code:F}}toJSON(){const l={providerId:this.providerId};return this.params.phoneNumber&&(l.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(l.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(l.verificationCode=this.params.verificationCode),this.params.verificationId&&(l.verificationId=this.params.verificationId),l}static fromJSON(l){"string"==typeof l&&(l=JSON.parse(l));const{verificationId:d,verificationCode:y,phoneNumber:F,temporaryProof:G}=l;return y||d||F||G?new or({verificationId:d,verificationCode:y,phoneNumber:F,temporaryProof:G}):null}}class wn{constructor(l){var d,y,F,G,Ie,et;const xt=(0,$.zd)((0,$.pd)(l)),Dt=null!==(d=xt.apiKey)&&void 0!==d?d:null,nn=null!==(y=xt.oobCode)&&void 0!==y?y:null,Yt=function ki(g){switch(g){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(F=xt.mode)&&void 0!==F?F:null);ot(Dt&&nn&&Yt,"argument-error"),this.apiKey=Dt,this.operation=Yt,this.code=nn,this.continueUrl=null!==(G=xt.continueUrl)&&void 0!==G?G:null,this.languageCode=null!==(Ie=xt.languageCode)&&void 0!==Ie?Ie:null,this.tenantId=null!==(et=xt.tenantId)&&void 0!==et?et:null}static parseLink(l){const d=function Fi(g){const l=(0,$.zd)((0,$.pd)(g)).link,d=l?(0,$.zd)((0,$.pd)(l)).deep_link_id:null,y=(0,$.zd)((0,$.pd)(g)).deep_link_id;return(y?(0,$.zd)((0,$.pd)(y)).link:null)||y||d||l||g}(l);try{return new wn(d)}catch(y){return null}}}let z=(()=>{class g{constructor(){this.providerId=g.PROVIDER_ID}static credential(d,y){return Ns._fromEmailAndPassword(d,y)}static credentialWithLink(d,y){const F=wn.parseLink(y);return ot(F,"argument-error"),Ns._fromEmailAndCode(d,F.code,F.tenantId)}}return g.PROVIDER_ID="password",g.EMAIL_PASSWORD_SIGN_IN_METHOD="password",g.EMAIL_LINK_SIGN_IN_METHOD="emailLink",g})();class P{constructor(l){this.providerId=l,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(l){this.defaultLanguageCode=l}setCustomParameters(l){return this.customParameters=l,this}getCustomParameters(){return this.customParameters}}class K extends P{constructor(){super(...arguments),this.scopes=[]}addScope(l){return this.scopes.includes(l)||this.scopes.push(l),this}getScopes(){return[...this.scopes]}}class me extends K{static credentialFromJSON(l){const d="string"==typeof l?JSON.parse(l):l;return ot("providerId"in d&&"signInMethod"in d,"argument-error"),ci._fromParams(d)}credential(l){return this._credential(Object.assign(Object.assign({},l),{nonce:l.rawNonce}))}_credential(l){return ot(l.idToken||l.accessToken,"argument-error"),ci._fromParams(Object.assign(Object.assign({},l),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(l){return me.oauthCredentialFromTaggedObject(l)}static credentialFromError(l){return me.oauthCredentialFromTaggedObject(l.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{oauthIdToken:d,oauthAccessToken:y,oauthTokenSecret:F,pendingToken:G,nonce:Ie,providerId:et}=l;if(!y&&!F&&!d&&!G||!et)return null;try{return new me(et)._credential({idToken:d,accessToken:y,nonce:Ie,pendingToken:G})}catch(xt){return null}}}let tt=(()=>{class g extends K{constructor(){super("facebook.com")}static credential(d){return ci._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return g.credentialFromTaggedObject(d)}static credentialFromError(d){return g.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return g.credential(d.oauthAccessToken)}catch(y){return null}}}return g.FACEBOOK_SIGN_IN_METHOD="facebook.com",g.PROVIDER_ID="facebook.com",g})(),pt=(()=>{class g extends K{constructor(){super("google.com"),this.addScope("profile")}static credential(d,y){return ci._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:y})}static credentialFromResult(d){return g.credentialFromTaggedObject(d)}static credentialFromError(d){return g.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:y,oauthAccessToken:F}=d;if(!y&&!F)return null;try{return g.credential(y,F)}catch(G){return null}}}return g.GOOGLE_SIGN_IN_METHOD="google.com",g.PROVIDER_ID="google.com",g})(),Vt=(()=>{class g extends K{constructor(){super("github.com")}static credential(d){return ci._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return g.credentialFromTaggedObject(d)}static credentialFromError(d){return g.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return g.credential(d.oauthAccessToken)}catch(y){return null}}}return g.GITHUB_SIGN_IN_METHOD="github.com",g.PROVIDER_ID="github.com",g})();class Bn extends Vn{constructor(l,d){super(l,l),this.pendingToken=d}_getIdTokenResponse(l){return ni(l,this.buildRequest())}_linkToIdToken(l,d){const y=this.buildRequest();return y.idToken=d,ni(l,y)}_getReauthenticationResolver(l){const d=this.buildRequest();return d.autoCreate=!1,ni(l,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(l){const d="string"==typeof l?JSON.parse(l):l,{providerId:y,signInMethod:F,pendingToken:G}=d;return y&&F&&G&&y===F?new Bn(y,G):null}static _create(l,d){return new Bn(l,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class pn extends P{constructor(l){ot(l.startsWith("saml."),"argument-error"),super(l)}static credentialFromResult(l){return pn.samlCredentialFromTaggedObject(l)}static credentialFromError(l){return pn.samlCredentialFromTaggedObject(l.customData||{})}static credentialFromJSON(l){const d=Bn.fromJSON(l);return ot(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{pendingToken:d,providerId:y}=l;if(!d||!y)return null;try{return Bn._create(y,d)}catch(F){return null}}}let Wr=(()=>{class g extends K{constructor(){super("twitter.com")}static credential(d,y){return ci._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:y})}static credentialFromResult(d){return g.credentialFromTaggedObject(d)}static credentialFromError(d){return g.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:y,oauthTokenSecret:F}=d;if(!y||!F)return null;try{return g.credential(y,F)}catch(G){return null}}}return g.TWITTER_SIGN_IN_METHOD="twitter.com",g.PROVIDER_ID="twitter.com",g})();function ar(g,l){return qt.apply(this,arguments)}function qt(){return(qt=(0,f.Z)(function*(g,l){return De(g,"POST","/v1/accounts:signUp",en(g,l))})).apply(this,arguments)}class ri{constructor(l){this.user=l.user,this.providerId=l.providerId,this._tokenResponse=l._tokenResponse,this.operationType=l.operationType}static _fromIdTokenResponse(l,d,y,F=!1){return(0,f.Z)(function*(){const G=yield br._fromIdTokenResponse(l,y,F),Ie=mi(y);return new ri({user:G,providerId:Ie,_tokenResponse:y,operationType:d})})()}static _forOperation(l,d,y){return(0,f.Z)(function*(){yield l._updateTokensIfNecessary(y,!0);const F=mi(y);return new ri({user:l,providerId:F,_tokenResponse:y,operationType:d})})()}}function mi(g){return g.providerId?g.providerId:"phoneNumber"in g?"phone":null}function cs(){return(cs=(0,f.Z)(function*(g){var l;const d=Ir(g);if(yield d._initializationPromise,null===(l=d.currentUser)||void 0===l?void 0:l.isAnonymous)return new ri({user:d.currentUser,providerId:null,operationType:"signIn"});const y=yield ar(d,{returnSecureToken:!0}),F=yield ri._fromIdTokenResponse(d,"signIn",y,!0);return yield d._updateCurrentUser(F.user),F})).apply(this,arguments)}class L extends $.ZR{constructor(l,d,y,F){var G;super(d.code,d.message),this.operationType=y,this.user=F,Object.setPrototypeOf(this,L.prototype),this.customData={appName:l.name,tenantId:null!==(G=l.tenantId)&&void 0!==G?G:void 0,_serverResponse:d.customData._serverResponse,operationType:y}}static _fromErrorAndOperation(l,d,y,F){return new L(l,d,y,F)}}function x(g,l,d,y){return("reauthenticate"===l?d._getReauthenticationResolver(g):d._getIdTokenResponse(g)).catch(G=>{throw"auth/multi-factor-auth-required"===G.code?L._fromErrorAndOperation(g,G,l,y):G})}function A(g){return new Set(g.map(({providerId:l})=>l).filter(l=>!!l))}function je(){return(je=(0,f.Z)(function*(g,l){const d=(0,$.m9)(g);yield Ur(!0,d,l);const{providerUserInfo:y}=yield zn(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[l]}),F=A(y||[]);return d.providerData=d.providerData.filter(G=>F.has(G.providerId)),F.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d})).apply(this,arguments)}function Zt(g,l){return En.apply(this,arguments)}function En(){return(En=(0,f.Z)(function*(g,l,d=!1){const y=yield wr(g,l._linkToIdToken(g.auth,yield g.getIdToken()),d);return ri._forOperation(g,"link",y)})).apply(this,arguments)}function Ur(g,l,d){return bi.apply(this,arguments)}function bi(){return(bi=(0,f.Z)(function*(g,l,d){yield Mr(l);const F=!1===g?"provider-already-linked":"no-such-provider";ot(A(l.providerData).has(d)===g,l.auth,F)})).apply(this,arguments)}function zr(g,l){return Li.apply(this,arguments)}function Li(){return(Li=(0,f.Z)(function*(g,l,d=!1){const{auth:y}=g,F="reauthenticate";try{const G=yield wr(g,x(y,F,l,g),d);ot(G.idToken,y,"internal-error");const Ie=Cn(G.idToken);ot(Ie,y,"internal-error");const{sub:et}=Ie;return ot(g.uid===et,y,"user-mismatch"),ri._forOperation(g,F,G)}catch(G){throw"auth/user-not-found"===(null==G?void 0:G.code)&&fn(y,"user-mismatch"),G}})).apply(this,arguments)}function Qs(g,l){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,f.Z)(function*(g,l,d=!1){const y="signIn",F=yield x(g,y,l),G=yield ri._fromIdTokenResponse(g,y,F);return d||(yield g._updateCurrentUser(G.user)),G})).apply(this,arguments)}function bo(g,l){return Io.apply(this,arguments)}function Io(){return(Io=(0,f.Z)(function*(g,l){return Qs(Ir(g),l)})).apply(this,arguments)}function Do(g,l){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,f.Z)(function*(g,l){const d=(0,$.m9)(g);return yield Ur(!1,d,l.providerId),Zt(d,l)})).apply(this,arguments)}function Ji(g,l){return ro.apply(this,arguments)}function ro(){return(ro=(0,f.Z)(function*(g,l){return zr((0,$.m9)(g),l)})).apply(this,arguments)}function Cs(g,l){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,f.Z)(function*(g,l){return De(g,"POST","/v1/accounts:signInWithCustomToken",en(g,l))})).apply(this,arguments)}function Ts(){return(Ts=(0,f.Z)(function*(g,l){const d=Ir(g),y=yield Cs(d,{token:l,returnSecureToken:!0}),F=yield ri._fromIdTokenResponse(d,"signIn",y);return yield d._updateCurrentUser(F.user),F})).apply(this,arguments)}class io{constructor(l,d){this.factorId=l,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(l,d){return"phoneInfo"in d?Bo._fromServerResponse(l,d):fn(l,"internal-error")}}class Bo extends io{constructor(l){super("phone",l),this.phoneNumber=l.phoneInfo}static _fromServerResponse(l,d){return new Bo(d)}}function Nr(g,l,d){var y;ot((null===(y=d.url)||void 0===y?void 0:y.length)>0,g,"invalid-continue-uri"),ot(void 0===d.dynamicLinkDomain||d.dynamicLinkDomain.length>0,g,"invalid-dynamic-link-domain"),l.continueUrl=d.url,l.dynamicLinkDomain=d.dynamicLinkDomain,l.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(ot(d.iOS.bundleId.length>0,g,"missing-ios-bundle-id"),l.iOSBundleId=d.iOS.bundleId),d.android&&(ot(d.android.packageName.length>0,g,"missing-android-pkg-name"),l.androidInstallApp=d.android.installApp,l.androidMinimumVersionCode=d.android.minimumVersion,l.androidPackageName=d.android.packageName)}function jo(){return(jo=(0,f.Z)(function*(g,l,d){const y=(0,$.m9)(g),F={requestType:"PASSWORD_RESET",email:l};d&&Nr(y,F,d),yield ss(y,F)})).apply(this,arguments)}function Oa(){return(Oa=(0,f.Z)(function*(g,l,d){yield Dr((0,$.m9)(g),{oobCode:l,newPassword:d})})).apply(this,arguments)}function As(){return(As=(0,f.Z)(function*(g,l){yield lt((0,$.m9)(g),{oobCode:l})})).apply(this,arguments)}function Ho(g,l){return so.apply(this,arguments)}function so(){return(so=(0,f.Z)(function*(g,l){const d=(0,$.m9)(g),y=yield Dr(d,{oobCode:l}),F=y.requestType;switch(ot(F,d,"internal-error"),F){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ot(y.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ot(y.mfaInfo,d,"internal-error");default:ot(y.email,d,"internal-error")}let G=null;return y.mfaInfo&&(G=io._fromServerResponse(Ir(d),y.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.newEmail:y.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.email:y.newEmail)||null,multiFactorInfo:G},operation:F}})).apply(this,arguments)}function yo(){return(yo=(0,f.Z)(function*(g,l){const{data:d}=yield Ho((0,$.m9)(g),l);return d.email})).apply(this,arguments)}function ia(){return(ia=(0,f.Z)(function*(g,l,d){const y=Ir(g),F=yield ar(y,{returnSecureToken:!0,email:l,password:d}),G=yield ri._fromIdTokenResponse(y,"signIn",F);return yield y._updateCurrentUser(G.user),G})).apply(this,arguments)}function Ai(){return(Ai=(0,f.Z)(function*(g,l,d){const y=(0,$.m9)(g),F={requestType:"EMAIL_SIGNIN",email:l};ot(d.handleCodeInApp,y,"argument-error"),d&&Nr(y,F,d),yield qi(y,F)})).apply(this,arguments)}function oo(){return(oo=(0,f.Z)(function*(g,l,d){const y=(0,$.m9)(g),F=z.credentialWithLink(l,d||Qt());return ot(F._tenantId===(y.tenantId||null),y,"tenant-id-mismatch"),bo(y,F)})).apply(this,arguments)}function Qa(g,l){return sa.apply(this,arguments)}function sa(){return(sa=(0,f.Z)(function*(g,l){return xn(g,"POST","/v1/accounts:createAuthUri",en(g,l))})).apply(this,arguments)}function Ja(){return(Ja=(0,f.Z)(function*(g,l){const y={identifier:l,continueUri:vt()?Qt():"http://localhost"},{signinMethods:F}=yield Qa((0,$.m9)(g),y);return F||[]})).apply(this,arguments)}function es(){return(es=(0,f.Z)(function*(g,l){const d=(0,$.m9)(g),F={requestType:"VERIFY_EMAIL",idToken:yield g.getIdToken()};l&&Nr(d.auth,F,l);const{email:G}=yield Ei(d.auth,F);G!==g.email&&(yield g.reload())})).apply(this,arguments)}function So(){return(So=(0,f.Z)(function*(g,l,d){const y=(0,$.m9)(g),G={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield g.getIdToken(),newEmail:l};d&&Nr(y.auth,G,d);const{email:Ie}=yield Is(y.auth,G);Ie!==g.email&&(yield g.reload())})).apply(this,arguments)}function Si(g,l){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,f.Z)(function*(g,l){return xn(g,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Tr(){return(Tr=(0,f.Z)(function*(g,{displayName:l,photoURL:d}){if(void 0===l&&void 0===d)return;const y=(0,$.m9)(g),G={idToken:yield y.getIdToken(),displayName:l,photoUrl:d,returnSecureToken:!0},Ie=yield wr(y,Si(y.auth,G));y.displayName=Ie.displayName||null,y.photoURL=Ie.photoUrl||null;const et=y.providerData.find(({providerId:xt})=>"password"===xt);et&&(et.displayName=y.displayName,et.photoURL=y.photoURL),yield y._updateTokensIfNecessary(Ie)})).apply(this,arguments)}function ys(g,l,d){return xo.apply(this,arguments)}function xo(){return(xo=(0,f.Z)(function*(g,l,d){const{auth:y}=g,G={idToken:yield g.getIdToken(),returnSecureToken:!0};l&&(G.email=l),d&&(G.password=d);const Ie=yield wr(g,Ce(y,G));yield g._updateTokensIfNecessary(Ie,!0)})).apply(this,arguments)}class _o{constructor(l,d,y={}){this.isNewUser=l,this.providerId=d,this.profile=y}}class Ko extends _o{constructor(l,d,y,F){super(l,d,y),this.username=F}}class aa extends _o{constructor(l,d){super(l,"facebook.com",d)}}class Di extends Ko{constructor(l,d){super(l,"github.com",d,"string"==typeof(null==d?void 0:d.login)?null==d?void 0:d.login:null)}}class qo extends _o{constructor(l,d){super(l,"google.com",d)}}class b extends Ko{constructor(l,d,y){super(l,"twitter.com",d,y)}}function D(g){const{user:l,_tokenResponse:d}=g;return l.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function zo(g){var l,d;if(!g)return null;const{providerId:y}=g,F=g.rawUserInfo?JSON.parse(g.rawUserInfo):{},G=g.isNewUser||"identitytoolkit#SignupNewUserResponse"===g.kind;if(!y&&(null==g?void 0:g.idToken)){const Ie=null===(d=null===(l=Cn(g.idToken))||void 0===l?void 0:l.firebase)||void 0===d?void 0:d.sign_in_provider;if(Ie)return new _o(G,"anonymous"!==Ie&&"custom"!==Ie?Ie:null)}if(!y)return null;switch(y){case"facebook.com":return new aa(G,F);case"github.com":return new Di(G,F);case"google.com":return new qo(G,F);case"twitter.com":return new b(G,F,g.screenName||null);case"custom":case"anonymous":return new _o(G,null);default:return new _o(G,y,F)}}(d)}class _s{constructor(l,d){this.type=l,this.credential=d}static _fromIdtoken(l){return new _s("enroll",l)}static _fromMfaPendingCredential(l){return new _s("signin",l)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(l){var d,y;if(null==l?void 0:l.multiFactorSession){if(null===(d=l.multiFactorSession)||void 0===d?void 0:d.pendingCredential)return _s._fromMfaPendingCredential(l.multiFactorSession.pendingCredential);if(null===(y=l.multiFactorSession)||void 0===y?void 0:y.idToken)return _s._fromIdtoken(l.multiFactorSession.idToken)}return null}}class ua{constructor(l,d,y){this.session=l,this.hints=d,this.signInResolver=y}static _fromError(l,d){const y=Ir(l),F=d.customData._serverResponse,G=(F.mfaInfo||[]).map(et=>io._fromServerResponse(y,et));ot(F.mfaPendingCredential,y,"internal-error");const Ie=_s._fromMfaPendingCredential(F.mfaPendingCredential);return new ua(Ie,G,function(){var et=(0,f.Z)(function*(xt){const Dt=yield xt._process(y,Ie);delete F.mfaInfo,delete F.mfaPendingCredential;const nn=Object.assign(Object.assign({},F),{idToken:Dt.idToken,refreshToken:Dt.refreshToken});switch(d.operationType){case"signIn":const Yt=yield ri._fromIdTokenResponse(y,d.operationType,nn);return yield y._updateCurrentUser(Yt.user),Yt;case"reauthenticate":return ot(d.user,y,"internal-error"),ri._forOperation(d.user,d.operationType,nn);default:fn(y,"internal-error")}});return function(xt){return et.apply(this,arguments)}}())}resolveSignIn(l){var d=this;return(0,f.Z)(function*(){return d.signInResolver(l)})()}}function ca(g,l){return xn(g,"POST","/v2/accounts/mfaEnrollment:start",en(g,l))}class Ra{constructor(l){this.user=l,this.enrolledFactors=[],l._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(y=>io._fromServerResponse(l.auth,y)))})}static _fromUser(l){return new Ra(l)}getSession(){var l=this;return(0,f.Z)(function*(){return _s._fromIdtoken(yield l.user.getIdToken())})()}enroll(l,d){var y=this;return(0,f.Z)(function*(){const F=l,G=yield y.getSession(),Ie=yield wr(y.user,F._process(y.user.auth,G,d));return yield y.user._updateTokensIfNecessary(Ie),y.user.reload()})()}unenroll(l){var d=this;return(0,f.Z)(function*(){const y="string"==typeof l?l:l.uid,F=yield d.user.getIdToken(),G=yield wr(d.user,function la(g,l){return xn(g,"POST","/v2/accounts/mfaEnrollment:withdraw",en(g,l))}(d.user.auth,{idToken:F,mfaEnrollmentId:y}));d.enrolledFactors=d.enrolledFactors.filter(({uid:Ie})=>Ie!==y),yield d.user._updateTokensIfNecessary(G);try{yield d.user.reload()}catch(Ie){if("auth/user-token-expired"!==Ie.code)throw Ie}})()}}const St=new WeakMap,w="__sak";class _{constructor(l,d){this.storageRetriever=l,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(w,"1"),this.storage.removeItem(w),Promise.resolve(!0)):Promise.resolve(!1)}catch(l){return Promise.resolve(!1)}}_set(l,d){return this.storage.setItem(l,JSON.stringify(d)),Promise.resolve()}_get(l){const d=this.storage.getItem(l);return Promise.resolve(d?JSON.parse(d):null)}_remove(l){return this.storage.removeItem(l),Promise.resolve()}get storage(){return this.storageRetriever()}}const Y=(()=>{class g extends _{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,y)=>this.onStorageEvent(d,y),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function C(){const g=(0,$.z$)();return ti(g)||yt(g)}()&&function rr(){try{return!(!window||window===window.top)}catch(g){return!1}}(),this.fallbackToPolling=Kn(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const y of Object.keys(this.listeners)){const F=this.storage.getItem(y),G=this.localCache[y];F!==G&&d(y,G,F)}}onStorageEvent(d,y=!1){if(!d.key)return void this.forAllChangedKeys((et,xt,Dt)=>{this.notifyListeners(et,Dt)});const F=d.key;if(y?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const et=this.storage.getItem(F);if(d.newValue!==et)null!==d.newValue?this.storage.setItem(F,d.newValue):this.storage.removeItem(F);else if(this.localCache[F]===d.newValue&&!y)return}const G=()=>{const et=this.storage.getItem(F);!y&&this.localCache[F]===et||this.notifyListeners(F,et)},Ie=this.storage.getItem(F);!function sr(){return(0,$.w1)()&&10===document.documentMode}()||Ie===d.newValue||d.newValue===d.oldValue?G():setTimeout(G,10)}notifyListeners(d,y){this.localCache[d]=y;const F=this.listeners[d];if(F)for(const G of Array.from(F))G(y&&JSON.parse(y))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,y,F)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:y,newValue:F}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,y){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(y)}_removeListener(d,y){this.listeners[d]&&(this.listeners[d].delete(y),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,y){var F=()=>super._set,G=this;return(0,f.Z)(function*(){yield F().call(G,d,y),G.localCache[d]=JSON.stringify(y)})()}_get(d){var y=()=>super._get,F=this;return(0,f.Z)(function*(){const G=yield y().call(F,d);return F.localCache[d]=JSON.stringify(G),G})()}_remove(d){var y=()=>super._remove,F=this;return(0,f.Z)(function*(){yield y().call(F,d),delete F.localCache[d]})()}}return g.type="LOCAL",g})(),Ct=(()=>{class g extends _{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,y){}_removeListener(d,y){}}return g.type="SESSION",g})();let mn=(()=>{class g{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const y=this.receivers.find(G=>G.isListeningto(d));if(y)return y;const F=new g(d);return this.receivers.push(F),F}isListeningto(d){return this.eventTarget===d}handleEvent(d){var y=this;return(0,f.Z)(function*(){const F=d,{eventId:G,eventType:Ie,data:et}=F.data,xt=y.handlersMap[Ie];if(!(null==xt?void 0:xt.size))return;F.ports[0].postMessage({status:"ack",eventId:G,eventType:Ie});const Dt=Array.from(xt).map(function(){var Yt=(0,f.Z)(function*(hr){return hr(F.origin,et)});return function(hr){return Yt.apply(this,arguments)}}()),nn=yield function Gn(g){return Promise.all(g.map(function(){var l=(0,f.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(y){return{fulfilled:!1,reason:y}}});return function(d){return l.apply(this,arguments)}}()))}(Dt);F.ports[0].postMessage({status:"done",eventId:G,eventType:Ie,response:nn})})()}_subscribe(d,y){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(y)}_unsubscribe(d,y){this.handlersMap[d]&&y&&this.handlersMap[d].delete(y),(!y||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return g.receivers=[],g})();function dr(g="",l=10){let d="";for(let y=0;y<l;y++)d+=Math.floor(10*Math.random());return g+d}class gr{constructor(l){this.target=l,this.handlers=new Set}removeMessageHandler(l){l.messageChannel&&(l.messageChannel.port1.removeEventListener("message",l.onMessage),l.messageChannel.port1.close()),this.handlers.delete(l)}_send(l,d,y=50){var F=this;return(0,f.Z)(function*(){const G="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!G)throw new Error("connection_unavailable");let Ie,et;return new Promise((xt,Dt)=>{const nn=dr("",20);G.port1.start();const Yt=setTimeout(()=>{Dt(new Error("unsupported_event"))},y);et={messageChannel:G,onMessage(hr){const Wi=hr;if(Wi.data.eventId===nn)switch(Wi.data.status){case"ack":clearTimeout(Yt),Ie=setTimeout(()=>{Dt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ie),xt(Wi.data.response);break;default:clearTimeout(Yt),clearTimeout(Ie),Dt(new Error("invalid_response"))}}},F.handlers.add(et),G.port1.addEventListener("message",et.onMessage),F.target.postMessage({eventType:l,eventId:nn,data:d},[G.port2])}).finally(()=>{et&&F.removeMessageHandler(et)})})()}}function si(){return window}function vs(){return void 0!==si().WorkerGlobalScope&&"function"==typeof si().importScripts}function uo(){return(uo=(0,f.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(g){return null}})).apply(this,arguments)}const Yo="firebaseLocalStorageDb",Oo="firebaseLocalStorage",Hc="fbase_key";class Hn{constructor(l){this.request=l}toPromise(){return new Promise((l,d)=>{this.request.addEventListener("success",()=>{l(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function Ln(g,l){return g.transaction([Oo],l?"readwrite":"readonly").objectStore(Oo)}function Pa(){const g=indexedDB.open(Yo,1);return new Promise((l,d)=>{g.addEventListener("error",()=>{d(g.error)}),g.addEventListener("upgradeneeded",()=>{const y=g.result;try{y.createObjectStore(Oo,{keyPath:Hc})}catch(F){d(F)}}),g.addEventListener("success",(0,f.Z)(function*(){const y=g.result;y.objectStoreNames.contains(Oo)?l(y):(y.close(),yield function pc(){const g=indexedDB.deleteDatabase(Yo);return new Hn(g).toPromise()}(),l(yield Pa()))}))})}function Vl(g,l,d){return vu.apply(this,arguments)}function vu(){return(vu=(0,f.Z)(function*(g,l,d){const y=Ln(g,!0).put({[Hc]:l,value:d});return new Hn(y).toPromise()})).apply(this,arguments)}function Gc(){return(Gc=(0,f.Z)(function*(g,l){const d=Ln(g,!1).get(l),y=yield new Hn(d).toPromise();return void 0===y?null:y.value})).apply(this,arguments)}function _i(g,l){const d=Ln(g,!0).delete(l);return new Hn(d).toPromise()}const Ro=(()=>{class g{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,f.Z)(function*(){return d.db||(d.db=yield Pa()),d.db})()}_withRetries(d){var y=this;return(0,f.Z)(function*(){let F=0;for(;;)try{const G=yield y._openDb();return yield d(G)}catch(G){if(F++>3)throw G;y.db&&(y.db.close(),y.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,f.Z)(function*(){return vs()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,f.Z)(function*(){d.receiver=mn._getInstance(function Zo(){return vs()?self:null}()),d.receiver._subscribe("keyChanged",function(){var y=(0,f.Z)(function*(F,G){return{keyProcessed:(yield d._poll()).includes(G.key)}});return function(F,G){return y.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var y=(0,f.Z)(function*(F,G){return["keyChanged"]});return function(F,G){return y.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,f.Z)(function*(){var y,F;if(d.activeServiceWorker=yield function ls(){return uo.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new gr(d.activeServiceWorker);const G=yield d.sender._send("ping",{},800);!G||(null===(y=G[0])||void 0===y?void 0:y.fulfilled)&&(null===(F=G[0])||void 0===F?void 0:F.value.includes("keyChanged"))&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var y=this;return(0,f.Z)(function*(){if(y.sender&&y.activeServiceWorker&&function kr(){var g;return(null===(g=null==navigator?void 0:navigator.serviceWorker)||void 0===g?void 0:g.controller)||null}()===y.activeServiceWorker)try{yield y.sender._send("keyChanged",{key:d},y.serviceWorkerReceiverAvailable?800:50)}catch(F){}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const d=yield Pa();return yield Vl(d,w,"1"),yield _i(d,w),!0}catch(d){}return!1})()}_withPendingWrite(d){var y=this;return(0,f.Z)(function*(){y.pendingWrites++;try{yield d()}finally{y.pendingWrites--}})()}_set(d,y){var F=this;return(0,f.Z)(function*(){return F._withPendingWrite((0,f.Z)(function*(){return yield F._withRetries(G=>Vl(G,d,y)),F.localCache[d]=y,F.notifyServiceWorker(d)}))})()}_get(d){var y=this;return(0,f.Z)(function*(){const F=yield y._withRetries(G=>function Br(g,l){return Gc.apply(this,arguments)}(G,d));return y.localCache[d]=F,F})()}_remove(d){var y=this;return(0,f.Z)(function*(){return y._withPendingWrite((0,f.Z)(function*(){return yield y._withRetries(F=>_i(F,d)),delete y.localCache[d],y.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,f.Z)(function*(){const y=yield d._withRetries(Ie=>{const et=Ln(Ie,!1).getAll();return new Hn(et).toPromise()});if(!y)return[];if(0!==d.pendingWrites)return[];const F=[],G=new Set;for(const{fbase_key:Ie,value:et}of y)G.add(Ie),JSON.stringify(d.localCache[Ie])!==JSON.stringify(et)&&(d.notifyListeners(Ie,et),F.push(Ie));for(const Ie of Object.keys(d.localCache))d.localCache[Ie]&&!G.has(Ie)&&(d.notifyListeners(Ie,null),F.push(Ie));return F})()}notifyListeners(d,y){this.localCache[d]=y;const F=this.listeners[d];if(F)for(const G of Array.from(F))G(y)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,y){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(y)}_removeListener(d,y){this.listeners[d]&&(this.listeners[d].delete(y),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return g.type="LOCAL",g})();function Na(g,l){return xn(g,"POST","/v2/accounts/mfaSignIn:start",en(g,l))}function $s(){return($s=(0,f.Z)(function*(g){return(yield xn(g,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function vo(g){return new Promise((l,d)=>{const y=document.createElement("script");y.setAttribute("src",g),y.onload=l,y.onerror=F=>{const G=Sn("internal-error");G.customData=F,d(G)},y.type="text/javascript",y.charset="UTF-8",function ku(){var g,l;return null!==(l=null===(g=document.getElementsByTagName("head"))||void 0===g?void 0:g[0])&&void 0!==l?l:document}().appendChild(y)})}function Js(g){return`__${g}${Math.floor(1e6*Math.random())}`}const rn=1e12;class da{constructor(l){this.auth=l,this.counter=rn,this._widgets=new Map}render(l,d){const y=this.counter;return this._widgets.set(y,new ha(l,this.auth.name,d||{})),this.counter++,y}reset(l){var d;const y=l||rn;null===(d=this._widgets.get(y))||void 0===d||d.delete(),this._widgets.delete(y)}getResponse(l){var d;return(null===(d=this._widgets.get(l||rn))||void 0===d?void 0:d.getResponse())||""}execute(l){var d=this;return(0,f.Z)(function*(){var y;return null===(y=d._widgets.get(l||rn))||void 0===y||y.execute(),""})()}}class ha{constructor(l,d,y){this.params=y,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const F="string"==typeof l?document.getElementById(l):l;ot(F,"argument-error",{appName:d}),this.container=F,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function wu(g){const l=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<g;y++)l.push(d.charAt(Math.floor(Math.random()*d.length)));return l.join("")}(50);const{callback:l,"expired-callback":d}=this.params;if(l)try{l(this.responseToken)}catch(y){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch(y){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ji=Js("rcb"),Fu=new Bt(3e4,6e4);class Fa{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!si().grecaptcha}load(l,d=""){return ot(function eu(g){return g.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(g)}(d),l,"argument-error"),this.shouldResolveImmediately(d)?Promise.resolve(si().grecaptcha):new Promise((y,F)=>{const G=si().setTimeout(()=>{F(Sn(l,"network-request-failed"))},Fu.get());si()[ji]=()=>{si().clearTimeout(G),delete si()[ji];const et=si().grecaptcha;if(!et)return void F(Sn(l,"internal-error"));const xt=et.render;et.render=(Dt,nn)=>{const Yt=xt(Dt,nn);return this.counter++,Yt},this.hostLanguage=d,y(et)},vo(`https://www.google.com/recaptcha/api.js??${(0,$.xO)({onload:ji,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(G),F(Sn(l,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(l){return!!si().grecaptcha&&(l===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class mc{load(l){return(0,f.Z)(function*(){return new da(l)})()}clearedOneInstance(){}}const Lu="recaptcha",pa={theme:"light",type:"image"};class Wc{constructor(l,d=Object.assign({},pa),y){this.parameters=d,this.type=Lu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ir(y),this.isInvisible="invisible"===this.parameters.size,ot("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const F="string"==typeof l?document.getElementById(l):l;ot(F,this.auth,"argument-error"),this.container=F,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new mc:new Fa,this.validateStartingState()}verify(){var l=this;return(0,f.Z)(function*(){l.assertNotDestroyed();const d=yield l.render(),y=l.getAssertedRecaptcha();return y.getResponse(d)||new Promise(G=>{const Ie=et=>{!et||(l.tokenChangeListeners.delete(Ie),G(et))};l.tokenChangeListeners.add(Ie),l.isInvisible&&y.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(l){return Promise.reject(l)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(l=>{throw this.renderPromise=null,l})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(l=>{this.container.removeChild(l)})}validateStartingState(){ot(!this.parameters.sitekey,this.auth,"argument-error"),ot(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ot("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(l){return d=>{if(this.tokenChangeListeners.forEach(y=>y(d)),"function"==typeof l)l(d);else if("string"==typeof l){const y=si()[l];"function"==typeof y&&y(d)}}}assertNotDestroyed(){ot(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var l=this;return(0,f.Z)(function*(){if(yield l.init(),!l.widgetId){let d=l.container;if(!l.isInvisible){const y=document.createElement("div");d.appendChild(y),d=y}l.widgetId=l.getAssertedRecaptcha().render(d,l.parameters)}return l.widgetId})()}init(){var l=this;return(0,f.Z)(function*(){ot(vt()&&!vs(),l.auth,"internal-error"),yield function Po(){let g=null;return new Promise(l=>{"complete"!==document.readyState?(g=()=>l(),window.addEventListener("load",g)):l()}).catch(l=>{throw g&&window.removeEventListener("load",g),l})}(),l.recaptcha=yield l._recaptchaLoader.load(l.auth,l.auth.languageCode||void 0);const d=yield function ds(g){return $s.apply(this,arguments)}(l.auth);ot(d,l.auth,"internal-error"),l.parameters.sitekey=d})()}getAssertedRecaptcha(){return ot(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class La{constructor(l,d){this.verificationId=l,this.onConfirmation=d}confirm(l){const d=or._fromVerification(this.verificationId,l);return this.onConfirmation(d)}}function ga(){return(ga=(0,f.Z)(function*(g,l,d){const y=Ir(g),F=yield V(y,l,(0,$.m9)(d));return new La(F,G=>bo(y,G))})).apply(this,arguments)}function Va(){return(Va=(0,f.Z)(function*(g,l,d){const y=(0,$.m9)(g);yield Ur(!1,y,"phone");const F=yield V(y.auth,l,(0,$.m9)(d));return new La(F,G=>Do(y,G))})).apply(this,arguments)}function M(){return(M=(0,f.Z)(function*(g,l,d){const y=(0,$.m9)(g),F=yield V(y.auth,l,(0,$.m9)(d));return new La(F,G=>Ji(y,G))})).apply(this,arguments)}function V(g,l,d){return Z.apply(this,arguments)}function Z(){return(Z=(0,f.Z)(function*(g,l,d){var y;const F=yield d.verify();try{let G;if(ot("string"==typeof F,g,"argument-error"),ot(d.type===Lu,g,"argument-error"),G="string"==typeof l?{phoneNumber:l}:l,"session"in G){const Ie=G.session;if("phoneNumber"in G)return ot("enroll"===Ie.type,g,"internal-error"),(yield ca(g,{idToken:Ie.credential,phoneEnrollmentInfo:{phoneNumber:G.phoneNumber,recaptchaToken:F}})).phoneSessionInfo.sessionInfo;{ot("signin"===Ie.type,g,"internal-error");const et=(null===(y=G.multiFactorHint)||void 0===y?void 0:y.uid)||G.multiFactorUid;return ot(et,g,"missing-multi-factor-info"),(yield Na(g,{mfaPendingCredential:Ie.credential,mfaEnrollmentId:et,phoneSignInInfo:{recaptchaToken:F}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ie}=yield Yr(g,{phoneNumber:G.phoneNumber,recaptchaToken:F});return Ie}}finally{d._reset()}})).apply(this,arguments)}function Fe(){return(Fe=(0,f.Z)(function*(g,l){yield Zt((0,$.m9)(g),l)})).apply(this,arguments)}let rt=(()=>{class g{constructor(d){this.providerId=g.PROVIDER_ID,this.auth=Ir(d)}verifyPhoneNumber(d,y){return V(this.auth,d,(0,$.m9)(y))}static credential(d,y){return or._fromVerification(d,y)}static credentialFromResult(d){return g.credentialFromTaggedObject(d)}static credentialFromError(d){return g.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:y,temporaryProof:F}=d;return y&&F?or._fromTokenResponse(y,F):null}}return g.PROVIDER_ID="phone",g.PHONE_SIGN_IN_METHOD="phone",g})();function mt(g,l){return l?Kt(l):(ot(g._popupRedirectResolver,g,"argument-error"),g._popupRedirectResolver)}class Jt extends Vn{constructor(l){super("custom","custom"),this.params=l}_getIdTokenResponse(l){return ni(l,this._buildIdpRequest())}_linkToIdToken(l,d){return ni(l,this._buildIdpRequest(d))}_getReauthenticationResolver(l){return ni(l,this._buildIdpRequest())}_buildIdpRequest(l){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return l&&(d.idToken=l),d}}function tn(g){return Qs(g.auth,new Jt(g),g.bypassAuthState)}function On(g){const{auth:l,user:d}=g;return ot(d,l,"internal-error"),zr(d,new Jt(g),g.bypassAuthState)}function Qr(g){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,f.Z)(function*(g){const{auth:l,user:d}=g;return ot(d,l,"internal-error"),Zt(d,new Jt(g),g.bypassAuthState)})).apply(this,arguments)}class Ms{constructor(l,d,y,F,G=!1){this.auth=l,this.resolver=y,this.user=F,this.bypassAuthState=G,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var l=this;return new Promise(function(){var d=(0,f.Z)(function*(y,F){l.pendingPromise={resolve:y,reject:F};try{l.eventManager=yield l.resolver._initialize(l.auth),yield l.onExecution(),l.eventManager.registerConsumer(l)}catch(G){l.reject(G)}});return function(y,F){return d.apply(this,arguments)}}())}onAuthEvent(l){var d=this;return(0,f.Z)(function*(){const{urlResponse:y,sessionId:F,postBody:G,tenantId:Ie,error:et,type:xt}=l;if(et)return void d.reject(et);const Dt={auth:d.auth,requestUri:y,sessionId:F,tenantId:Ie||void 0,postBody:G||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(xt)(Dt))}catch(nn){d.reject(nn)}})()}onError(l){this.reject(l)}getIdpTask(l){switch(l){case"signInViaPopup":case"signInViaRedirect":return tn;case"linkViaPopup":case"linkViaRedirect":return Qr;case"reauthViaPopup":case"reauthViaRedirect":return On;default:fn(this.auth,"internal-error")}}resolve(l){It(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(l),this.unregisterAndCleanUp()}reject(l){It(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(l),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Mi=new Bt(2e3,1e4);function ya(){return(ya=(0,f.Z)(function*(g,l,d){const y=Ir(g);tr(g,l,P);const F=mt(y,d);return new Gs(y,"signInViaPopup",l,F).executeNotNull()})).apply(this,arguments)}function Xs(){return(Xs=(0,f.Z)(function*(g,l,d){const y=(0,$.m9)(g);tr(y.auth,l,P);const F=mt(y.auth,d);return new Gs(y.auth,"reauthViaPopup",l,F,y).executeNotNull()})).apply(this,arguments)}function tu(){return(tu=(0,f.Z)(function*(g,l,d){const y=(0,$.m9)(g);tr(y.auth,l,P);const F=mt(y.auth,d);return new Gs(y.auth,"linkViaPopup",l,F,y).executeNotNull()})).apply(this,arguments)}let Gs=(()=>{class g extends Ms{constructor(d,y,F,G,Ie){super(d,y,G,Ie),this.provider=F,this.authWindow=null,this.pollId=null,g.currentPopupAction&&g.currentPopupAction.cancel(),g.currentPopupAction=this}executeNotNull(){var d=this;return(0,f.Z)(function*(){const y=yield d.execute();return ot(y,d.auth,"internal-error"),y})()}onExecution(){var d=this;return(0,f.Z)(function*(){It(1===d.filter.length,"Popup operations only handle one event");const y=dr();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],y),d.authWindow.associatedEvent=y,d.resolver._originValidation(d.auth).catch(F=>{d.reject(F)}),d.resolver._isIframeWebStorageSupported(d.auth,F=>{F||d.reject(Sn(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(Sn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,g.currentPopupAction=null}pollUserCancellation(){const d=()=>{var y,F;this.pollId=(null===(F=null===(y=this.authWindow)||void 0===y?void 0:y.window)||void 0===F?void 0:F.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Sn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(d,Mi.get())};d()}}return g.currentPopupAction=null,g})();const _a=new Map;class Vu extends Ms{constructor(l,d,y=!1){super(l,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,y),this.eventId=null}execute(){var l=()=>super.execute,d=this;return(0,f.Z)(function*(){let y=_a.get(d.auth._key());if(!y){try{const G=(yield function Eu(g,l){return Uu.apply(this,arguments)}(d.resolver,d.auth))?yield l().call(d):null;y=()=>Promise.resolve(G)}catch(F){y=()=>Promise.reject(F)}_a.set(d.auth._key(),y)}return d.bypassAuthState||_a.set(d.auth._key(),()=>Promise.resolve(null)),y()})()}onAuthEvent(l){var d=()=>super.onAuthEvent,y=this;return(0,f.Z)(function*(){if("signInViaRedirect"===l.type)return d().call(y,l);if("unknown"!==l.type){if(l.eventId){const F=yield y.auth._redirectUserForId(l.eventId);if(F)return y.user=F,d().call(y,l);y.resolve(null)}}else y.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function Uu(){return(Uu=(0,f.Z)(function*(g,l){const d=Ul(l),y=xs(g);if(!(yield y._isAvailable()))return!1;const F="true"===(yield y._get(d));return yield y._remove(d),F})).apply(this,arguments)}function _c(g,l){return vc.apply(this,arguments)}function vc(){return(vc=(0,f.Z)(function*(g,l){return xs(g)._set(Ul(l),"true")})).apply(this,arguments)}function xs(g){return Kt(g._redirectPersistence)}function Ul(g){return hn("pendingRedirect",g.config.apiKey,g.name)}function wc(){return(wc=(0,f.Z)(function*(g,l,d){const y=Ir(g);tr(g,l,P);const F=mt(y,d);return yield _c(F,y),F._openRedirect(y,l,"signInViaRedirect")})).apply(this,arguments)}function jl(){return(jl=(0,f.Z)(function*(g,l,d){const y=(0,$.m9)(g);tr(y.auth,l,P);const F=mt(y.auth,d);yield _c(F,y.auth);const G=yield va(y);return F._openRedirect(y.auth,l,"reauthViaRedirect",G)})).apply(this,arguments)}function Bu(){return(Bu=(0,f.Z)(function*(g,l,d){const y=(0,$.m9)(g);tr(y.auth,l,P);const F=mt(y.auth,d);yield Ur(!1,y,l.providerId),yield _c(F,y.auth);const G=yield va(y);return F._openRedirect(y.auth,l,"linkViaRedirect",G)})).apply(this,arguments)}function $l(){return($l=(0,f.Z)(function*(g,l){return yield Ir(g)._initializationPromise,qc(g,l,!1)})).apply(this,arguments)}function qc(g,l){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,f.Z)(function*(g,l,d=!1){const y=Ir(g),F=mt(y,l),Ie=yield new Vu(y,F,d).execute();return Ie&&!d&&(delete Ie.user._redirectEventId,yield y._persistUserIfCurrent(Ie.user),yield y._setRedirectUser(null,l)),Ie})).apply(this,arguments)}function va(g){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,f.Z)(function*(g){const l=dr(`${g.uid}:::`);return g._redirectEventId=l,yield g.auth._setRedirectUser(g),yield g.auth._persistUserIfCurrent(g),l})).apply(this,arguments)}class Ba{constructor(l){this.auth=l,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(l){this.consumers.add(l),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,l)&&(this.sendToConsumer(this.queuedRedirectEvent,l),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(l){this.consumers.delete(l)}onEvent(l){if(this.hasEventBeenHandled(l))return!1;let d=!1;return this.consumers.forEach(y=>{this.isEventForConsumer(l,y)&&(d=!0,this.sendToConsumer(l,y),this.saveEventToCache(l))}),this.hasHandledPotentialRedirect||!function jd(g){switch(g.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nu(g);default:return!1}}(l)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=l,d=!0)),d}sendToConsumer(l,d){var y;if(l.error&&!nu(l)){const F=(null===(y=l.error.code)||void 0===y?void 0:y.split("auth/")[1])||"internal-error";d.onError(Sn(this.auth,F))}else d.onAuthEvent(l)}isEventForConsumer(l,d){const y=null===d.eventId||!!l.eventId&&l.eventId===d.eventId;return d.filter.includes(l.type)&&y}hasEventBeenHandled(l){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zc(l))}saveEventToCache(l){this.cachedEventUids.add(Zc(l)),this.lastProcessedEventTime=Date.now()}}function Zc(g){return[g.type,g.eventId,g.sessionId,g.tenantId].filter(l=>l).join("-")}function nu({type:g,error:l}){return"unknown"===g&&"auth/no-auth-event"===(null==l?void 0:l.code)}function Wl(g){return bu.apply(this,arguments)}function bu(){return(bu=(0,f.Z)(function*(g,l={}){return xn(g,"GET","/v1/projects",l)})).apply(this,arguments)}const rf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sf=/^https?/;function wa(){return(wa=(0,f.Z)(function*(g){if(g.config.emulator)return;const{authorizedDomains:l}=yield Wl(g);for(const d of l)try{if(Yc(d))return}catch(y){}fn(g,"unauthorized-domain")})).apply(this,arguments)}function Yc(g){const l=Qt(),{protocol:d,hostname:y}=new URL(l);if(g.startsWith("chrome-extension://")){const Ie=new URL(g);return""===Ie.hostname&&""===y?"chrome-extension:"===d&&g.replace("chrome-extension://","")===l.replace("chrome-extension://",""):"chrome-extension:"===d&&Ie.hostname===y}if(!sf.test(d))return!1;if(rf.test(g))return y===g;const F=g.replace(/\./g,"\\.");return new RegExp("^(.+\\."+F+"|"+F+")$","i").test(y)}const sg=new Bt(3e4,6e4);function zl(){const g=si().___jsl;if(null==g?void 0:g.H)for(const l of Object.keys(g.H))if(g.H[l].r=g.H[l].r||[],g.H[l].L=g.H[l].L||[],g.H[l].r=[...g.H[l].L],g.CP)for(let d=0;d<g.CP.length;d++)g.CP[d]=null}let Qc=null;function of(g){return Qc=Qc||function og(g){return new Promise((l,d)=>{var y,F,G;function Ie(){zl(),gapi.load("gapi.iframes",{callback:()=>{l(gapi.iframes.getContext())},ontimeout:()=>{zl(),d(Sn(g,"network-request-failed"))},timeout:sg.get()})}if(null===(F=null===(y=si().gapi)||void 0===y?void 0:y.iframes)||void 0===F?void 0:F.Iframe)l(gapi.iframes.getContext());else{if(!(null===(G=si().gapi)||void 0===G?void 0:G.load)){const et=Js("iframefcb");return si()[et]=()=>{gapi.load?Ie():d(Sn(g,"network-request-failed"))},vo(`https://apis.google.com/js/api.js?onload=${et}`).catch(xt=>d(xt))}Ie()}}).catch(l=>{throw Qc=null,l})}(g),Qc}const ju=new Bt(5e3,15e3),Hd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jc(g){const l=g.config;ot(l.authDomain,g,"auth-domain-config-required");const d=l.emulator?Mt(l,"emulator/auth/iframe"):`https://${g.config.authDomain}/__/auth/iframe`,y={apiKey:l.apiKey,appName:g.name,v:le.SDK_VERSION},F=Gd.get(g.config.apiHost);F&&(y.eid=F);const G=g._getFrameworks();return G.length&&(y.fw=G.join(",")),`${d}?${(0,$.xO)(y).slice(1)}`}function $u(){return $u=(0,f.Z)(function*(g){const l=yield of(g),d=si().gapi;return ot(d,g,"internal-error"),l.open({where:document.body,url:Jc(g),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Hd,dontclear:!0},y=>new Promise(function(){var F=(0,f.Z)(function*(G,Ie){yield y.restyle({setHideOnLeave:!1});const et=Sn(g,"network-request-failed"),xt=si().setTimeout(()=>{Ie(et)},ju.get());function Dt(){si().clearTimeout(xt),G(y)}y.ping(Dt).then(Dt,()=>{Ie(et)})});return function(G,Ie){return F.apply(this,arguments)}}()))}),$u.apply(this,arguments)}const $i={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Gu{constructor(l){this.window=l,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(l){}}}function zs(g,l,d,y,F,G){ot(g.config.authDomain,g,"auth-domain-config-required"),ot(g.config.apiKey,g,"invalid-api-key");const Ie={apiKey:g.config.apiKey,appName:g.name,authType:d,redirectUrl:y,v:le.SDK_VERSION,eventId:F};if(l instanceof P){l.setDefaultLanguage(g.languageCode),Ie.providerId=l.providerId||"",(0,$.xb)(l.getCustomParameters())||(Ie.customParameters=JSON.stringify(l.getCustomParameters()));for(const[xt,Dt]of Object.entries(G||{}))Ie[xt]=Dt}if(l instanceof K){const xt=l.getScopes().filter(Dt=>""!==Dt);xt.length>0&&(Ie.scopes=xt.join(","))}g.tenantId&&(Ie.tid=g.tenantId);const et=Ie;for(const xt of Object.keys(et))void 0===et[xt]&&delete et[xt];return`${function Yl({config:g}){return g.emulator?Mt(g,"emulator/auth/handler"):`https://${g.authDomain}/__/auth/handler`}(g)}?${(0,$.xO)(et).slice(1)}`}const Xc="webStorageSupport";class jr extends class uf{constructor(l){this.factorId=l}_process(l,d,y){switch(d.type){case"enroll":return this._finalizeEnroll(l,d.credential,y);case"signin":return this._finalizeSignIn(l,d.credential);default:return Xt("unexpected MultiFactorSessionType")}}}{constructor(l){super("phone"),this.credential=l}static _fromCredential(l){return new jr(l)}_finalizeEnroll(l,d,y){return function js(g,l){return xn(g,"POST","/v2/accounts/mfaEnrollment:finalize",en(g,l))}(l,{idToken:d,displayName:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(l,d){return function Pi(g,l){return xn(g,"POST","/v2/accounts/mfaSignIn:finalize",en(g,l))}(l,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let cf=(()=>{class g{constructor(){}static assertion(d){return jr._fromCredential(d)}}return g.FACTOR_ID="phone",g})();var bc="@firebase/auth";class iu{constructor(l){this.auth=l,this.internalListeners=new Map}getUid(){var l;return this.assertAuthConfigured(),(null===(l=this.auth.currentUser)||void 0===l?void 0:l.uid)||null}getToken(l){var d=this;return(0,f.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(l)}:null})()}addAuthTokenListener(l){if(this.assertAuthConfigured(),this.internalListeners.has(l))return;const d=this.auth.onIdTokenChanged(y=>{var F;l((null===(F=y)||void 0===F?void 0:F.stsTokenManager.accessToken)||null)});this.internalListeners.set(l,d),this.updateProactiveRefresh()}removeAuthTokenListener(l){this.assertAuthConfigured();const d=this.internalListeners.get(l);!d||(this.internalListeners.delete(l),d(),this.updateProactiveRefresh())}assertAuthConfigured(){ot(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function hi(){return window}function Wu(){return(Wu=(0,f.Z)(function*(g,l,d){var y;const{BuildInfo:F}=hi();It(l.sessionId,"AuthEvent did not contain a session ID");const G=yield Os(l.sessionId),Ie={};return yt()?Ie.ibi=F.packageName:Je()?Ie.apn=F.packageName:fn(g,"operation-not-supported-in-this-environment"),F.displayName&&(Ie.appDisplayName=F.displayName),Ie.sessionId=G,zs(g,d,l.type,void 0,null!==(y=l.eventId)&&void 0!==y?y:void 0,Ie)})).apply(this,arguments)}function Ql(){return(Ql=(0,f.Z)(function*(g){const{BuildInfo:l}=hi(),d={};yt()?d.iosBundleId=l.packageName:Je()?d.androidPackageName=l.packageName:fn(g,"operation-not-supported-in-this-environment"),yield Wl(g,d)})).apply(this,arguments)}function rl(){return(rl=(0,f.Z)(function*(g,l,d){const{cordova:y}=hi();let F=()=>{};try{yield new Promise((G,Ie)=>{let et=null;function xt(){var Yt;G();const hr=null===(Yt=y.plugins.browsertab)||void 0===Yt?void 0:Yt.close;"function"==typeof hr&&hr(),"function"==typeof(null==d?void 0:d.close)&&d.close()}function Dt(){et||(et=window.setTimeout(()=>{Ie(Sn(g,"redirect-cancelled-by-user"))},2e3))}function nn(){"visible"===(null==document?void 0:document.visibilityState)&&Dt()}l.addPassiveListener(xt),document.addEventListener("resume",Dt,!1),Je()&&document.addEventListener("visibilitychange",nn,!1),F=()=>{l.removePassiveListener(xt),document.removeEventListener("resume",Dt,!1),document.removeEventListener("visibilitychange",nn,!1),et&&window.clearTimeout(et)}})}finally{F()}})).apply(this,arguments)}function Os(g){return il.apply(this,arguments)}function il(){return(il=(0,f.Z)(function*(g){const l=zu(g),d=yield crypto.subtle.digest("SHA-256",l);return Array.from(new Uint8Array(d)).map(F=>F.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function zu(g){if(It(/[0-9a-zA-Z]+/.test(g),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(g);const l=new ArrayBuffer(g.length),d=new Uint8Array(l);for(let y=0;y<g.length;y++)d[y]=g.charCodeAt(y);return d}!function nl(g){(0,le._registerComponent)(new Be.wA("auth",(l,{options:d})=>{const y=l.getProvider("app").getImmediate(),{apiKey:F,authDomain:G}=y.options;return(Ie=>{ot(F&&!F.includes(":"),"invalid-api-key",{appName:Ie.name}),ot(!(null==G?void 0:G.includes(":")),"argument-error",{appName:Ie.name});const et={apiKey:F,authDomain:G,clientPlatform:g,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:An(g)},xt=new Zr(Ie,et);return function oi(g,l){const d=(null==l?void 0:l.persistence)||[],y=(Array.isArray(d)?d:[d]).map(Kt);(null==l?void 0:l.errorMap)&&g._updateErrorMap(l.errorMap),g._initializeWithPersistence(y,null==l?void 0:l.popupRedirectResolver)}(xt,d),xt})(y)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((l,d,y)=>{l.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new Be.wA("auth-internal",l=>{const d=Ir(l.getProvider("auth").getImmediate());return new iu(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(bc,"0.19.6",function tl(g){switch(g){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(g)),(0,le.registerVersion)(bc,"0.19.6","esm2017")}("Browser");class ko extends Ba{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(l=>{this.resolveInialized=l})}addPassiveListener(l){this.passiveListeners.add(l)}removePassiveListener(l){this.passiveListeners.delete(l)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(l){return this.resolveInialized(),this.passiveListeners.forEach(d=>d(l)),super.onEvent(l)}initialized(){var l=this;return(0,f.Z)(function*(){yield l.initPromise})()}}function Gi(g){return su.apply(this,arguments)}function su(){return(su=(0,f.Z)(function*(g){const l=yield Xl()._get(al(g));return l&&(yield Xl()._remove(al(g))),l})).apply(this,arguments)}function Kd(){const g=[],l="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let d=0;d<20;d++){const y=Math.floor(Math.random()*l.length);g.push(l.charAt(y))}return g.join("")}function Xl(){return Kt(Y)}function al(g){return hn("authEvent",g.config.apiKey,g.name)}function cl(g){if(!(null==g?void 0:g.includes("?")))return{};const[l,...d]=g.split("?");return(0,$.zd)(d.join("?"))}function ll(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Sn("no-auth-event")}}function hl(){var g;return(null===(g=null==self?void 0:self.location)||void 0===g?void 0:g.protocol)||null}function Du(g=(0,$.z$)()){return!("file:"!==hl()&&"ionic:"!==hl()||!g.toLowerCase().match(/iphone|ipad|ipod|android/))}function wo(){try{const g=self.localStorage,l=dr();if(g)return g.setItem(l,"1"),g.removeItem(l),!function Jd(g=(0,$.z$)()){return function mf(){return(0,$.w1)()&&11===(null==document?void 0:document.documentMode)}()||function yf(g=(0,$.z$)()){return/Edge\/\d+/.test(g)}(g)}()||(0,$.hl)()}catch(g){return nd()&&(0,$.hl)()}return!1}function nd(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function fl(){return(function Ea(){return"http:"===hl()||"https:"===hl()}()||(0,$.ru)()||Du())&&!function gf(){return(0,$.b$)()||(0,$.UG)()}()&&wo()&&!nd()}function ba(){return Du()&&"undefined"!=typeof document}function Ks(){return(Ks=(0,f.Z)(function*(){return!!ba()&&new Promise(g=>{const l=setTimeout(()=>{g(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(l),g(!0)})})})).apply(this,arguments)}const ns={LOCAL:"local",NONE:"none",SESSION:"session"},Jr=ot,Rs="persistence";function Fo(g){return xi.apply(this,arguments)}function xi(){return(xi=(0,f.Z)(function*(g){yield g._initializationPromise;const l=qs(),d=hn(Rs,g.config.apiKey,g.name);(null==l?void 0:l.sessionStorage)&&l.sessionStorage.setItem(d,g._getPersistence())})).apply(this,arguments)}function qs(){return"undefined"!=typeof window?window:null}const Zs=ot;class Xr{constructor(){this.browserResolver=Kt(class ag{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ct,this._completeRedirectFn=qc}_openPopup(l,d,y,F){var G=this;return(0,f.Z)(function*(){var Ie;It(null===(Ie=G.eventManagers[l._key()])||void 0===Ie?void 0:Ie.manager,"_initialize() not called before _openPopup()");const et=zs(l,d,y,Qt(),F);return function Ws(g,l,d,y=500,F=600){const G=Math.max((window.screen.availHeight-F)/2,0).toString(),Ie=Math.max((window.screen.availWidth-y)/2,0).toString();let et="";const xt=Object.assign(Object.assign({},$i),{width:y.toString(),height:F.toString(),top:G,left:Ie}),Dt=(0,$.z$)().toLowerCase();d&&(et=ai(Dt)?"_blank":d),_n(Dt)&&(l=l||"http://localhost",xt.scrollbars="yes");const nn=Object.entries(xt).reduce((hr,[Wi,ou])=>`${hr}${Wi}=${ou},`,"");if(function Lt(g=(0,$.z$)()){var l;return yt(g)&&!!(null===(l=window.navigator)||void 0===l?void 0:l.standalone)}(Dt)&&"_self"!==et)return function Hi(g,l){const d=document.createElement("a");d.href=g,d.target=l;const y=document.createEvent("MouseEvent");y.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(y)}(l||"",et),new Gu(null);const Yt=window.open(l||"",et,nn);ot(Yt,g,"popup-blocked");try{Yt.focus()}catch(hr){}return new Gu(Yt)}(l,et,dr())})()}_openRedirect(l,d,y,F){var G=this;return(0,f.Z)(function*(){return yield G._originValidation(l),function Ss(g){si().location.href=g}(zs(l,d,y,Qt(),F)),new Promise(()=>{})})()}_initialize(l){const d=l._key();if(this.eventManagers[d]){const{manager:F,promise:G}=this.eventManagers[d];return F?Promise.resolve(F):(It(G,"If manager is not set, promise should be"),G)}const y=this.initAndGetManager(l);return this.eventManagers[d]={promise:y},y.catch(()=>{delete this.eventManagers[d]}),y}initAndGetManager(l){var d=this;return(0,f.Z)(function*(){const y=yield function Kl(g){return $u.apply(this,arguments)}(l),F=new Ba(l);return y.register("authEvent",G=>(ot(null==G?void 0:G.authEvent,l,"invalid-auth-event"),{status:F.onEvent(G.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[l._key()]={manager:F},d.iframes[l._key()]=y,F})()}_isIframeWebStorageSupported(l,d){this.iframes[l._key()].send(Xc,{type:Xc},F=>{var G;const Ie=null===(G=null==F?void 0:F[0])||void 0===G?void 0:G[Xc];void 0!==Ie&&d(!!Ie),fn(l,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(l){const d=l._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function di(g){return wa.apply(this,arguments)}(l)),this.originValidationPromises[d]}get _shouldInitProactively(){return Kn()||ti()||yt()}}),this.cordovaResolver=Kt(class qd{constructor(){this._redirectPersistence=Ct,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=qc}_initialize(l){var d=this;return(0,f.Z)(function*(){const y=l._key();let F=d.eventManagers.get(y);return F||(F=new ko(l),d.eventManagers.set(y,F),d.attachCallbackListeners(l,F)),F})()}_openPopup(l){fn(l,"operation-not-supported-in-this-environment")}_openRedirect(l,d,y,F){var G=this;return(0,f.Z)(function*(){!function ff(g){var l,d,y,F,G,Ie,et,xt,Dt,nn;const Yt=hi();ot("function"==typeof(null===(l=null==Yt?void 0:Yt.universalLinks)||void 0===l?void 0:l.subscribe),g,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ot(void 0!==(null===(d=null==Yt?void 0:Yt.BuildInfo)||void 0===d?void 0:d.packageName),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ot("function"==typeof(null===(G=null===(F=null===(y=null==Yt?void 0:Yt.cordova)||void 0===y?void 0:y.plugins)||void 0===F?void 0:F.browsertab)||void 0===G?void 0:G.openUrl),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ot("function"==typeof(null===(xt=null===(et=null===(Ie=null==Yt?void 0:Yt.cordova)||void 0===Ie?void 0:Ie.plugins)||void 0===et?void 0:et.browsertab)||void 0===xt?void 0:xt.isAvailable),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ot("function"==typeof(null===(nn=null===(Dt=null==Yt?void 0:Yt.cordova)||void 0===Dt?void 0:Dt.InAppBrowser)||void 0===nn?void 0:nn.open),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(l);const Ie=yield G._initialize(l);yield Ie.initialized(),Ie.resetRedirect(),function Qo(){_a.clear()}(),yield G._originValidation(l);const et=function sl(g,l,d=null){return{type:l,eventId:d,urlResponse:null,sessionId:Kd(),postBody:null,tenantId:g.tenantId,error:Sn(g,"no-auth-event")}}(l,y,F);yield function Jl(g,l){return Xl()._set(al(g),l)}(l,et);const xt=yield function Wd(g,l,d){return Wu.apply(this,arguments)}(l,et,d),Dt=yield function hf(g){const{cordova:l}=hi();return new Promise(d=>{l.plugins.browsertab.isAvailable(y=>{let F=null;y?l.plugins.browsertab.openUrl(g):F=l.InAppBrowser.open(g,function bt(g=(0,$.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(g)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(g)}()?"_blank":"_system","location=yes"),d(F)})})}(xt);return function Ic(g,l,d){return rl.apply(this,arguments)}(l,Ie,Dt)})()}_isIframeWebStorageSupported(l,d){throw new Error("Method not implemented.")}_originValidation(l){const d=l._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function zd(g){return Ql.apply(this,arguments)}(l)),this.originValidationPromises[d]}attachCallbackListeners(l,d){const{universalLinks:y,handleOpenURL:F,BuildInfo:G}=hi(),Ie=setTimeout((0,f.Z)(function*(){yield Gi(l),d.onEvent(ll())}),500),et=function(){var nn=(0,f.Z)(function*(Yt){clearTimeout(Ie);const hr=yield Gi(l);let Wi=null;hr&&(null==Yt?void 0:Yt.url)&&(Wi=function ol(g,l){var d,y;const F=function ed(g){const l=cl(g),d=l.link?decodeURIComponent(l.link):void 0,y=cl(d).link,F=l.deep_link_id?decodeURIComponent(l.deep_link_id):void 0;return cl(F).link||F||y||d||g}(l);if(F.includes("/__/auth/callback")){const G=cl(F),Ie=G.firebaseError?function ul(g){try{return JSON.parse(g)}catch(l){return null}}(decodeURIComponent(G.firebaseError)):null,et=null===(y=null===(d=null==Ie?void 0:Ie.code)||void 0===d?void 0:d.split("auth/"))||void 0===y?void 0:y[1],xt=et?Sn(et):null;return xt?{type:g.type,eventId:g.eventId,tenantId:g.tenantId,error:xt,urlResponse:null,sessionId:null,postBody:null}:{type:g.type,eventId:g.eventId,tenantId:g.tenantId,sessionId:g.sessionId,urlResponse:F,postBody:null}}return null}(hr,Yt.url)),d.onEvent(Wi||ll())});return function(hr){return nn.apply(this,arguments)}}();void 0!==y&&"function"==typeof y.subscribe&&y.subscribe(null,et);const xt=F,Dt=`${G.packageName.toLowerCase()}://`;hi().handleOpenURL=function(){var nn=(0,f.Z)(function*(Yt){if(Yt.toLowerCase().startsWith(Dt)&&et({url:Yt}),"function"==typeof xt)try{xt(Yt)}catch(hr){console.error(hr)}});return function(Yt){return nn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Ct,this._completeRedirectFn=qc}_initialize(l){var d=this;return(0,f.Z)(function*(){return yield d.selectUnderlyingResolver(),d.assertedUnderlyingResolver._initialize(l)})()}_openPopup(l,d,y,F){var G=this;return(0,f.Z)(function*(){return yield G.selectUnderlyingResolver(),G.assertedUnderlyingResolver._openPopup(l,d,y,F)})()}_openRedirect(l,d,y,F){var G=this;return(0,f.Z)(function*(){return yield G.selectUnderlyingResolver(),G.assertedUnderlyingResolver._openRedirect(l,d,y,F)})()}_isIframeWebStorageSupported(l,d){this.assertedUnderlyingResolver._isIframeWebStorageSupported(l,d)}_originValidation(l){return this.assertedUnderlyingResolver._originValidation(l)}get _shouldInitProactively(){return ba()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Zs(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var l=this;return(0,f.Z)(function*(){if(l.underlyingResolver)return;const d=yield function _f(){return Ks.apply(this,arguments)}();l.underlyingResolver=d?l.cordovaResolver:l.browserResolver})()}}function Ia(g){return g.unwrap()}function qu(g){return Zu(g)}function Zu(g){const{_tokenResponse:l}=g instanceof $.ZR?g.customData:g;if(!l)return null;if(!(g instanceof $.ZR)&&"temporaryProof"in l&&"phoneNumber"in l)return rt.credentialFromResult(g);const d=l.providerId;if(!d||"password"===d)return null;let y;switch(d){case"google.com":y=pt;break;case"facebook.com":y=tt;break;case"github.com":y=Vt;break;case"twitter.com":y=Wr;break;default:const{oauthIdToken:F,oauthAccessToken:G,oauthTokenSecret:Ie,pendingToken:et,nonce:xt}=l;return G||Ie||F||et?et?d.startsWith("saml.")?Bn._create(d,et):ci._fromParams({providerId:d,signInMethod:d,pendingToken:et,idToken:F,accessToken:G}):new me(d).credential({idToken:F,accessToken:G,rawNonce:xt}):null}return g instanceof $.ZR?y.credentialFromError(g):y.credentialFromResult(g)}function Ys(g,l){return l.catch(d=>{throw d instanceof $.ZR&&function Cu(g,l){var d;const y=null===(d=l.customData)||void 0===d?void 0:d._tokenResponse;if("auth/multi-factor-auth-required"===l.code)l.resolver=new Yu(g,function yi(g,l){var d;const y=(0,$.m9)(g),F=l;return ot(l.customData.operationType,y,"argument-error"),ot(null===(d=F.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,y,"argument-error"),ua._fromError(y,F)}(g,l));else if(y){const F=Zu(l),G=l;F&&(G.credential=F,G.tenantId=y.tenantId||void 0,G.email=y.email||void 0,G.phoneNumber=y.phoneNumber||void 0)}}(g,d),d}).then(d=>{const F=d.user;return{operationType:d.operationType,credential:qu(d),additionalUserInfo:D(d),user:rs.getOrCreate(F)}})}function Dc(g,l){return _t.apply(this,arguments)}function _t(){return(_t=(0,f.Z)(function*(g,l){const d=yield l;return{verificationId:d.verificationId,confirm:y=>Ys(g,d.confirm(y))}})).apply(this,arguments)}class Yu{constructor(l,d){this.resolver=d,this.auth=function Xo(g){return g.wrapped()}(l)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(l){return Ys(Ia(this.auth),this.resolver.resolveSignIn(l))}}class rs{constructor(l){this._delegate=l,this.multiFactor=function I(g){const l=(0,$.m9)(g);return St.has(l)||St.set(l,Ra._fromUser(l)),St.get(l)}(l)}static getOrCreate(l){return rs.USER_MAP.has(l)||rs.USER_MAP.set(l,new rs(l)),rs.USER_MAP.get(l)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(l){return this._delegate.getIdTokenResult(l)}getIdToken(l){return this._delegate.getIdToken(l)}linkAndRetrieveDataWithCredential(l){return this.linkWithCredential(l)}linkWithCredential(l){var d=this;return(0,f.Z)(function*(){return Ys(d.auth,Do(d._delegate,l))})()}linkWithPhoneNumber(l,d){var y=this;return(0,f.Z)(function*(){return Dc(y.auth,function vi(g,l,d){return Va.apply(this,arguments)}(y._delegate,l,d))})()}linkWithPopup(l){var d=this;return(0,f.Z)(function*(){return Ys(d.auth,function eo(g,l,d){return tu.apply(this,arguments)}(d._delegate,l,Xr))})()}linkWithRedirect(l){var d=this;return(0,f.Z)(function*(){return yield Fo(Ir(d.auth)),function Bd(g,l,d){return function Ec(g,l,d){return Bu.apply(this,arguments)}(g,l,d)}(d._delegate,l,Xr)})()}reauthenticateAndRetrieveDataWithCredential(l){return this.reauthenticateWithCredential(l)}reauthenticateWithCredential(l){var d=this;return(0,f.Z)(function*(){return Ys(d.auth,Ji(d._delegate,l))})()}reauthenticateWithPhoneNumber(l,d){return Dc(this.auth,function yc(g,l,d){return M.apply(this,arguments)}(this._delegate,l,d))}reauthenticateWithPopup(l){return Ys(this.auth,function No(g,l,d){return Xs.apply(this,arguments)}(this._delegate,l,Xr))}reauthenticateWithRedirect(l){var d=this;return(0,f.Z)(function*(){return yield Fo(Ir(d.auth)),function Kc(g,l,d){return function Ud(g,l,d){return jl.apply(this,arguments)}(g,l,d)}(d._delegate,l,Xr)})()}sendEmailVerification(l){return function oa(g,l){return es.apply(this,arguments)}(this._delegate,l)}unlink(l){var d=this;return(0,f.Z)(function*(){return yield function U(g,l){return je.apply(this,arguments)}(d._delegate,l),d})()}updateEmail(l){return function ao(g,l){return ys((0,$.m9)(g),l,null)}(this._delegate,l)}updatePassword(l){return function ms(g,l){return ys((0,$.m9)(g),null,l)}(this._delegate,l)}updatePhoneNumber(l){return function de(g,l){return Fe.apply(this,arguments)}(this._delegate,l)}updateProfile(l){return function Vi(g,l){return Tr.apply(this,arguments)}(this._delegate,l)}verifyBeforeUpdateEmail(l,d){return function Wo(g,l,d){return So.apply(this,arguments)}(this._delegate,l,d)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}rs.USER_MAP=new WeakMap;const pl=ot;let ea=(()=>{class g{constructor(d,y){if(this.app=d,y.isInitialized())return this._delegate=y.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:F}=d.options;pl(F,"invalid-api-key",{appName:d.name}),pl(F,"invalid-api-key",{appName:d.name});const G="undefined"!=typeof window?Xr:void 0;this._delegate=y.initialize({options:{persistence:Xd(F,d.name),popupRedirectResolver:G}}),this._delegate._updateErrorMap(sn),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?rs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(d){this._delegate.languageCode=d}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(d){this._delegate.tenantId=d}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(d,y){!function ue(g,l,d){const y=Ir(g);ot(y._canInitEmulator,y,"emulator-config-failed"),ot(/^https?:\/\//.test(l),y,"invalid-emulator-scheme");const F=!!(null==d?void 0:d.disableWarnings),G=te(l),{host:Ie,port:et}=function Le(g){const l=te(g),d=/(\/\/)?([^?#/]+)/.exec(g.substr(l.length));if(!d)return{host:"",port:null};const y=d[2].split("@").pop()||"",F=/^(\[[^\]]+\])(:|$)/.exec(y);if(F){const G=F[1];return{host:G,port:ut(y.substr(G.length+1))}}{const[G,Ie]=y.split(":");return{host:G,port:ut(Ie)}}}(l);y.config.emulator={url:`${G}//${Ie}${null===et?"":`:${et}`}/`},y.settings.appVerificationDisabledForTesting=!0,y.emulatorConfig=Object.freeze({host:Ie,port:et,protocol:G.replace(":",""),options:Object.freeze({disableWarnings:F})}),F||function Gt(){function g(){const l=document.createElement("p"),d=l.style;l.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",l.classList.add("firebase-emulator-warning"),document.body.appendChild(l)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",g):g())}()}(this._delegate,d,y)}applyActionCode(d){return function $o(g,l){return As.apply(this,arguments)}(this._delegate,d)}checkActionCode(d){return Ho(this._delegate,d)}confirmPasswordReset(d,y){return function Us(g,l,d){return Oa.apply(this,arguments)}(this._delegate,d,y)}createUserWithEmailAndPassword(d,y){var F=this;return(0,f.Z)(function*(){return Ys(F._delegate,function gs(g,l,d){return ia.apply(this,arguments)}(F._delegate,d,y))})()}fetchProvidersForEmail(d){return this.fetchSignInMethodsForEmail(d)}fetchSignInMethodsForEmail(d){return function Ao(g,l){return Ja.apply(this,arguments)}(this._delegate,d)}isSignInWithEmailLink(d){return function Kr(g,l){const d=wn.parseLink(l);return"EMAIL_SIGNIN"===(null==d?void 0:d.operation)}(0,d)}getRedirectResult(){var d=this;return(0,f.Z)(function*(){pl(fl(),d._delegate,"operation-not-supported-in-this-environment");const y=yield function Ua(g,l){return $l.apply(this,arguments)}(d._delegate,Xr);return y?Ys(d._delegate,Promise.resolve(y)):{credential:null,user:null}})()}addFrameworkForLogging(d){!function Yd(g,l){Ir(g)._logFramework(l)}(this._delegate,d)}onAuthStateChanged(d,y,F){const{next:G,error:Ie,complete:et}=Da(d,y,F);return this._delegate.onAuthStateChanged(G,Ie,et)}onIdTokenChanged(d,y,F){const{next:G,error:Ie,complete:et}=Da(d,y,F);return this._delegate.onIdTokenChanged(G,Ie,et)}sendSignInLinkToEmail(d,y){return function li(g,l,d){return Ai.apply(this,arguments)}(this._delegate,d,y)}sendPasswordResetEmail(d,y){return function Co(g,l,d){return jo.apply(this,arguments)}(this._delegate,d,y||void 0)}setPersistence(d){var y=this;return(0,f.Z)(function*(){let F;switch(function Ku(g,l){Jr(Object.values(ns).includes(l),g,"invalid-persistence-type"),(0,$.b$)()?Jr(l!==ns.SESSION,g,"unsupported-persistence-type"):(0,$.UG)()?Jr(l===ns.NONE,g,"unsupported-persistence-type"):nd()?Jr(l===ns.NONE||l===ns.LOCAL&&(0,$.hl)(),g,"unsupported-persistence-type"):Jr(l===ns.NONE||wo(),g,"unsupported-persistence-type")}(y._delegate,d),d){case ns.SESSION:F=Ct;break;case ns.LOCAL:F=(yield Kt(Ro)._isAvailable())?Ro:Y;break;case ns.NONE:F=xr;break;default:return fn("argument-error",{appName:y._delegate.name})}return y._delegate.setPersistence(F)})()}signInAndRetrieveDataWithCredential(d){return this.signInWithCredential(d)}signInAnonymously(){return Ys(this._delegate,function Ti(g){return cs.apply(this,arguments)}(this._delegate))}signInWithCredential(d){return Ys(this._delegate,bo(this._delegate,d))}signInWithCustomToken(d){return Ys(this._delegate,function Uo(g,l){return Ts.apply(this,arguments)}(this._delegate,d))}signInWithEmailAndPassword(d,y){return Ys(this._delegate,function _u(g,l,d){return bo((0,$.m9)(g),z.credential(l,d))}(this._delegate,d,y))}signInWithEmailLink(d,y){return Ys(this._delegate,function Go(g,l,d){return oo.apply(this,arguments)}(this._delegate,d,y))}signInWithPhoneNumber(d,y){return Dc(this._delegate,function hs(g,l,d){return ga.apply(this,arguments)}(this._delegate,d,y))}signInWithPopup(d){var y=this;return(0,f.Z)(function*(){return pl(fl(),y._delegate,"operation-not-supported-in-this-environment"),Ys(y._delegate,function ma(g,l,d){return ya.apply(this,arguments)}(y._delegate,d,Xr))})()}signInWithRedirect(d){var y=this;return(0,f.Z)(function*(){return pl(fl(),y._delegate,"operation-not-supported-in-this-environment"),yield Fo(y._delegate),function zc(g,l,d){return function Bl(g,l,d){return wc.apply(this,arguments)}(g,l,d)}(y._delegate,d,Xr)})()}updateCurrentUser(d){return this._delegate.updateCurrentUser(d)}verifyPasswordResetCode(d){return function To(g,l){return yo.apply(this,arguments)}(this._delegate,d)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return g.Persistence=ns,g})();function Da(g,l,d){let y=g;"function"!=typeof g&&({next:y,error:l,complete:d}=g);const F=y;return{next:Ie=>F(Ie&&rs.getOrCreate(Ie)),error:l,complete:d}}function Xd(g,l){const d=function ja(g,l){const d=qs();if(!(null==d?void 0:d.sessionStorage))return[];const y=hn(Rs,g,l);switch(d.sessionStorage.getItem(y)){case ns.NONE:return[xr];case ns.LOCAL:return[Ro,Ct];case ns.SESSION:return[Ct];default:return[]}}(g,l);if("undefined"!=typeof self&&!d.includes(Ro)&&d.push(Ro),"undefined"!=typeof window)for(const y of[Y,Ct])d.includes(y)||d.push(y);return d.includes(xr)||d.push(xr),d}class $a{constructor(){this.providerId="phone",this._delegate=new rt(Ia(R.Z.auth()))}static credential(l,d){return rt.credential(l,d)}verifyPhoneNumber(l,d){return this._delegate.verifyPhoneNumber(l,d)}unwrap(){return this._delegate}}$a.PHONE_SIGN_IN_METHOD=rt.PHONE_SIGN_IN_METHOD,$a.PROVIDER_ID=rt.PROVIDER_ID;const gl=ot;class rd{constructor(l,d,y=R.Z.app()){var F;gl(null===(F=y.options)||void 0===F?void 0:F.apiKey,"invalid-api-key",{appName:y.name}),this._delegate=new Wc(l,d,y.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function co(g){g.INTERNAL.registerComponent(new Be.wA("auth-compat",l=>{const d=l.getProvider("app-compat").getImmediate(),y=l.getProvider("auth");return new ea(d,y)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:z,FacebookAuthProvider:tt,GithubAuthProvider:Vt,GoogleAuthProvider:pt,OAuthProvider:me,SAMLAuthProvider:pn,PhoneAuthProvider:$a,PhoneMultiFactorGenerator:cf,RecaptchaVerifier:rd,TwitterAuthProvider:Wr,Auth:ea,AuthCredential:Vn,Error:$.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),g.registerVersion("@firebase/auth-compat","0.2.6")}(R.Z)},2940:function(Me,ie){!function(S){"use strict";function f(Ae){return Array.prototype.slice.call(Ae)}function R(Ae){return new Promise(function(xe,ne){Ae.onsuccess=function(){xe(Ae.result)},Ae.onerror=function(){ne(Ae.error)}})}function $(Ae,xe,ne){var Re,Ue=new Promise(function(at,Ke){R(Re=Ae[xe].apply(Ae,ne)).then(at,Ke)});return Ue.request=Re,Ue}function le(Ae,xe,ne){var Re=$(Ae,xe,ne);return Re.then(function(Ue){if(Ue)return new J(Ue,Re.request)})}function re(Ae,xe,ne){ne.forEach(function(Re){Object.defineProperty(Ae.prototype,Re,{get:function(){return this[xe][Re]},set:function(Ue){this[xe][Re]=Ue}})})}function ye(Ae,xe,ne,Re){Re.forEach(function(Ue){Ue in ne.prototype&&(Ae.prototype[Ue]=function(){return $(this[xe],Ue,arguments)})})}function _e(Ae,xe,ne,Re){Re.forEach(function(Ue){Ue in ne.prototype&&(Ae.prototype[Ue]=function(){return this[xe][Ue].apply(this[xe],arguments)})})}function ge(Ae,xe,ne,Re){Re.forEach(function(Ue){Ue in ne.prototype&&(Ae.prototype[Ue]=function(){return le(this[xe],Ue,arguments)})})}function oe(Ae){this._index=Ae}function J(Ae,xe){this._cursor=Ae,this._request=xe}function ee(Ae){this._store=Ae}function ae(Ae){this._tx=Ae,this.complete=new Promise(function(xe,ne){Ae.oncomplete=function(){xe()},Ae.onerror=function(){ne(Ae.error)},Ae.onabort=function(){ne(Ae.error)}})}function $e(Ae,xe,ne){this._db=Ae,this.oldVersion=xe,this.transaction=new ae(ne)}function He(Ae){this._db=Ae}re(oe,"_index",["name","keyPath","multiEntry","unique"]),ye(oe,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ge(oe,"_index",IDBIndex,["openCursor","openKeyCursor"]),re(J,"_cursor",["direction","key","primaryKey","value"]),ye(J,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(Ae){Ae in IDBCursor.prototype&&(J.prototype[Ae]=function(){var xe=this,ne=arguments;return Promise.resolve().then(function(){return xe._cursor[Ae].apply(xe._cursor,ne),R(xe._request).then(function(Re){if(Re)return new J(Re,xe._request)})})})}),ee.prototype.createIndex=function(){return new oe(this._store.createIndex.apply(this._store,arguments))},ee.prototype.index=function(){return new oe(this._store.index.apply(this._store,arguments))},re(ee,"_store",["name","keyPath","indexNames","autoIncrement"]),ye(ee,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ge(ee,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),_e(ee,"_store",IDBObjectStore,["deleteIndex"]),ae.prototype.objectStore=function(){return new ee(this._tx.objectStore.apply(this._tx,arguments))},re(ae,"_tx",["objectStoreNames","mode"]),_e(ae,"_tx",IDBTransaction,["abort"]),$e.prototype.createObjectStore=function(){return new ee(this._db.createObjectStore.apply(this._db,arguments))},re($e,"_db",["name","version","objectStoreNames"]),_e($e,"_db",IDBDatabase,["deleteObjectStore","close"]),He.prototype.transaction=function(){return new ae(this._db.transaction.apply(this._db,arguments))},re(He,"_db",["name","version","objectStoreNames"]),_e(He,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(Ae){[ee,oe].forEach(function(xe){Ae in xe.prototype&&(xe.prototype[Ae.replace("open","iterate")]=function(){var ne=f(arguments),Re=ne[ne.length-1],Ue=this._store||this._index,at=Ue[Ae].apply(Ue,ne.slice(0,-1));at.onsuccess=function(){Re(at.result)}})})}),[oe,ee].forEach(function(Ae){Ae.prototype.getAll||(Ae.prototype.getAll=function(xe,ne){var Re=this,Ue=[];return new Promise(function(at){Re.iterateCursor(xe,function(Ke){Ke?(Ue.push(Ke.value),void 0===ne||Ue.length!=ne?Ke.continue():at(Ue)):at(Ue)})})})}),S.openDb=function ze(Ae,xe,ne){var Re=$(indexedDB,"open",[Ae,xe]),Ue=Re.request;return Ue&&(Ue.onupgradeneeded=function(at){ne&&ne(new $e(Ue.result,at.oldVersion,Ue.transaction))}),Re.then(function(at){return new He(at)})},S.deleteDb=function st(Ae){return $(indexedDB,"deleteDatabase",[Ae])},Object.defineProperty(S,"__esModule",{value:!0})}(ie)},1135:(Me,ie,S)=>{"use strict";S.d(ie,{X:()=>R});var f=S(7579);class R extends f.x{constructor(le){super(),this._value=le}get value(){return this.getValue()}_subscribe(le){const re=super._subscribe(le);return!re.closed&&le.next(this._value),re}getValue(){const{hasError:le,thrownError:re,_value:ye}=this;if(le)throw re;return this._throwIfClosed(),ye}next(le){super.next(this._value=le)}}},8306:(Me,ie,S)=>{"use strict";S.d(ie,{y:()=>J});var f=S(930),R=S(727),$=S(8822),le=S(4671);var _e=S(2416),ge=S(576),oe=S(2806);let J=(()=>{class He{constructor(st){st&&(this._subscribe=st)}lift(st){const Ae=new He;return Ae.source=this,Ae.operator=st,Ae}subscribe(st,Ae,xe){const ne=function $e(He){return He&&He instanceof f.Lv||function ae(He){return He&&(0,ge.m)(He.next)&&(0,ge.m)(He.error)&&(0,ge.m)(He.complete)}(He)&&(0,R.Nn)(He)}(st)?st:new f.Hp(st,Ae,xe);return(0,oe.x)(()=>{const{operator:Re,source:Ue}=this;ne.add(Re?Re.call(ne,Ue):Ue?this._subscribe(ne):this._trySubscribe(ne))}),ne}_trySubscribe(st){try{return this._subscribe(st)}catch(Ae){st.error(Ae)}}forEach(st,Ae){return new(Ae=ee(Ae))((xe,ne)=>{let Re;Re=this.subscribe(Ue=>{try{st(Ue)}catch(at){ne(at),null==Re||Re.unsubscribe()}},ne,xe)})}_subscribe(st){var Ae;return null===(Ae=this.source)||void 0===Ae?void 0:Ae.subscribe(st)}[$.L](){return this}pipe(...st){return function ye(He){return 0===He.length?le.y:1===He.length?He[0]:function(st){return He.reduce((Ae,xe)=>xe(Ae),st)}}(st)(this)}toPromise(st){return new(st=ee(st))((Ae,xe)=>{let ne;this.subscribe(Re=>ne=Re,Re=>xe(Re),()=>Ae(ne))})}}return He.create=ze=>new He(ze),He})();function ee(He){var ze;return null!==(ze=null!=He?He:_e.v.Promise)&&void 0!==ze?ze:Promise}},4707:(Me,ie,S)=>{"use strict";S.d(ie,{t:()=>$});var f=S(7579),R=S(6063);class $ extends f.x{constructor(re=1/0,ye=1/0,_e=R.l){super(),this._bufferSize=re,this._windowTime=ye,this._timestampProvider=_e,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ye===1/0,this._bufferSize=Math.max(1,re),this._windowTime=Math.max(1,ye)}next(re){const{isStopped:ye,_buffer:_e,_infiniteTimeWindow:ge,_timestampProvider:oe,_windowTime:J}=this;ye||(_e.push(re),!ge&&_e.push(oe.now()+J)),this._trimBuffer(),super.next(re)}_subscribe(re){this._throwIfClosed(),this._trimBuffer();const ye=this._innerSubscribe(re),{_infiniteTimeWindow:_e,_buffer:ge}=this,oe=ge.slice();for(let J=0;J<oe.length&&!re.closed;J+=_e?1:2)re.next(oe[J]);return this._checkFinalizedStatuses(re),ye}_trimBuffer(){const{_bufferSize:re,_timestampProvider:ye,_buffer:_e,_infiniteTimeWindow:ge}=this,oe=(ge?1:2)*re;if(re<1/0&&oe<_e.length&&_e.splice(0,_e.length-oe),!ge){const J=ye.now();let ee=0;for(let ae=1;ae<_e.length&&_e[ae]<=J;ae+=2)ee=ae;ee&&_e.splice(0,ee+1)}}}},7579:(Me,ie,S)=>{"use strict";S.d(ie,{x:()=>_e});var f=S(8306),R=S(727);const le=(0,S(3888).d)(oe=>function(){oe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=S(8737),ye=S(2806);let _e=(()=>{class oe extends f.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ee){const ae=new ge(this,this);return ae.operator=ee,ae}_throwIfClosed(){if(this.closed)throw new le}next(ee){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const ae=this.observers.slice();for(const $e of ae)$e.next(ee)}})}error(ee){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ee;const{observers:ae}=this;for(;ae.length;)ae.shift().error(ee)}})}complete(){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ee}=this;for(;ee.length;)ee.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var ee;return(null===(ee=this.observers)||void 0===ee?void 0:ee.length)>0}_trySubscribe(ee){return this._throwIfClosed(),super._trySubscribe(ee)}_subscribe(ee){return this._throwIfClosed(),this._checkFinalizedStatuses(ee),this._innerSubscribe(ee)}_innerSubscribe(ee){const{hasError:ae,isStopped:$e,observers:He}=this;return ae||$e?R.Lc:(He.push(ee),new R.w0(()=>(0,re.P)(He,ee)))}_checkFinalizedStatuses(ee){const{hasError:ae,thrownError:$e,isStopped:He}=this;ae?ee.error($e):He&&ee.complete()}asObservable(){const ee=new f.y;return ee.source=this,ee}}return oe.create=(J,ee)=>new ge(J,ee),oe})();class ge extends _e{constructor(J,ee){super(),this.destination=J,this.source=ee}next(J){var ee,ae;null===(ae=null===(ee=this.destination)||void 0===ee?void 0:ee.next)||void 0===ae||ae.call(ee,J)}error(J){var ee,ae;null===(ae=null===(ee=this.destination)||void 0===ee?void 0:ee.error)||void 0===ae||ae.call(ee,J)}complete(){var J,ee;null===(ee=null===(J=this.destination)||void 0===J?void 0:J.complete)||void 0===ee||ee.call(J)}_subscribe(J){var ee,ae;return null!==(ae=null===(ee=this.source)||void 0===ee?void 0:ee.subscribe(J))&&void 0!==ae?ae:R.Lc}}},930:(Me,ie,S)=>{"use strict";S.d(ie,{Hp:()=>$e,Lv:()=>ae});var f=S(576),R=S(727),$=S(2416),le=S(7849),re=S(5032);const ye=oe("C",void 0,void 0);function oe(xe,ne,Re){return{kind:xe,value:ne,error:Re}}var J=S(3410),ee=S(2806);class ae extends R.w0{constructor(ne){super(),this.isStopped=!1,ne?(this.destination=ne,(0,R.Nn)(ne)&&ne.add(this)):this.destination=Ae}static create(ne,Re,Ue){return new $e(ne,Re,Ue)}next(ne){this.isStopped?st(function ge(xe){return oe("N",xe,void 0)}(ne),this):this._next(ne)}error(ne){this.isStopped?st(function _e(xe){return oe("E",void 0,xe)}(ne),this):(this.isStopped=!0,this._error(ne))}complete(){this.isStopped?st(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ne){this.destination.next(ne)}_error(ne){try{this.destination.error(ne)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class $e extends ae{constructor(ne,Re,Ue){let at;if(super(),(0,f.m)(ne))at=ne;else if(ne){let Ke;({next:at,error:Re,complete:Ue}=ne),this&&$.v.useDeprecatedNextContext?(Ke=Object.create(ne),Ke.unsubscribe=()=>this.unsubscribe()):Ke=ne,at=null==at?void 0:at.bind(Ke),Re=null==Re?void 0:Re.bind(Ke),Ue=null==Ue?void 0:Ue.bind(Ke)}this.destination={next:at?He(at):re.Z,error:He(null!=Re?Re:ze),complete:Ue?He(Ue):re.Z}}}function He(xe,ne){return(...Re)=>{try{xe(...Re)}catch(Ue){$.v.useDeprecatedSynchronousErrorHandling?(0,ee.O)(Ue):(0,le.h)(Ue)}}}function ze(xe){throw xe}function st(xe,ne){const{onStoppedNotification:Re}=$.v;Re&&J.z.setTimeout(()=>Re(xe,ne))}const Ae={closed:!0,next:re.Z,error:ze,complete:re.Z}},727:(Me,ie,S)=>{"use strict";S.d(ie,{Lc:()=>ye,w0:()=>re,Nn:()=>_e});var f=S(576);const $=(0,S(3888).d)(oe=>function(ee){oe(this),this.message=ee?`${ee.length} errors occurred during unsubscription:\n${ee.map((ae,$e)=>`${$e+1}) ${ae.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ee});var le=S(8737);class re{constructor(J){this.initialTeardown=J,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let J;if(!this.closed){this.closed=!0;const{_parentage:ee}=this;if(ee)if(this._parentage=null,Array.isArray(ee))for(const He of ee)He.remove(this);else ee.remove(this);const{initialTeardown:ae}=this;if((0,f.m)(ae))try{ae()}catch(He){J=He instanceof $?He.errors:[He]}const{_teardowns:$e}=this;if($e){this._teardowns=null;for(const He of $e)try{ge(He)}catch(ze){J=null!=J?J:[],ze instanceof $?J=[...J,...ze.errors]:J.push(ze)}}if(J)throw new $(J)}}add(J){var ee;if(J&&J!==this)if(this.closed)ge(J);else{if(J instanceof re){if(J.closed||J._hasParent(this))return;J._addParent(this)}(this._teardowns=null!==(ee=this._teardowns)&&void 0!==ee?ee:[]).push(J)}}_hasParent(J){const{_parentage:ee}=this;return ee===J||Array.isArray(ee)&&ee.includes(J)}_addParent(J){const{_parentage:ee}=this;this._parentage=Array.isArray(ee)?(ee.push(J),ee):ee?[ee,J]:J}_removeParent(J){const{_parentage:ee}=this;ee===J?this._parentage=null:Array.isArray(ee)&&(0,le.P)(ee,J)}remove(J){const{_teardowns:ee}=this;ee&&(0,le.P)(ee,J),J instanceof re&&J._removeParent(this)}}re.EMPTY=(()=>{const oe=new re;return oe.closed=!0,oe})();const ye=re.EMPTY;function _e(oe){return oe instanceof re||oe&&"closed"in oe&&(0,f.m)(oe.remove)&&(0,f.m)(oe.add)&&(0,f.m)(oe.unsubscribe)}function ge(oe){(0,f.m)(oe)?oe():oe.unsubscribe()}},2416:(Me,ie,S)=>{"use strict";S.d(ie,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Me,ie,S)=>{"use strict";S.d(ie,{z:()=>re});var f=S(8189),$=S(7669),le=S(8996);function re(...ye){return function R(){return(0,f.J)(1)}()((0,le.D)(ye,(0,$.yG)(ye)))}},515:(Me,ie,S)=>{"use strict";S.d(ie,{E:()=>R});const R=new(S(8306).y)(re=>re.complete())},8996:(Me,ie,S)=>{"use strict";S.d(ie,{D:()=>at});var f=S(8421),R=S(5363),$=S(9468),ye=S(8306),ge=S(2202),oe=S(576),J=S(9672);function ae(Ke,Et){if(!Ke)throw new Error("Iterable cannot be null");return new ye.y(we=>{(0,J.f)(we,Et,()=>{const nt=Ke[Symbol.asyncIterator]();(0,J.f)(we,Et,()=>{nt.next().then(Oe=>{Oe.done?we.complete():we.next(Oe.value)})},0,!0)})})}var $e=S(3670),He=S(8239),ze=S(1144),st=S(6495),Ae=S(2206),xe=S(4532),ne=S(3260);function at(Ke,Et){return Et?function Ue(Ke,Et){if(null!=Ke){if((0,$e.c)(Ke))return function le(Ke,Et){return(0,f.Xf)(Ke).pipe((0,$.R)(Et),(0,R.Q)(Et))}(Ke,Et);if((0,ze.z)(Ke))return function _e(Ke,Et){return new ye.y(we=>{let nt=0;return Et.schedule(function(){nt===Ke.length?we.complete():(we.next(Ke[nt++]),we.closed||this.schedule())})})}(Ke,Et);if((0,He.t)(Ke))return function re(Ke,Et){return(0,f.Xf)(Ke).pipe((0,$.R)(Et),(0,R.Q)(Et))}(Ke,Et);if((0,Ae.D)(Ke))return ae(Ke,Et);if((0,st.T)(Ke))return function ee(Ke,Et){return new ye.y(we=>{let nt;return(0,J.f)(we,Et,()=>{nt=Ke[ge.h](),(0,J.f)(we,Et,()=>{let Oe,Ne;try{({value:Oe,done:Ne}=nt.next())}catch(We){return void we.error(We)}Ne?we.complete():we.next(Oe)},0,!0)}),()=>(0,oe.m)(null==nt?void 0:nt.return)&&nt.return()})}(Ke,Et);if((0,ne.L)(Ke))return function Re(Ke,Et){return ae((0,ne.Q)(Ke),Et)}(Ke,Et)}throw(0,xe.z)(Ke)}(Ke,Et):(0,f.Xf)(Ke)}},8421:(Me,ie,S)=>{"use strict";S.d(ie,{Xf:()=>$e});var f=S(5987),R=S(1144),$=S(8239),le=S(8306),re=S(3670),ye=S(2206),_e=S(4532),ge=S(6495),oe=S(3260),J=S(576),ee=S(7849),ae=S(8822);function $e(Ue){if(Ue instanceof le.y)return Ue;if(null!=Ue){if((0,re.c)(Ue))return function He(Ue){return new le.y(at=>{const Ke=Ue[ae.L]();if((0,J.m)(Ke.subscribe))return Ke.subscribe(at);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ue);if((0,R.z)(Ue))return function ze(Ue){return new le.y(at=>{for(let Ke=0;Ke<Ue.length&&!at.closed;Ke++)at.next(Ue[Ke]);at.complete()})}(Ue);if((0,$.t)(Ue))return function st(Ue){return new le.y(at=>{Ue.then(Ke=>{at.closed||(at.next(Ke),at.complete())},Ke=>at.error(Ke)).then(null,ee.h)})}(Ue);if((0,ye.D)(Ue))return xe(Ue);if((0,ge.T)(Ue))return function Ae(Ue){return new le.y(at=>{for(const Ke of Ue)if(at.next(Ke),at.closed)return;at.complete()})}(Ue);if((0,oe.L)(Ue))return function ne(Ue){return xe((0,oe.Q)(Ue))}(Ue)}throw(0,_e.z)(Ue)}function xe(Ue){return new le.y(at=>{(function Re(Ue,at){var Ke,Et,we,nt;return(0,f.mG)(this,void 0,void 0,function*(){try{for(Ke=(0,f.KL)(Ue);!(Et=yield Ke.next()).done;)if(at.next(Et.value),at.closed)return}catch(Oe){we={error:Oe}}finally{try{Et&&!Et.done&&(nt=Ke.return)&&(yield nt.call(Ke))}finally{if(we)throw we.error}}at.complete()})})(Ue,at).catch(Ke=>at.error(Ke))})}},6451:(Me,ie,S)=>{"use strict";S.d(ie,{T:()=>ye});var f=S(8189),R=S(8421),$=S(515),le=S(7669),re=S(8996);function ye(..._e){const ge=(0,le.yG)(_e),oe=(0,le._6)(_e,1/0),J=_e;return J.length?1===J.length?(0,R.Xf)(J[0]):(0,f.J)(oe)((0,re.D)(J,ge)):$.E}},9646:(Me,ie,S)=>{"use strict";S.d(ie,{of:()=>$});var f=S(7669),R=S(8996);function $(...le){const re=(0,f.yG)(le);return(0,R.D)(le,re)}},5403:(Me,ie,S)=>{"use strict";S.d(ie,{Q:()=>R});var f=S(930);class R extends f.Lv{constructor(le,re,ye,_e,ge){super(le),this.onFinalize=ge,this._next=re?function(oe){try{re(oe)}catch(J){le.error(J)}}:super._next,this._error=_e?function(oe){try{_e(oe)}catch(J){le.error(J)}finally{this.unsubscribe()}}:super._error,this._complete=ye?function(){try{ye()}catch(oe){le.error(oe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var le;const{closed:re}=this;super.unsubscribe(),!re&&(null===(le=this.onFinalize)||void 0===le||le.call(this))}}},262:(Me,ie,S)=>{"use strict";S.d(ie,{K:()=>le});var f=S(8421),R=S(5403),$=S(4482);function le(re){return(0,$.e)((ye,_e)=>{let J,ge=null,oe=!1;ge=ye.subscribe(new R.Q(_e,void 0,void 0,ee=>{J=(0,f.Xf)(re(ee,le(re)(ye))),ge?(ge.unsubscribe(),ge=null,J.subscribe(_e)):oe=!0})),oe&&(ge.unsubscribe(),ge=null,J.subscribe(_e))})}},4351:(Me,ie,S)=>{"use strict";S.d(ie,{b:()=>$});var f=S(5577),R=S(576);function $(le,re){return(0,R.m)(re)?(0,f.z)(le,re,1):(0,f.z)(le,1)}},8372:(Me,ie,S)=>{"use strict";S.d(ie,{b:()=>le});var f=S(4986),R=S(4482),$=S(5403);function le(re,ye=f.z){return(0,R.e)((_e,ge)=>{let oe=null,J=null,ee=null;const ae=()=>{if(oe){oe.unsubscribe(),oe=null;const He=J;J=null,ge.next(He)}};function $e(){const He=ee+re,ze=ye.now();if(ze<He)return oe=this.schedule(void 0,He-ze),void ge.add(oe);ae()}_e.subscribe(new $.Q(ge,He=>{J=He,ee=ye.now(),oe||(oe=ye.schedule($e,re),ge.add(oe))},()=>{ae(),ge.complete()},void 0,()=>{J=oe=null}))})}},6590:(Me,ie,S)=>{"use strict";S.d(ie,{d:()=>$});var f=S(4482),R=S(5403);function $(le){return(0,f.e)((re,ye)=>{let _e=!1;re.subscribe(new R.Q(ye,ge=>{_e=!0,ye.next(ge)},()=>{_e||ye.next(le),ye.complete()}))})}},1884:(Me,ie,S)=>{"use strict";S.d(ie,{x:()=>le});var f=S(4671),R=S(4482),$=S(5403);function le(ye,_e=f.y){return ye=null!=ye?ye:re,(0,R.e)((ge,oe)=>{let J,ee=!0;ge.subscribe(new $.Q(oe,ae=>{const $e=_e(ae);(ee||!ye(J,$e))&&(ee=!1,J=$e,oe.next(ae))}))})}function re(ye,_e){return ye===_e}},9300:(Me,ie,S)=>{"use strict";S.d(ie,{h:()=>$});var f=S(4482),R=S(5403);function $(le,re){return(0,f.e)((ye,_e)=>{let ge=0;ye.subscribe(new R.Q(_e,oe=>le.call(re,oe,ge++)&&_e.next(oe)))})}},590:(Me,ie,S)=>{"use strict";S.d(ie,{P:()=>_e});var f=S(6805),R=S(9300),$=S(5698),le=S(6590),re=S(8068),ye=S(4671);function _e(ge,oe){const J=arguments.length>=2;return ee=>ee.pipe(ge?(0,R.h)((ae,$e)=>ge(ae,$e,ee)):ye.y,(0,$.q)(1),J?(0,le.d)(oe):(0,re.T)(()=>new f.K))}},4004:(Me,ie,S)=>{"use strict";S.d(ie,{U:()=>$});var f=S(4482),R=S(5403);function $(le,re){return(0,f.e)((ye,_e)=>{let ge=0;ye.subscribe(new R.Q(_e,oe=>{_e.next(le.call(re,oe,ge++))}))})}},8189:(Me,ie,S)=>{"use strict";S.d(ie,{J:()=>$});var f=S(5577),R=S(4671);function $(le=1/0){return(0,f.z)(R.y,le)}},5577:(Me,ie,S)=>{"use strict";S.d(ie,{z:()=>ge});var f=S(4004),R=S(8421),$=S(4482),le=S(9672),re=S(5403),_e=S(576);function ge(oe,J,ee=1/0){return(0,_e.m)(J)?ge((ae,$e)=>(0,f.U)((He,ze)=>J(ae,He,$e,ze))((0,R.Xf)(oe(ae,$e))),ee):("number"==typeof J&&(ee=J),(0,$.e)((ae,$e)=>function ye(oe,J,ee,ae,$e,He,ze,st){const Ae=[];let xe=0,ne=0,Re=!1;const Ue=()=>{Re&&!Ae.length&&!xe&&J.complete()},at=Et=>xe<ae?Ke(Et):Ae.push(Et),Ke=Et=>{He&&J.next(Et),xe++;let we=!1;(0,R.Xf)(ee(Et,ne++)).subscribe(new re.Q(J,nt=>{null==$e||$e(nt),He?at(nt):J.next(nt)},()=>{we=!0},void 0,()=>{if(we)try{for(xe--;Ae.length&&xe<ae;){const nt=Ae.shift();ze?(0,le.f)(J,ze,()=>Ke(nt)):Ke(nt)}Ue()}catch(nt){J.error(nt)}}))};return oe.subscribe(new re.Q(J,at,()=>{Re=!0,Ue()})),()=>{null==st||st()}}(ae,$e,oe,ee)))}},5363:(Me,ie,S)=>{"use strict";S.d(ie,{Q:()=>le});var f=S(9672),R=S(4482),$=S(5403);function le(re,ye=0){return(0,R.e)((_e,ge)=>{_e.subscribe(new $.Q(ge,oe=>(0,f.f)(ge,re,()=>ge.next(oe),ye),()=>(0,f.f)(ge,re,()=>ge.complete(),ye),oe=>(0,f.f)(ge,re,()=>ge.error(oe),ye)))})}},5026:(Me,ie,S)=>{"use strict";S.d(ie,{R:()=>le});var f=S(4482),R=S(5403);function $(re,ye,_e,ge,oe){return(J,ee)=>{let ae=_e,$e=ye,He=0;J.subscribe(new R.Q(ee,ze=>{const st=He++;$e=ae?re($e,ze,st):(ae=!0,ze),ge&&ee.next($e)},oe&&(()=>{ae&&ee.next($e),ee.complete()})))}}function le(re,ye){return(0,f.e)($(re,ye,arguments.length>=2,!0))}},3099:(Me,ie,S)=>{"use strict";S.d(ie,{B:()=>ye});var f=S(8996),R=S(5698),$=S(7579),le=S(930),re=S(4482);function ye(ge={}){const{connector:oe=(()=>new $.x),resetOnError:J=!0,resetOnComplete:ee=!0,resetOnRefCountZero:ae=!0}=ge;return $e=>{let He=null,ze=null,st=null,Ae=0,xe=!1,ne=!1;const Re=()=>{null==ze||ze.unsubscribe(),ze=null},Ue=()=>{Re(),He=st=null,xe=ne=!1},at=()=>{const Ke=He;Ue(),null==Ke||Ke.unsubscribe()};return(0,re.e)((Ke,Et)=>{Ae++,!ne&&!xe&&Re();const we=st=null!=st?st:oe();Et.add(()=>{Ae--,0===Ae&&!ne&&!xe&&(ze=_e(at,ae))}),we.subscribe(Et),He||(He=new le.Hp({next:nt=>we.next(nt),error:nt=>{ne=!0,Re(),ze=_e(Ue,J,nt),we.error(nt)},complete:()=>{xe=!0,Re(),ze=_e(Ue,ee),we.complete()}}),(0,f.D)(Ke).subscribe(He))})($e)}}function _e(ge,oe,...J){return!0===oe?(ge(),null):!1===oe?null:oe(...J).pipe((0,R.q)(1)).subscribe(()=>ge())}},5684:(Me,ie,S)=>{"use strict";S.d(ie,{T:()=>R});var f=S(9300);function R($){return(0,f.h)((le,re)=>$<=re)}},8675:(Me,ie,S)=>{"use strict";S.d(ie,{O:()=>le});var f=S(7272),R=S(7669),$=S(4482);function le(...re){const ye=(0,R.yG)(re);return(0,$.e)((_e,ge)=>{(ye?(0,f.z)(re,_e,ye):(0,f.z)(re,_e)).subscribe(ge)})}},9468:(Me,ie,S)=>{"use strict";S.d(ie,{R:()=>R});var f=S(4482);function R($,le=0){return(0,f.e)((re,ye)=>{ye.add($.schedule(()=>re.subscribe(ye),le))})}},3900:(Me,ie,S)=>{"use strict";S.d(ie,{w:()=>le});var f=S(8421),R=S(4482),$=S(5403);function le(re,ye){return(0,R.e)((_e,ge)=>{let oe=null,J=0,ee=!1;const ae=()=>ee&&!oe&&ge.complete();_e.subscribe(new $.Q(ge,$e=>{null==oe||oe.unsubscribe();let He=0;const ze=J++;(0,f.Xf)(re($e,ze)).subscribe(oe=new $.Q(ge,st=>ge.next(ye?ye($e,st,ze,He++):st),()=>{oe=null,ae()}))},()=>{ee=!0,ae()}))})}},5698:(Me,ie,S)=>{"use strict";S.d(ie,{q:()=>le});var f=S(515),R=S(4482),$=S(5403);function le(re){return re<=0?()=>f.E:(0,R.e)((ye,_e)=>{let ge=0;ye.subscribe(new $.Q(_e,oe=>{++ge<=re&&(_e.next(oe),re<=ge&&_e.complete())}))})}},2722:(Me,ie,S)=>{"use strict";S.d(ie,{R:()=>re});var f=S(4482),R=S(5403),$=S(8421),le=S(5032);function re(ye){return(0,f.e)((_e,ge)=>{(0,$.Xf)(ye).subscribe(new R.Q(ge,()=>ge.complete(),le.Z)),!ge.closed&&_e.subscribe(ge)})}},8505:(Me,ie,S)=>{"use strict";S.d(ie,{b:()=>re});var f=S(576),R=S(4482),$=S(5403),le=S(4671);function re(ye,_e,ge){const oe=(0,f.m)(ye)||_e||ge?{next:ye,error:_e,complete:ge}:ye;return oe?(0,R.e)((J,ee)=>{var ae;null===(ae=oe.subscribe)||void 0===ae||ae.call(oe);let $e=!0;J.subscribe(new $.Q(ee,He=>{var ze;null===(ze=oe.next)||void 0===ze||ze.call(oe,He),ee.next(He)},()=>{var He;$e=!1,null===(He=oe.complete)||void 0===He||He.call(oe),ee.complete()},He=>{var ze;$e=!1,null===(ze=oe.error)||void 0===ze||ze.call(oe,He),ee.error(He)},()=>{var He,ze;$e&&(null===(He=oe.unsubscribe)||void 0===He||He.call(oe)),null===(ze=oe.finalize)||void 0===ze||ze.call(oe)}))}):le.y}},8068:(Me,ie,S)=>{"use strict";S.d(ie,{T:()=>le});var f=S(6805),R=S(4482),$=S(5403);function le(ye=re){return(0,R.e)((_e,ge)=>{let oe=!1;_e.subscribe(new $.Q(ge,J=>{oe=!0,ge.next(J)},()=>oe?ge.complete():ge.error(ye())))})}function re(){return new f.K}},1749:(Me,ie,S)=>{"use strict";S.d(ie,{V:()=>oe});var f=S(4986),$=S(4482),le=S(8421),re=S(3888),ye=S(5403),_e=S(9672);const ge=(0,re.d)(ee=>function($e=null){ee(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=$e});function oe(ee,ae){const{first:$e,each:He,with:ze=J,scheduler:st=(null!=ae?ae:f.z),meta:Ae=null}=function R(ee){return ee instanceof Date&&!isNaN(ee)}(ee)?{first:ee}:"number"==typeof ee?{each:ee}:ee;if(null==$e&&null==He)throw new TypeError("No timeout provided.");return(0,$.e)((xe,ne)=>{let Re,Ue,at=null,Ke=0;const Et=we=>{Ue=(0,_e.f)(ne,st,()=>{try{Re.unsubscribe(),(0,le.Xf)(ze({meta:Ae,lastValue:at,seen:Ke})).subscribe(ne)}catch(nt){ne.error(nt)}},we)};Re=xe.subscribe(new ye.Q(ne,we=>{null==Ue||Ue.unsubscribe(),Ke++,ne.next(at=we),He>0&&Et(He)},void 0,void 0,()=>{(null==Ue?void 0:Ue.closed)||null==Ue||Ue.unsubscribe(),at=null})),Et(null!=$e?"number"==typeof $e?$e:+$e-st.now():He)})}function J(ee){throw new ge(ee)}},1365:(Me,ie,S)=>{"use strict";S.d(ie,{M:()=>_e});var f=S(4482),R=S(5403),$=S(8421),le=S(4671),re=S(5032),ye=S(7669);function _e(...ge){const oe=(0,ye.jO)(ge);return(0,f.e)((J,ee)=>{const ae=ge.length,$e=new Array(ae);let He=ge.map(()=>!1),ze=!1;for(let st=0;st<ae;st++)(0,$.Xf)(ge[st]).subscribe(new R.Q(ee,Ae=>{$e[st]=Ae,!ze&&!He[st]&&(He[st]=!0,(ze=He.every(le.y))&&(He=null))},re.Z));J.subscribe(new R.Q(ee,st=>{if(ze){const Ae=[st,...$e];ee.next(oe?oe(...Ae):Ae)}}))})}},4408:(Me,ie,S)=>{"use strict";S.d(ie,{o:()=>re});var f=S(727);class R extends f.w0{constructor(_e,ge){super()}schedule(_e,ge=0){return this}}const $={setInterval(...ye){const{delegate:_e}=$;return((null==_e?void 0:_e.setInterval)||setInterval)(...ye)},clearInterval(ye){const{delegate:_e}=$;return((null==_e?void 0:_e.clearInterval)||clearInterval)(ye)},delegate:void 0};var le=S(8737);class re extends R{constructor(_e,ge){super(_e,ge),this.scheduler=_e,this.work=ge,this.pending=!1}schedule(_e,ge=0){if(this.closed)return this;this.state=_e;const oe=this.id,J=this.scheduler;return null!=oe&&(this.id=this.recycleAsyncId(J,oe,ge)),this.pending=!0,this.delay=ge,this.id=this.id||this.requestAsyncId(J,this.id,ge),this}requestAsyncId(_e,ge,oe=0){return $.setInterval(_e.flush.bind(_e,this),oe)}recycleAsyncId(_e,ge,oe=0){if(null!=oe&&this.delay===oe&&!1===this.pending)return ge;$.clearInterval(ge)}execute(_e,ge){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const oe=this._execute(_e,ge);if(oe)return oe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(_e,ge){let J,oe=!1;try{this.work(_e)}catch(ee){oe=!0,J=ee||new Error("Scheduled action threw falsy error")}if(oe)return this.unsubscribe(),J}unsubscribe(){if(!this.closed){const{id:_e,scheduler:ge}=this,{actions:oe}=ge;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(oe,this),null!=_e&&(this.id=this.recycleAsyncId(ge,_e,null)),this.delay=null,super.unsubscribe()}}}},7565:(Me,ie,S)=>{"use strict";S.d(ie,{v:()=>$});var f=S(6063);class R{constructor(re,ye=R.now){this.schedulerActionCtor=re,this.now=ye}schedule(re,ye=0,_e){return new this.schedulerActionCtor(this,re).schedule(_e,ye)}}R.now=f.l.now;class $ extends R{constructor(re,ye=R.now){super(re,ye),this.actions=[],this._active=!1,this._scheduled=void 0}flush(re){const{actions:ye}=this;if(this._active)return void ye.push(re);let _e;this._active=!0;do{if(_e=re.execute(re.state,re.delay))break}while(re=ye.shift());if(this._active=!1,_e){for(;re=ye.shift();)re.unsubscribe();throw _e}}}},4986:(Me,ie,S)=>{"use strict";S.d(ie,{z:()=>$});var f=S(4408);const $=new(S(7565).v)(f.o)},6063:(Me,ie,S)=>{"use strict";S.d(ie,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},233:(Me,ie,S)=>{"use strict";S.d(ie,{N:()=>re});var f=S(4408),$=S(7565);const re=new class le extends $.v{}(class R extends f.o{constructor(ge,oe){super(ge,oe),this.scheduler=ge,this.work=oe}schedule(ge,oe=0){return oe>0?super.schedule(ge,oe):(this.delay=oe,this.state=ge,this.scheduler.flush(this),this)}execute(ge,oe){return oe>0||this.closed?super.execute(ge,oe):this._execute(ge,oe)}requestAsyncId(ge,oe,J=0){return null!=J&&J>0||null==J&&this.delay>0?super.requestAsyncId(ge,oe,J):ge.flush(this)}})},3410:(Me,ie,S)=>{"use strict";S.d(ie,{z:()=>f});const f={setTimeout(...R){const{delegate:$}=f;return((null==$?void 0:$.setTimeout)||setTimeout)(...R)},clearTimeout(R){const{delegate:$}=f;return((null==$?void 0:$.clearTimeout)||clearTimeout)(R)},delegate:void 0}},2202:(Me,ie,S)=>{"use strict";S.d(ie,{h:()=>R});const R=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Me,ie,S)=>{"use strict";S.d(ie,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Me,ie,S)=>{"use strict";S.d(ie,{K:()=>R});const R=(0,S(3888).d)($=>function(){$(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(Me,ie,S)=>{"use strict";S.d(ie,{_6:()=>ye,jO:()=>le,yG:()=>re});var f=S(576);function $(_e){return _e[_e.length-1]}function le(_e){return(0,f.m)($(_e))?_e.pop():void 0}function re(_e){return function R(_e){return _e&&(0,f.m)(_e.schedule)}($(_e))?_e.pop():void 0}function ye(_e,ge){return"number"==typeof $(_e)?_e.pop():ge}},4742:(Me,ie,S)=>{"use strict";S.d(ie,{D:()=>re});const{isArray:f}=Array,{getPrototypeOf:R,prototype:$,keys:le}=Object;function re(_e){if(1===_e.length){const ge=_e[0];if(f(ge))return{args:ge,keys:null};if(function ye(_e){return _e&&"object"==typeof _e&&R(_e)===$}(ge)){const oe=le(ge);return{args:oe.map(J=>ge[J]),keys:oe}}}return{args:_e,keys:null}}},8737:(Me,ie,S)=>{"use strict";function f(R,$){if(R){const le=R.indexOf($);0<=le&&R.splice(le,1)}}S.d(ie,{P:()=>f})},3888:(Me,ie,S)=>{"use strict";function f(R){const le=R(re=>{Error.call(re),re.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}S.d(ie,{d:()=>f})},1810:(Me,ie,S)=>{"use strict";function f(R,$){return R.reduce((le,re,ye)=>(le[re]=$[ye],le),{})}S.d(ie,{n:()=>f})},2806:(Me,ie,S)=>{"use strict";S.d(ie,{x:()=>$,O:()=>le});var f=S(2416);let R=null;function $(re){if(f.v.useDeprecatedSynchronousErrorHandling){const ye=!R;if(ye&&(R={errorThrown:!1,error:null}),re(),ye){const{errorThrown:_e,error:ge}=R;if(R=null,_e)throw ge}}else re()}function le(re){f.v.useDeprecatedSynchronousErrorHandling&&R&&(R.errorThrown=!0,R.error=re)}},9672:(Me,ie,S)=>{"use strict";function f(R,$,le,re=0,ye=!1){const _e=$.schedule(function(){le(),ye?R.add(this.schedule(null,re)):this.unsubscribe()},re);if(R.add(_e),!ye)return _e}S.d(ie,{f:()=>f})},4671:(Me,ie,S)=>{"use strict";function f(R){return R}S.d(ie,{y:()=>f})},1144:(Me,ie,S)=>{"use strict";S.d(ie,{z:()=>f});const f=R=>R&&"number"==typeof R.length&&"function"!=typeof R},2206:(Me,ie,S)=>{"use strict";S.d(ie,{D:()=>R});var f=S(576);function R($){return Symbol.asyncIterator&&(0,f.m)(null==$?void 0:$[Symbol.asyncIterator])}},576:(Me,ie,S)=>{"use strict";function f(R){return"function"==typeof R}S.d(ie,{m:()=>f})},3670:(Me,ie,S)=>{"use strict";S.d(ie,{c:()=>$});var f=S(8822),R=S(576);function $(le){return(0,R.m)(le[f.L])}},6495:(Me,ie,S)=>{"use strict";S.d(ie,{T:()=>$});var f=S(2202),R=S(576);function $(le){return(0,R.m)(null==le?void 0:le[f.h])}},8239:(Me,ie,S)=>{"use strict";S.d(ie,{t:()=>R});var f=S(576);function R($){return(0,f.m)(null==$?void 0:$.then)}},3260:(Me,ie,S)=>{"use strict";S.d(ie,{Q:()=>$,L:()=>le});var f=S(5987),R=S(576);function $(re){return(0,f.FC)(this,arguments,function*(){const _e=re.getReader();try{for(;;){const{value:ge,done:oe}=yield(0,f.qq)(_e.read());if(oe)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(ge)}}finally{_e.releaseLock()}})}function le(re){return(0,R.m)(null==re?void 0:re.getReader)}},4482:(Me,ie,S)=>{"use strict";S.d(ie,{A:()=>R,e:()=>$});var f=S(576);function R(le){return(0,f.m)(null==le?void 0:le.lift)}function $(le){return re=>{if(R(re))return re.lift(function(ye){try{return le(ye,this)}catch(_e){this.error(_e)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Me,ie,S)=>{"use strict";S.d(ie,{Z:()=>le});var f=S(4004);const{isArray:R}=Array;function le(re){return(0,f.U)(ye=>function $(re,ye){return R(ye)?re(...ye):re(ye)}(re,ye))}},5032:(Me,ie,S)=>{"use strict";function f(){}S.d(ie,{Z:()=>f})},7849:(Me,ie,S)=>{"use strict";S.d(ie,{h:()=>$});var f=S(2416),R=S(3410);function $(le){R.z.setTimeout(()=>{const{onUnhandledError:re}=f.v;if(!re)throw le;re(le)})}},4532:(Me,ie,S)=>{"use strict";function f(R){return new TypeError(`You provided ${null!==R&&"object"==typeof R?"an invalid object":`'${R}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}S.d(ie,{z:()=>f})},5226:function(Me){Me.exports=function(){"use strict";const ie="SweetAlert2:",f=b=>b.charAt(0).toUpperCase()+b.slice(1),R=b=>Array.prototype.slice.call(b),$=b=>{console.warn("".concat(ie," ").concat("object"==typeof b?b.join(" "):b))},le=b=>{console.error("".concat(ie," ").concat(b))},re=[],_e=(b,D)=>{(b=>{re.includes(b)||(re.push(b),$(b))})('"'.concat(b,'" is deprecated and will be removed in the next major release. Please use "').concat(D,'" instead.'))},ge=b=>"function"==typeof b?b():b,oe=b=>b&&"function"==typeof b.toPromise,J=b=>oe(b)?b.toPromise():Promise.resolve(b),ee=b=>b&&Promise.resolve(b)===b,ae={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},$e=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],He={},ze=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],st=b=>Object.prototype.hasOwnProperty.call(ae,b),Ae=b=>-1!==$e.indexOf(b),xe=b=>He[b],ne=b=>{st(b)||$('Unknown parameter "'.concat(b,'"'))},Re=b=>{ze.includes(b)&&$('The parameter "'.concat(b,'" is incompatible with toasts'))},Ue=b=>{xe(b)&&_e(b,xe(b))},Et=b=>{const D={};for(const j in b)D[b[j]]="swal2-"+b[j];return D},we=Et(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),nt=Et(["success","warning","info","question","error"]),Oe=()=>document.body.querySelector(".".concat(we.container)),Ne=b=>{const D=Oe();return D?D.querySelector(b):null},We=b=>Ne(".".concat(b)),Ge=()=>We(we.popup),ct=()=>We(we.icon),Be=()=>We(we.title),At=()=>We(we["html-container"]),on=()=>We(we.image),kn=()=>We(we["progress-steps"]),Ot=()=>We(we["validation-message"]),ft=()=>Ne(".".concat(we.actions," .").concat(we.confirm)),dn=()=>Ne(".".concat(we.actions," .").concat(we.deny)),sn=()=>Ne(".".concat(we.loader)),Rt=()=>Ne(".".concat(we.actions," .").concat(we.cancel)),Qn=()=>We(we.actions),Jn=()=>We(we.footer),Dn=()=>We(we["timer-progress-bar"]),yr=()=>We(we.close),Sn=()=>{const b=R(Ge().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((j,ve)=>{const ht=parseInt(j.getAttribute("tabindex")),gn=parseInt(ve.getAttribute("tabindex"));return ht>gn?1:ht<gn?-1:0}),D=R(Ge().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(j=>"-1"!==j.getAttribute("tabindex"));return(b=>{const D=[];for(let j=0;j<b.length;j++)-1===D.indexOf(b[j])&&D.push(b[j]);return D})(b.concat(D)).filter(j=>pr(j))},ur=()=>!It(document.body,we["toast-shown"])&&!It(document.body,we["no-backdrop"]),tr=()=>Ge()&&It(Ge(),we.toast),ot={previousBodyPadding:null},Xt=(b,D)=>{if(b.textContent="",D){const ve=(new DOMParser).parseFromString(D,"text/html");R(ve.querySelector("head").childNodes).forEach(ht=>{b.appendChild(ht)}),R(ve.querySelector("body").childNodes).forEach(ht=>{b.appendChild(ht)})}},It=(b,D)=>{if(!D)return!1;const j=D.split(/\s+/);for(let ve=0;ve<j.length;ve++)if(!b.classList.contains(j[ve]))return!1;return!0},Kt=(b,D,j)=>{if(((b,D)=>{R(b.classList).forEach(j=>{!Object.values(we).includes(j)&&!Object.values(nt).includes(j)&&!Object.values(D.showClass).includes(j)&&b.classList.remove(j)})})(b,D),D.customClass&&D.customClass[j]){if("string"!=typeof D.customClass[j]&&!D.customClass[j].forEach)return $("Invalid type of customClass.".concat(j,'! Expected string or iterable object, got "').concat(typeof D.customClass[j],'"'));vt(b,D.customClass[j])}},bn=(b,D)=>{if(!D)return null;switch(D){case"select":case"textarea":case"file":return b.querySelector(".".concat(we.popup," > .").concat(we[D]));case"checkbox":return b.querySelector(".".concat(we.popup," > .").concat(we.checkbox," input"));case"radio":return b.querySelector(".".concat(we.popup," > .").concat(we.radio," input:checked"))||b.querySelector(".".concat(we.popup," > .").concat(we.radio," input:first-child"));case"range":return b.querySelector(".".concat(we.popup," > .").concat(we.range," input"));default:return b.querySelector(".".concat(we.popup," > .").concat(we.input))}},oi=b=>{if(b.focus(),"file"!==b.type){const D=b.value;b.value="",b.value=D}},Qt=(b,D,j)=>{!b||!D||("string"==typeof D&&(D=D.split(/\s+/).filter(Boolean)),D.forEach(ve=>{Array.isArray(b)?b.forEach(ht=>{j?ht.classList.add(ve):ht.classList.remove(ve)}):j?b.classList.add(ve):b.classList.remove(ve)}))},vt=(b,D)=>{Qt(b,D,!0)},an=(b,D)=>{Qt(b,D,!1)},kt=(b,D)=>{const j=R(b.childNodes);for(let ve=0;ve<j.length;ve++)if(It(j[ve],D))return j[ve]},Pn=(b,D,j)=>{j==="".concat(parseInt(j))&&(j=parseInt(j)),j||0===parseInt(j)?b.style[D]="number"==typeof j?"".concat(j,"px"):j:b.style.removeProperty(D)},Bt=function(b){b.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},Mt=b=>{b.style.display="none"},$t=(b,D,j,ve)=>{const ht=b.querySelector(D);ht&&(ht.style[j]=ve)},wi=(b,D,j)=>{D?Bt(b,j):Mt(b)},pr=b=>!(!b||!(b.offsetWidth||b.offsetHeight||b.getClientRects().length)),xn=b=>b.scrollHeight>b.clientHeight,Ar=b=>{const D=window.getComputedStyle(b),j=parseFloat(D.getPropertyValue("animation-duration")||"0"),ve=parseFloat(D.getPropertyValue("transition-duration")||"0");return j>0||ve>0},qr=function(b){let D=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const j=Dn();pr(j)&&(D&&(j.style.transition="none",j.style.width="100%"),setTimeout(()=>{j.style.transition="width ".concat(b/1e3,"s linear"),j.style.width="0%"},10))},De=()=>"undefined"==typeof window||"undefined"==typeof document,Ve={},Nt=b=>new Promise(D=>{if(!b)return D();const j=window.scrollX,ve=window.scrollY;Ve.restoreFocusTimeout=setTimeout(()=>{Ve.previousActiveElement&&Ve.previousActiveElement.focus?(Ve.previousActiveElement.focus(),Ve.previousActiveElement=null):document.body&&document.body.focus(),D()},100),window.scrollTo(j,ve)}),Ut='\n <div aria-labelledby="'.concat(we.title,'" aria-describedby="').concat(we["html-container"],'" class="').concat(we.popup,'" tabindex="-1">\n   <button type="button" class="').concat(we.close,'"></button>\n   <ul class="').concat(we["progress-steps"],'"></ul>\n   <div class="').concat(we.icon,'"></div>\n   <img class="').concat(we.image,'" />\n   <h2 class="').concat(we.title,'" id="').concat(we.title,'"></h2>\n   <div class="').concat(we["html-container"],'" id="').concat(we["html-container"],'"></div>\n   <input class="').concat(we.input,'" />\n   <input type="file" class="').concat(we.file,'" />\n   <div class="').concat(we.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(we.select,'"></select>\n   <div class="').concat(we.radio,'"></div>\n   <label for="').concat(we.checkbox,'" class="').concat(we.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(we.label,'"></span>\n   </label>\n   <textarea class="').concat(we.textarea,'"></textarea>\n   <div class="').concat(we["validation-message"],'" id="').concat(we["validation-message"],'"></div>\n   <div class="').concat(we.actions,'">\n     <div class="').concat(we.loader,'"></div>\n     <button type="button" class="').concat(we.confirm,'"></button>\n     <button type="button" class="').concat(we.deny,'"></button>\n     <button type="button" class="').concat(we.cancel,'"></button>\n   </div>\n   <div class="').concat(we.footer,'"></div>\n   <div class="').concat(we["timer-progress-bar-container"],'">\n     <div class="').concat(we["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),zn=()=>{Ve.currentInstance.resetValidationMessage()},Fr=b=>{const D=(()=>{const b=Oe();return!!b&&(b.remove(),an([document.documentElement,document.body],[we["no-backdrop"],we["toast-shown"],we["has-column"]]),!0)})();if(De())return void le("SweetAlert2 requires document to initialize");const j=document.createElement("div");j.className=we.container,D&&vt(j,we["no-transition"]),Xt(j,Ut);const ve=(b=>"string"==typeof b?document.querySelector(b):b)(b.target);ve.appendChild(j),(b=>{const D=Ge();D.setAttribute("role",b.toast?"alert":"dialog"),D.setAttribute("aria-live",b.toast?"polite":"assertive"),b.toast||D.setAttribute("aria-modal","true")})(b),(b=>{"rtl"===window.getComputedStyle(b).direction&&vt(Oe(),we.rtl)})(ve),(()=>{const b=Ge(),D=kt(b,we.input),j=kt(b,we.file),ve=b.querySelector(".".concat(we.range," input")),ht=b.querySelector(".".concat(we.range," output")),gn=kt(b,we.select),ii=b.querySelector(".".concat(we.checkbox," input")),Ui=kt(b,we.textarea);D.oninput=zn,j.onchange=zn,gn.onchange=zn,ii.onchange=zn,Ui.oninput=zn,ve.oninput=()=>{zn(),ht.value=ve.value},ve.onchange=()=>{zn(),ve.nextSibling.value=ve.value}})()},$r=(b,D)=>{b instanceof HTMLElement?D.appendChild(b):"object"==typeof b?cn(b,D):b&&Xt(D,b)},cn=(b,D)=>{b.jquery?Sr(D,b):Xt(D,b.toString())},Sr=(b,D)=>{if(b.textContent="",0 in D)for(let j=0;j in D;j++)b.appendChild(D[j].cloneNode(!0));else b.appendChild(D.cloneNode(!0))},Cn=(()=>{if(De())return!1;const b=document.createElement("div"),D={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const j in D)if(Object.prototype.hasOwnProperty.call(D,j)&&void 0!==b.style[j])return D[j];return!1})(),wr=(b,D)=>{const j=Qn(),ve=sn();D.showConfirmButton||D.showDenyButton||D.showCancelButton?Bt(j):Mt(j),Kt(j,D,"actions"),function _r(b,D,j){const ve=ft(),ht=dn(),gn=Rt();Er(ve,"confirm",j),Er(ht,"deny",j),Er(gn,"cancel",j),function nr(b,D,j,ve){if(!ve.buttonsStyling)return an([b,D,j],we.styled);vt([b,D,j],we.styled),ve.confirmButtonColor&&(b.style.backgroundColor=ve.confirmButtonColor,vt(b,we["default-outline"])),ve.denyButtonColor&&(D.style.backgroundColor=ve.denyButtonColor,vt(D,we["default-outline"])),ve.cancelButtonColor&&(j.style.backgroundColor=ve.cancelButtonColor,vt(j,we["default-outline"]))}(ve,ht,gn,j),j.reverseButtons&&(j.toast?(b.insertBefore(gn,ve),b.insertBefore(ht,ve)):(b.insertBefore(gn,D),b.insertBefore(ht,D),b.insertBefore(ve,D)))}(j,ve,D),Xt(ve,D.loaderHtml),Kt(ve,D,"loader")};function Er(b,D,j){wi(b,j["show".concat(f(D),"Button")],"inline-block"),Xt(b,j["".concat(D,"ButtonText")]),b.setAttribute("aria-label",j["".concat(D,"ButtonAriaLabel")]),b.className=we[D],Kt(b,j,"".concat(D,"Button")),vt(b,j["".concat(D,"ButtonClass")])}const Gr=(b,D)=>{const j=Oe();!j||(function gi(b,D){"string"==typeof D?b.style.background=D:D||vt([document.documentElement,document.body],we["no-backdrop"])}(j,D.backdrop),function Mr(b,D){D in we?vt(b,we[D]):($('The "position" parameter is not valid, defaulting to "center"'),vt(b,we.center))}(j,D.position),function Hr(b,D){if(D&&"string"==typeof D){const j="grow-".concat(D);j in we&&vt(b,we[j])}}(j,D.grow),Kt(j,D,"container"))};var Wt={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const Lr=["input","file","range","select","radio","checkbox","textarea"],gt=b=>{if(!hn[b.input])return le('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(b.input,'"'));const D=xr(b.input),j=hn[b.input](D,b);Bt(j),setTimeout(()=>{oi(j)})},Nn=(b,D)=>{const j=bn(Ge(),b);if(j){(b=>{for(let D=0;D<b.attributes.length;D++){const j=b.attributes[D].name;["type","value","style"].includes(j)||b.removeAttribute(j)}})(j);for(const ve in D)j.setAttribute(ve,D[ve])}},cr=b=>{const D=xr(b.input);b.customClass&&vt(D,b.customClass.input)},br=(b,D)=>{(!b.placeholder||D.inputPlaceholder)&&(b.placeholder=D.inputPlaceholder)},$n=(b,D,j)=>{if(j.inputLabel){b.id=we.input;const ve=document.createElement("label"),ht=we["input-label"];ve.setAttribute("for",b.id),ve.className=ht,vt(ve,j.customClass.inputLabel),ve.innerText=j.inputLabel,D.insertAdjacentElement("beforebegin",ve)}},xr=b=>{const D=we[b]?we[b]:we.input;return kt(Ge(),D)},hn={};hn.text=hn.email=hn.password=hn.number=hn.tel=hn.url=(b,D)=>("string"==typeof D.inputValue||"number"==typeof D.inputValue?b.value=D.inputValue:ee(D.inputValue)||$('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof D.inputValue,'"')),$n(b,b,D),br(b,D),b.type=D.input,b),hn.file=(b,D)=>($n(b,b,D),br(b,D),b),hn.range=(b,D)=>{const j=b.querySelector("input"),ve=b.querySelector("output");return j.value=D.inputValue,j.type=D.input,ve.value=D.inputValue,$n(j,b,D),b},hn.select=(b,D)=>{if(b.textContent="",D.inputPlaceholder){const j=document.createElement("option");Xt(j,D.inputPlaceholder),j.value="",j.disabled=!0,j.selected=!0,b.appendChild(j)}return $n(b,b,D),b},hn.radio=b=>(b.textContent="",b),hn.checkbox=(b,D)=>{const j=bn(Ge(),"checkbox");j.value="1",j.id=we.checkbox,j.checked=Boolean(D.inputValue);const ve=b.querySelector("span");return Xt(ve,D.inputPlaceholder),b},hn.textarea=(b,D)=>{b.value=D.inputValue,br(b,D),$n(b,b,D);return setTimeout(()=>{if("MutationObserver"in window){const ve=parseInt(window.getComputedStyle(Ge()).width);new MutationObserver(()=>{const gn=b.offsetWidth+(ve=>parseInt(window.getComputedStyle(ve).marginLeft)+parseInt(window.getComputedStyle(ve).marginRight))(b);Ge().style.width=gn>ve?"".concat(gn,"px"):null}).observe(b,{attributes:!0,attributeFilter:["style"]})}}),b};const Vr=(b,D)=>{const j=At();Kt(j,D,"htmlContainer"),D.html?($r(D.html,j),Bt(j,"block")):D.text?(j.textContent=D.text,Bt(j,"block")):Mt(j),((b,D)=>{const j=Ge(),ve=Wt.innerParams.get(b),ht=!ve||D.input!==ve.input;Lr.forEach(gn=>{const ii=we[gn],Ui=kt(j,ii);Nn(gn,D.inputAttributes),Ui.className=ii,ht&&Mt(Ui)}),D.input&&(ht&&gt(D),cr(D))})(b,D)},ai=(b,D)=>{for(const j in nt)D.icon!==j&&an(b,nt[j]);vt(b,nt[D.icon]),yt(b,D),he(),Kt(b,D,"icon")},he=()=>{const b=Ge(),D=window.getComputedStyle(b).getPropertyValue("background-color"),j=b.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let ve=0;ve<j.length;ve++)j[ve].style.backgroundColor=D},Qe=(b,D)=>{b.textContent="",Xt(b,D.iconHtml?bt(D.iconHtml):"success"===D.icon?'\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n':"error"===D.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':bt({question:"?",warning:"!",info:"i"}[D.icon]))},yt=(b,D)=>{if(D.iconColor){b.style.color=D.iconColor,b.style.borderColor=D.iconColor;for(const j of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])$t(b,j,"backgroundColor",D.iconColor);$t(b,".swal2-success-ring","borderColor",D.iconColor)}},bt=b=>'<div class="'.concat(we["icon-content"],'">').concat(b,"</div>"),rr=(b,D)=>{const j=kn();if(!D.progressSteps||0===D.progressSteps.length)return Mt(j);Bt(j),j.textContent="",D.currentProgressStep>=D.progressSteps.length&&$("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),D.progressSteps.forEach((ve,ht)=>{const gn=(b=>{const D=document.createElement("li");return vt(D,we["progress-step"]),Xt(D,b),D})(ve);if(j.appendChild(gn),ht===D.currentProgressStep&&vt(gn,we["active-progress-step"]),ht!==D.progressSteps.length-1){const ii=(b=>{const D=document.createElement("li");return vt(D,we["progress-step-line"]),b.progressStepsDistance&&(D.style.width=b.progressStepsDistance),D})(D);j.appendChild(ii)}})},Ir=(b,D)=>{b.className="".concat(we.popup," ").concat(pr(b)?D.showClass.popup:""),D.toast?(vt([document.documentElement,document.body],we["toast-shown"]),vt(b,we.toast)):vt(b,we.modal),Kt(b,D,"popup"),"string"==typeof D.customClass&&vt(b,D.customClass),D.icon&&vt(b,we["icon-".concat(D.icon)])},ce=(b,D)=>{((b,D)=>{const j=Oe(),ve=Ge();D.toast?(Pn(j,"width",D.width),ve.style.width="100%",ve.insertBefore(sn(),ct())):Pn(ve,"width",D.width),Pn(ve,"padding",D.padding),D.color&&(ve.style.color=D.color),D.background&&(ve.style.background=D.background),Mt(Ot()),Ir(ve,D)})(0,D),Gr(0,D),rr(0,D),((b,D)=>{const j=Wt.innerParams.get(b),ve=ct();j&&D.icon===j.icon?(Qe(ve,D),ai(ve,D)):D.icon||D.iconHtml?D.icon&&-1===Object.keys(nt).indexOf(D.icon)?(le('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(D.icon,'"')),Mt(ve)):(Bt(ve),Qe(ve,D),ai(ve,D),vt(ve,D.showClass.icon)):Mt(ve)})(b,D),((b,D)=>{const j=on();if(!D.imageUrl)return Mt(j);Bt(j,""),j.setAttribute("src",D.imageUrl),j.setAttribute("alt",D.imageAlt),Pn(j,"width",D.imageWidth),Pn(j,"height",D.imageHeight),j.className=we.image,Kt(j,D,"image")})(0,D),((b,D)=>{const j=Be();wi(j,D.title||D.titleText,"block"),D.title&&$r(D.title,j),D.titleText&&(j.innerText=D.titleText),Kt(j,D,"title")})(0,D),((b,D)=>{const j=yr();Xt(j,D.closeButtonHtml),Kt(j,D,"closeButton"),wi(j,D.showCloseButton),j.setAttribute("aria-label",D.closeButtonAriaLabel)})(0,D),Vr(b,D),wr(0,D),((b,D)=>{const j=Jn();wi(j,D.footer),D.footer&&$r(D.footer,j),Kt(j,D,"footer")})(0,D),"function"==typeof D.didRender&&D.didRender(Ge())},ue=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Le=()=>{R(document.body.children).forEach(D=>{D.hasAttribute("data-previous-aria-hidden")?(D.setAttribute("aria-hidden",D.getAttribute("data-previous-aria-hidden")),D.removeAttribute("data-previous-aria-hidden")):D.removeAttribute("aria-hidden")})},ut=["swal-title","swal-html","swal-footer"],Vn=b=>{const D={};return R(b.querySelectorAll("swal-param")).forEach(j=>{jt(j,["name","value"]);const ve=j.getAttribute("name"),ht=j.getAttribute("value");"boolean"==typeof ae[ve]&&"false"===ht&&(D[ve]=!1),"object"==typeof ae[ve]&&(D[ve]=JSON.parse(ht))}),D},Dr=b=>{const D={};return R(b.querySelectorAll("swal-button")).forEach(j=>{jt(j,["type","color","aria-label"]);const ve=j.getAttribute("type");D["".concat(ve,"ButtonText")]=j.innerHTML,D["show".concat(f(ve),"Button")]=!0,j.hasAttribute("color")&&(D["".concat(ve,"ButtonColor")]=j.getAttribute("color")),j.hasAttribute("aria-label")&&(D["".concat(ve,"ButtonAriaLabel")]=j.getAttribute("aria-label"))}),D},Te=b=>{const D={},j=b.querySelector("swal-image");return j&&(jt(j,["src","width","height","alt"]),j.hasAttribute("src")&&(D.imageUrl=j.getAttribute("src")),j.hasAttribute("width")&&(D.imageWidth=j.getAttribute("width")),j.hasAttribute("height")&&(D.imageHeight=j.getAttribute("height")),j.hasAttribute("alt")&&(D.imageAlt=j.getAttribute("alt"))),D},Ce=b=>{const D={},j=b.querySelector("swal-icon");return j&&(jt(j,["type","color"]),j.hasAttribute("type")&&(D.icon=j.getAttribute("type")),j.hasAttribute("color")&&(D.iconColor=j.getAttribute("color")),D.iconHtml=j.innerHTML),D},Ye=b=>{const D={},j=b.querySelector("swal-input");j&&(jt(j,["type","label","placeholder","value"]),D.input=j.getAttribute("type")||"text",j.hasAttribute("label")&&(D.inputLabel=j.getAttribute("label")),j.hasAttribute("placeholder")&&(D.inputPlaceholder=j.getAttribute("placeholder")),j.hasAttribute("value")&&(D.inputValue=j.getAttribute("value")));const ve=b.querySelectorAll("swal-input-option");return ve.length&&(D.inputOptions={},R(ve).forEach(ht=>{jt(ht,["value"]);const gn=ht.getAttribute("value");D.inputOptions[gn]=ht.innerHTML})),D},lt=(b,D)=>{const j={};for(const ve in D){const ht=D[ve],gn=b.querySelector(ht);gn&&(jt(gn,[]),j[ht.replace(/^swal-/,"")]=gn.innerHTML.trim())}return j},Tt=b=>{const D=ut.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);R(b.children).forEach(j=>{const ve=j.tagName.toLowerCase();-1===D.indexOf(ve)&&$("Unrecognized element <".concat(ve,">"))})},jt=(b,D)=>{R(b.attributes).forEach(j=>{-1===D.indexOf(j.name)&&$(['Unrecognized attribute "'.concat(j.name,'" on <').concat(b.tagName.toLowerCase(),">."),"".concat(D.length?"Allowed attributes are: ".concat(D.join(", ")):"To set the value, use HTML within the element.")])})};var er={email:(b,D)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(b)?Promise.resolve():Promise.resolve(D||"Invalid email address"),url:(b,D)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(b)?Promise.resolve():Promise.resolve(D||"Invalid URL")};function Ei(b){(function Or(b){b.inputValidator||Object.keys(er).forEach(D=>{b.input===D&&(b.inputValidator=er[D])})})(b),b.showLoaderOnConfirm&&!b.preConfirm&&$("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function qn(b){(!b.target||"string"==typeof b.target&&!document.querySelector(b.target)||"string"!=typeof b.target&&!b.target.appendChild)&&($('Target parameter is not valid, defaulting to "body"'),b.target="body")}(b),"string"==typeof b.title&&(b.title=b.title.split("\n").join("<br />")),Fr(b)}class Ki{constructor(D,j){this.callback=D,this.remaining=j,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(D){const j=this.running;return j&&this.stop(),this.remaining+=D,j&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const ss=()=>{null===ot.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(ot.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(ot.previousBodyPadding+(()=>{const b=document.createElement("div");b.className=we["scrollbar-measure"],document.body.appendChild(b);const D=b.getBoundingClientRect().width-b.clientWidth;return document.body.removeChild(b),D})(),"px"))},bs=()=>{const b=navigator.userAgent,D=!!b.match(/iPad/i)||!!b.match(/iPhone/i),j=!!b.match(/WebKit/i);if(D&&j&&!b.match(/CriOS/i)){const ht=44;Ge().scrollHeight>window.innerHeight-ht&&(Oe().style.paddingBottom="".concat(ht,"px"))}},Is=()=>{const b=Oe();let D;b.ontouchstart=j=>{D=mo(j)},b.ontouchmove=j=>{D&&(j.preventDefault(),j.stopPropagation())}},mo=b=>{const D=b.target,j=Oe();return!(os(b)||Zi(b)||D!==j&&(xn(j)||"INPUT"===D.tagName||"TEXTAREA"===D.tagName||xn(At())&&At().contains(D)))},os=b=>b.touches&&b.touches.length&&"stylus"===b.touches[0].touchType,Zi=b=>b.touches&&b.touches.length>1,Ns=b=>{const D=Oe(),j=Ge();"function"==typeof b.willOpen&&b.willOpen(j);const ht=window.getComputedStyle(document.body).overflowY;ci(D,j,b),setTimeout(()=>{no(D,j)},10),ur()&&(ks(D,b.scrollbarPadding,ht),R(document.body.children).forEach(D=>{D===Oe()||D.contains(Oe())||(D.hasAttribute("aria-hidden")&&D.setAttribute("data-previous-aria-hidden",D.getAttribute("aria-hidden")),D.setAttribute("aria-hidden","true"))})),!tr()&&!Ve.previousActiveElement&&(Ve.previousActiveElement=document.activeElement),"function"==typeof b.didOpen&&setTimeout(()=>b.didOpen(j)),an(D,we["no-transition"])},ni=b=>{const D=Ge();if(b.target!==D)return;const j=Oe();D.removeEventListener(Cn,ni),j.style.overflowY="auto"},no=(b,D)=>{Cn&&Ar(D)?(b.style.overflowY="hidden",D.addEventListener(Cn,ni)):b.style.overflowY="auto"},ks=(b,D,j)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!It(document.body,we.iosfix)){const D=document.body.scrollTop;document.body.style.top="".concat(-1*D,"px"),vt(document.body,we.iosfix),Is(),bs()}})(),D&&"hidden"!==j&&ss(),setTimeout(()=>{b.scrollTop=0})},ci=(b,D,j)=>{vt(b,j.showClass.backdrop),D.style.setProperty("opacity","0","important"),Bt(D,"grid"),setTimeout(()=>{vt(D,j.showClass.popup),D.style.removeProperty("opacity")},10),vt([document.documentElement,document.body],we.shown),j.heightAuto&&j.backdrop&&!j.toast&&vt([document.documentElement,document.body],we["height-auto"])},Yr=b=>{let D=Ge();D||new qo,D=Ge();const j=sn();tr()?Mt(ct()):Yi(D,b),Bt(j),D.setAttribute("data-loading",!0),D.setAttribute("aria-busy",!0),D.focus()},Yi=(b,D)=>{const j=Qn(),ve=sn();!D&&pr(ft())&&(D=ft()),Bt(j),D&&(Mt(D),ve.setAttribute("data-button-to-replace",D.className)),ve.parentNode.insertBefore(ve,D),vt([b,j],we.loading)},Ds=b=>b.checked?1:0,us=b=>b.checked?b.value:null,Ni=b=>b.files.length?null!==b.getAttribute("multiple")?b.files:b.files[0]:null,Ls=(b,D)=>{const j=Ge(),ve=ht=>or[D.input](j,ki(ht),D);oe(D.inputOptions)||ee(D.inputOptions)?(Yr(ft()),J(D.inputOptions).then(ht=>{b.hideLoading(),ve(ht)})):"object"==typeof D.inputOptions?ve(D.inputOptions):le("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof D.inputOptions))},Qi=(b,D)=>{const j=b.getInput();Mt(j),J(D.inputValue).then(ve=>{j.value="number"===D.input?parseFloat(ve)||0:"".concat(ve),Bt(j),j.focus(),b.hideLoading()}).catch(ve=>{le("Error in inputValue promise: ".concat(ve)),j.value="",Bt(j),j.focus(),b.hideLoading()})},or={select:(b,D,j)=>{const ve=kt(b,we.select),ht=(gn,ii,Ui)=>{const fi=document.createElement("option");fi.value=Ui,Xt(fi,ii),fi.selected=Fi(Ui,j.inputValue),gn.appendChild(fi)};D.forEach(gn=>{const ii=gn[0],Ui=gn[1];if(Array.isArray(Ui)){const fi=document.createElement("optgroup");fi.label=ii,fi.disabled=!1,ve.appendChild(fi),Ui.forEach(Bs=>ht(fi,Bs[1],Bs[0]))}else ht(ve,Ui,ii)}),ve.focus()},radio:(b,D,j)=>{const ve=kt(b,we.radio);D.forEach(gn=>{const ii=gn[0],Ui=gn[1],fi=document.createElement("input"),Bs=document.createElement("label");fi.type="radio",fi.name=we.radio,fi.value=ii,Fi(ii,j.inputValue)&&(fi.checked=!0);const _s=document.createElement("span");Xt(_s,Ui),_s.className=we.label,Bs.appendChild(fi),Bs.appendChild(_s),ve.appendChild(Bs)});const ht=ve.querySelectorAll("input");ht.length&&ht[0].focus()}},ki=b=>{const D=[];return"undefined"!=typeof Map&&b instanceof Map?b.forEach((j,ve)=>{let ht=j;"object"==typeof ht&&(ht=ki(ht)),D.push([ve,ht])}):Object.keys(b).forEach(j=>{let ve=b[j];"object"==typeof ve&&(ve=ki(ve)),D.push([j,ve])}),D},Fi=(b,D)=>D&&D.toString()===b.toString(),P=(b,D)=>{const j=Wt.innerParams.get(b);if(!j.input)return le('The "input" parameter is needed to be set when using returnInputValueOn'.concat(f(D)));const ve=((b,D)=>{const j=b.getInput();if(!j)return null;switch(D.input){case"checkbox":return Ds(j);case"radio":return us(j);case"file":return Ni(j);default:return D.inputAutoTrim?j.value.trim():j.value}})(b,j);j.inputValidator?K(b,ve,D):b.getInput().checkValidity()?"deny"===D?me(b,ve):Vt(b,ve):(b.enableButtons(),b.showValidationMessage(j.validationMessage))},K=(b,D,j)=>{const ve=Wt.innerParams.get(b);b.disableInput(),Promise.resolve().then(()=>J(ve.inputValidator(D,ve.validationMessage))).then(gn=>{b.enableButtons(),b.enableInput(),gn?b.showValidationMessage(gn):"deny"===j?me(b,D):Vt(b,D)})},me=(b,D)=>{const j=Wt.innerParams.get(b||void 0);j.showLoaderOnDeny&&Yr(dn()),j.preDeny?(Wt.awaitingPromise.set(b||void 0,!0),Promise.resolve().then(()=>J(j.preDeny(D,j.validationMessage))).then(ht=>{!1===ht?b.hideLoading():b.closePopup({isDenied:!0,value:void 0===ht?D:ht})}).catch(ht=>pt(b||void 0,ht))):b.closePopup({isDenied:!0,value:D})},tt=(b,D)=>{b.closePopup({isConfirmed:!0,value:D})},pt=(b,D)=>{b.rejectPromise(D)},Vt=(b,D)=>{const j=Wt.innerParams.get(b||void 0);j.showLoaderOnConfirm&&Yr(),j.preConfirm?(b.resetValidationMessage(),Wt.awaitingPromise.set(b||void 0,!0),Promise.resolve().then(()=>J(j.preConfirm(D,j.validationMessage))).then(ht=>{pr(Ot())||!1===ht?b.hideLoading():tt(b,void 0===ht?D:ht)}).catch(ht=>pt(b||void 0,ht))):tt(b,D)},Bn=(b,D,j)=>{D.popup.onclick=()=>{const ve=Wt.innerParams.get(b);ve&&(vr(ve)||ve.timer||ve.input)||j(ue.close)}},vr=b=>b.showConfirmButton||b.showDenyButton||b.showCancelButton||b.showCloseButton;let pn=!1;const Wr=b=>{b.popup.onmousedown=()=>{b.container.onmouseup=function(D){b.container.onmouseup=void 0,D.target===b.container&&(pn=!0)}}},ar=b=>{b.container.onmousedown=()=>{b.popup.onmouseup=function(D){b.popup.onmouseup=void 0,(D.target===b.popup||b.popup.contains(D.target))&&(pn=!0)}}},qt=(b,D,j)=>{D.container.onclick=ve=>{const ht=Wt.innerParams.get(b);pn?pn=!1:ve.target===D.container&&ge(ht.allowOutsideClick)&&j(ue.backdrop)}},mi=()=>ft()&&ft().click(),x=(b,D,j)=>{const ve=Sn();if(ve.length)return(D+=j)===ve.length?D=0:-1===D&&(D=ve.length-1),ve[D].focus();Ge().focus()},A=["ArrowRight","ArrowDown"],U=["ArrowLeft","ArrowUp"],je=(b,D,j)=>{const ve=Wt.innerParams.get(b);!ve||(ve.stopKeydownPropagation&&D.stopPropagation(),"Enter"===D.key?Zt(b,D,ve):"Tab"===D.key?En(D,ve):[...A,...U].includes(D.key)?Ur(D.key):"Escape"===D.key&&bi(D,ve,j))},Zt=(b,D,j)=>{if(ge(j.allowEnterKey)&&!D.isComposing&&D.target&&b.getInput()&&D.target.outerHTML===b.getInput().outerHTML){if(["textarea","file"].includes(j.input))return;mi(),D.preventDefault()}},En=(b,D)=>{const j=b.target,ve=Sn();let ht=-1;for(let gn=0;gn<ve.length;gn++)if(j===ve[gn]){ht=gn;break}x(0,ht,b.shiftKey?-1:1),b.stopPropagation(),b.preventDefault()},Ur=b=>{if(![ft(),dn(),Rt()].includes(document.activeElement))return;const ht=A.includes(b)?"nextElementSibling":"previousElementSibling",gn=document.activeElement[ht];gn instanceof HTMLElement&&gn.focus()},bi=(b,D,j)=>{ge(D.allowEscapeKey)&&(b.preventDefault(),j(ue.esc))},Li=b=>b instanceof Element||(b=>"object"==typeof b&&b.jquery)(b);const Do=()=>{if(Ve.timeout)return(()=>{const b=Dn(),D=parseInt(window.getComputedStyle(b).width);b.style.removeProperty("transition"),b.style.width="100%";const ve=D/parseInt(window.getComputedStyle(b).width)*100;b.style.removeProperty("transition"),b.style.width="".concat(ve,"%")})(),Ve.timeout.stop()},Ii=()=>{if(Ve.timeout){const b=Ve.timeout.start();return qr(b),b}};let Xi=!1;const Uo={};const io=b=>{for(let D=b.target;D&&D!==document;D=D.parentNode)for(const j in Uo){const ve=D.getAttribute(j);if(ve)return void Uo[j].fire({template:ve})}};var Bo=Object.freeze({isValidParameter:st,isUpdatableParameter:Ae,isDeprecatedParameter:xe,argsToParams:b=>{const D={};return"object"!=typeof b[0]||Li(b[0])?["title","html","icon"].forEach((j,ve)=>{const ht=b[ve];"string"==typeof ht||Li(ht)?D[j]=ht:void 0!==ht&&le("Unexpected type of ".concat(j,'! Expected "string" or "Element", got ').concat(typeof ht))}):Object.assign(D,b[0]),D},isVisible:()=>pr(Ge()),clickConfirm:mi,clickDeny:()=>dn()&&dn().click(),clickCancel:()=>Rt()&&Rt().click(),getContainer:Oe,getPopup:Ge,getTitle:Be,getHtmlContainer:At,getImage:on,getIcon:ct,getInputLabel:()=>We(we["input-label"]),getCloseButton:yr,getActions:Qn,getConfirmButton:ft,getDenyButton:dn,getCancelButton:Rt,getLoader:sn,getFooter:Jn,getTimerProgressBar:Dn,getFocusableElements:Sn,getValidationMessage:Ot,isLoading:()=>Ge().hasAttribute("data-loading"),fire:function Vs(){const b=this;for(var D=arguments.length,j=new Array(D),ve=0;ve<D;ve++)j[ve]=arguments[ve];return new b(...j)},mixin:function bo(b){return class D extends(this){_main(ve,ht){return super._main(ve,Object.assign({},b,ht))}}},showLoading:Yr,enableLoading:Yr,getTimerLeft:()=>Ve.timeout&&Ve.timeout.getTimerLeft(),stopTimer:Do,resumeTimer:Ii,toggleTimer:()=>{const b=Ve.timeout;return b&&(b.running?Do():Ii())},increaseTimer:b=>{if(Ve.timeout){const D=Ve.timeout.increase(b);return qr(D,!0),D}},isTimerRunning:()=>Ve.timeout&&Ve.timeout.isRunning(),bindClickHandler:function Ts(){Uo[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Xi||(document.body.addEventListener("click",io),Xi=!0)}});function Nr(){const b=Wt.innerParams.get(this);if(!b)return;const D=Wt.domCache.get(this);Mt(D.loader),tr()?b.icon&&Bt(ct()):Co(D),an([D.popup,D.actions],we.loading),D.popup.removeAttribute("aria-busy"),D.popup.removeAttribute("data-loading"),D.confirmButton.disabled=!1,D.denyButton.disabled=!1,D.cancelButton.disabled=!1}const Co=b=>{const D=b.popup.getElementsByClassName(b.loader.getAttribute("data-button-to-replace"));D.length?Bt(D[0],"inline-block"):!pr(ft())&&!pr(dn())&&!pr(Rt())&&Mt(b.actions)};var Us={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};function Oa(b,D,j,ve){tr()?li(b,ve):(Nt(j).then(()=>li(b,ve)),Ve.keydownTarget.removeEventListener("keydown",Ve.keydownHandler,{capture:Ve.keydownListenerCapture}),Ve.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(D.setAttribute("style","display:none !important"),D.removeAttribute("class"),D.innerHTML=""):D.remove(),ur()&&(null!==ot.previousBodyPadding&&(document.body.style.paddingRight="".concat(ot.previousBodyPadding,"px"),ot.previousBodyPadding=null),(()=>{if(It(document.body,we.iosfix)){const b=parseInt(document.body.style.top,10);an(document.body,we.iosfix),document.body.style.top="",document.body.scrollTop=-1*b}})(),Le()),function $o(){an([document.documentElement,document.body],[we.shown,we["height-auto"],we["no-backdrop"],we["toast-shown"]])}()}function As(b){b=gs(b);const D=Us.swalPromiseResolve.get(this),j=so(this);this.isAwaitingPromise()?b.isDismissed||(yo(this),D(b)):j&&D(b)}const so=b=>{const D=Ge();if(!D)return!1;const j=Wt.innerParams.get(b);if(!j||It(D,j.hideClass.popup))return!1;an(D,j.showClass.popup),vt(D,j.hideClass.popup);const ve=Oe();return an(ve,j.showClass.backdrop),vt(ve,j.hideClass.backdrop),ia(b,D,j),!0};const yo=b=>{b.isAwaitingPromise()&&(Wt.awaitingPromise.delete(b),Wt.innerParams.get(b)||b._destroy())},gs=b=>void 0===b?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},b),ia=(b,D,j)=>{const ve=Oe(),ht=Cn&&Ar(D);"function"==typeof j.willClose&&j.willClose(D),ht?_u(b,D,ve,j.returnFocus,j.didClose):Oa(b,ve,j.returnFocus,j.didClose)},_u=(b,D,j,ve,ht)=>{Ve.swalCloseEventFinishedCallback=Oa.bind(null,b,j,ve,ht),D.addEventListener(Cn,function(gn){gn.target===D&&(Ve.swalCloseEventFinishedCallback(),delete Ve.swalCloseEventFinishedCallback)})},li=(b,D)=>{setTimeout(()=>{"function"==typeof D&&D.bind(b.params)(),b._destroy()})};function Ai(b,D,j){const ve=Wt.domCache.get(b);D.forEach(ht=>{ve[ht].disabled=j})}function Kr(b,D){if(!b)return!1;if("radio"===b.type){const ve=b.parentNode.parentNode.querySelectorAll("input");for(let ht=0;ht<ve.length;ht++)ve[ht].disabled=D}else b.disabled=D}const Wo=b=>{const D={};return Object.keys(b).forEach(j=>{Ae(j)?D[j]=b[j]:$('Invalid parameter to update: "'.concat(j,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))}),D};const Si=b=>{Mo(b),delete b.params,delete Ve.keydownHandler,delete Ve.keydownTarget,delete Ve.currentInstance},Mo=b=>{b.isAwaitingPromise()?(Vi(Wt,b),Wt.awaitingPromise.set(b,!0)):(Vi(Us,b),Vi(Wt,b))},Vi=(b,D)=>{for(const j in b)b[j].delete(D)};var Tr=Object.freeze({hideLoading:Nr,disableLoading:Nr,getInput:function jo(b){const D=Wt.innerParams.get(b||this),j=Wt.domCache.get(b||this);return j?bn(j.popup,D.input):null},close:As,isAwaitingPromise:function Ho(){return!!Wt.awaitingPromise.get(this)},rejectPromise:function To(b){const D=Us.swalPromiseReject.get(this);yo(this),D&&D(b)},closePopup:As,closeModal:As,closeToast:As,enableButtons:function Go(){Ai(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function oo(){Ai(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function Qa(){return Kr(this.getInput(),!1)},disableInput:function sa(){return Kr(this.getInput(),!0)},showValidationMessage:function Ao(b){const D=Wt.domCache.get(this),j=Wt.innerParams.get(this);Xt(D.validationMessage,b),D.validationMessage.className=we["validation-message"],j.customClass&&j.customClass.validationMessage&&vt(D.validationMessage,j.customClass.validationMessage),Bt(D.validationMessage);const ve=this.getInput();ve&&(ve.setAttribute("aria-invalid",!0),ve.setAttribute("aria-describedby",we["validation-message"]),oi(ve),vt(ve,we.inputerror))},resetValidationMessage:function Ja(){const b=Wt.domCache.get(this);b.validationMessage&&Mt(b.validationMessage);const D=this.getInput();D&&(D.removeAttribute("aria-invalid"),D.removeAttribute("aria-describedby"),an(D,we.inputerror))},getProgressSteps:function oa(){return Wt.domCache.get(this).progressSteps},update:function es(b){const D=Ge(),j=Wt.innerParams.get(this);if(!D||It(D,j.hideClass.popup))return $("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const ve=Wo(b),ht=Object.assign({},j,ve);ce(this,ht),Wt.innerParams.set(this,ht),Object.defineProperties(this,{params:{value:Object.assign({},this.params,b),writable:!1,enumerable:!0}})},_destroy:function So(){const b=Wt.domCache.get(this),D=Wt.innerParams.get(this);D?(b.popup&&Ve.swalCloseEventFinishedCallback&&(Ve.swalCloseEventFinishedCallback(),delete Ve.swalCloseEventFinishedCallback),Ve.deferDisposalTimer&&(clearTimeout(Ve.deferDisposalTimer),delete Ve.deferDisposalTimer),"function"==typeof D.didDestroy&&D.didDestroy(),Si(this)):Mo(this)}});let ao;class ms{constructor(){if("undefined"==typeof window)return;ao=this;for(var D=arguments.length,j=new Array(D),ve=0;ve<D;ve++)j[ve]=arguments[ve];const ht=Object.freeze(this.constructor.argsToParams(j));Object.defineProperties(this,{params:{value:ht,writable:!1,enumerable:!0,configurable:!0}});const gn=this._main(this.params);Wt.promise.set(this,gn)}_main(D){let j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(b=>{!b.backdrop&&b.allowOutsideClick&&$('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const D in b)ne(D),b.toast&&Re(D),Ue(D)})(Object.assign({},j,D)),Ve.currentInstance&&(Ve.currentInstance._destroy(),ur()&&Le()),Ve.currentInstance=this;const ve=xo(D,j);Ei(ve),Object.freeze(ve),Ve.timeout&&(Ve.timeout.stop(),delete Ve.timeout),clearTimeout(Ve.restoreFocusTimeout);const ht=zo(this);return ce(this,ve),Wt.innerParams.set(this,ve),ys(this,ht,ve)}then(D){return Wt.promise.get(this).then(D)}finally(D){return Wt.promise.get(this).finally(D)}}const ys=(b,D,j)=>new Promise((ve,ht)=>{const gn=ii=>{b.closePopup({isDismissed:!0,dismiss:ii})};Us.swalPromiseResolve.set(b,ve),Us.swalPromiseReject.set(b,ht),D.confirmButton.onclick=()=>(b=>{const D=Wt.innerParams.get(b);b.disableButtons(),D.input?P(b,"confirm"):Vt(b,!0)})(b),D.denyButton.onclick=()=>(b=>{const D=Wt.innerParams.get(b);b.disableButtons(),D.returnInputValueOnDeny?P(b,"deny"):me(b,!1)})(b),D.cancelButton.onclick=()=>((b,D)=>{b.disableButtons(),D(ue.cancel)})(b,gn),D.closeButton.onclick=()=>gn(ue.close),((b,D,j)=>{Wt.innerParams.get(b).toast?Bn(b,D,j):(Wr(D),ar(D),qt(b,D,j))})(b,D,gn),((b,D,j,ve)=>{D.keydownTarget&&D.keydownHandlerAdded&&(D.keydownTarget.removeEventListener("keydown",D.keydownHandler,{capture:D.keydownListenerCapture}),D.keydownHandlerAdded=!1),j.toast||(D.keydownHandler=ht=>je(b,ht,ve),D.keydownTarget=j.keydownListenerCapture?window:Ge(),D.keydownListenerCapture=j.keydownListenerCapture,D.keydownTarget.addEventListener("keydown",D.keydownHandler,{capture:D.keydownListenerCapture}),D.keydownHandlerAdded=!0)})(b,Ve,j,gn),((b,D)=>{"select"===D.input||"radio"===D.input?Ls(b,D):["text","email","number","tel","textarea"].includes(D.input)&&(oe(D.inputValue)||ee(D.inputValue))&&(Yr(ft()),Qi(b,D))})(b,j),Ns(j),_o(Ve,j,gn),Ko(D,j),setTimeout(()=>{D.container.scrollTop=0})}),xo=(b,D)=>{const j=(b=>{const D="string"==typeof b.template?document.querySelector(b.template):b.template;if(!D)return{};const j=D.content;return Tt(j),Object.assign(Vn(j),Dr(j),Te(j),Ce(j),Ye(j),lt(j,ut))})(b),ve=Object.assign({},ae,D,j,b);return ve.showClass=Object.assign({},ae.showClass,ve.showClass),ve.hideClass=Object.assign({},ae.hideClass,ve.hideClass),ve},zo=b=>{const D={popup:Ge(),container:Oe(),actions:Qn(),confirmButton:ft(),denyButton:dn(),cancelButton:Rt(),loader:sn(),closeButton:yr(),validationMessage:Ot(),progressSteps:kn()};return Wt.domCache.set(b,D),D},_o=(b,D,j)=>{const ve=Dn();Mt(ve),D.timer&&(b.timeout=new Ki(()=>{j("timer"),delete b.timeout},D.timer),D.timerProgressBar&&(Bt(ve),setTimeout(()=>{b.timeout&&b.timeout.running&&qr(D.timer)})))},Ko=(b,D)=>{if(!D.toast){if(!ge(D.allowEnterKey))return Di();aa(b,D)||x(0,-1,1)}},aa=(b,D)=>D.focusDeny&&pr(b.denyButton)?(b.denyButton.focus(),!0):D.focusCancel&&pr(b.cancelButton)?(b.cancelButton.focus(),!0):!(!D.focusConfirm||!pr(b.confirmButton)||(b.confirmButton.focus(),0)),Di=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};Object.assign(ms.prototype,Tr),Object.assign(ms,Bo),Object.keys(Tr).forEach(b=>{ms[b]=function(){if(ao)return ao[b](...arguments)}}),ms.DismissReason=ue,ms.version="11.3.10";const qo=ms;return qo.default=qo,qo}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(ie,S){var f=ie.createElement("style");if(ie.getElementsByTagName("head")[0].appendChild(f),f.styleSheet)f.styleSheet.disabled||(f.styleSheet.cssText=S);else try{f.innerHTML=S}catch(R){f.innerText=S}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;height:.25em;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .5s;animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .8s;animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-question-mark .8s;animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@-webkit-keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},5987:(Me,ie,S)=>{"use strict";function ge(Oe,Ne,We,Ge){return new(We||(We=Promise))(function(Be,At){function on(ft){try{Ot(Ge.next(ft))}catch(dn){At(dn)}}function kn(ft){try{Ot(Ge.throw(ft))}catch(dn){At(dn)}}function Ot(ft){ft.done?Be(ft.value):function ct(Be){return Be instanceof We?Be:new We(function(At){At(Be)})}(ft.value).then(on,kn)}Ot((Ge=Ge.apply(Oe,Ne||[])).next())})}function Ae(Oe){return this instanceof Ae?(this.v=Oe,this):new Ae(Oe)}function xe(Oe,Ne,We){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ct,Ge=We.apply(Oe,Ne||[]),Be=[];return ct={},At("next"),At("throw"),At("return"),ct[Symbol.asyncIterator]=function(){return this},ct;function At(Ht){Ge[Ht]&&(ct[Ht]=function(sn){return new Promise(function(Rt,Qn){Be.push([Ht,sn,Rt,Qn])>1||on(Ht,sn)})})}function on(Ht,sn){try{!function kn(Ht){Ht.value instanceof Ae?Promise.resolve(Ht.value.v).then(Ot,ft):dn(Be[0][2],Ht)}(Ge[Ht](sn))}catch(Rt){dn(Be[0][3],Rt)}}function Ot(Ht){on("next",Ht)}function ft(Ht){on("throw",Ht)}function dn(Ht,sn){Ht(sn),Be.shift(),Be.length&&on(Be[0][0],Be[0][1])}}function Re(Oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var We,Ne=Oe[Symbol.asyncIterator];return Ne?Ne.call(Oe):(Oe=function ae(Oe){var Ne="function"==typeof Symbol&&Symbol.iterator,We=Ne&&Oe[Ne],Ge=0;if(We)return We.call(Oe);if(Oe&&"number"==typeof Oe.length)return{next:function(){return Oe&&Ge>=Oe.length&&(Oe=void 0),{value:Oe&&Oe[Ge++],done:!Oe}}};throw new TypeError(Ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(Oe),We={},Ge("next"),Ge("throw"),Ge("return"),We[Symbol.asyncIterator]=function(){return this},We);function Ge(Be){We[Be]=Oe[Be]&&function(At){return new Promise(function(on,kn){!function ct(Be,At,on,kn){Promise.resolve(kn).then(function(Ot){Be({value:Ot,done:on})},At)}(on,kn,(At=Oe[Be](At)).done,At.value)})}}}S.d(ie,{mG:()=>ge,qq:()=>Ae,FC:()=>xe,KL:()=>Re})},9808:(Me,ie,S)=>{"use strict";S.d(ie,{mr:()=>ne,ez:()=>no,H9:()=>Zi,K0:()=>_e,Do:()=>Ue,V_:()=>J,Ye:()=>at,S$:()=>Ae,sg:()=>Pe,O5:()=>bt,b0:()=>Re,lw:()=>ge,EM:()=>Ls,JF:()=>wn,PM:()=>Fs,w_:()=>ye,bD:()=>ks,q:()=>$,Mx:()=>ti,HT:()=>re});var f=S(5e3);let R=null;function $(){return R}function re(N){R||(R=N)}class ye{}const _e=new f.OlP("DocumentToken");let ge=(()=>{class N{historyGo(P){throw new Error("Not implemented")}}return N.\u0275fac=function(P){return new(P||N)},N.\u0275prov=f.Yz7({token:N,factory:function(){return function oe(){return(0,f.LFG)(ee)}()},providedIn:"platform"}),N})();const J=new f.OlP("Location Initialized");let ee=(()=>{class N extends ge{constructor(P){super(),this._doc=P,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $().getBaseHref(this._doc)}onPopState(P){const K=$().getGlobalEventTarget(this._doc,"window");return K.addEventListener("popstate",P,!1),()=>K.removeEventListener("popstate",P)}onHashChange(P){const K=$().getGlobalEventTarget(this._doc,"window");return K.addEventListener("hashchange",P,!1),()=>K.removeEventListener("hashchange",P)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(P){this.location.pathname=P}pushState(P,K,me){ae()?this._history.pushState(P,K,me):this.location.hash=me}replaceState(P,K,me){ae()?this._history.replaceState(P,K,me):this.location.hash=me}forward(){this._history.forward()}back(){this._history.back()}historyGo(P=0){this._history.go(P)}getState(){return this._history.state}}return N.\u0275fac=function(P){return new(P||N)(f.LFG(_e))},N.\u0275prov=f.Yz7({token:N,factory:function(){return function $e(){return new ee((0,f.LFG)(_e))}()},providedIn:"platform"}),N})();function ae(){return!!window.history.pushState}function He(N,z){if(0==N.length)return z;if(0==z.length)return N;let P=0;return N.endsWith("/")&&P++,z.startsWith("/")&&P++,2==P?N+z.substring(1):1==P?N+z:N+"/"+z}function ze(N){const z=N.match(/#|\?|$/),P=z&&z.index||N.length;return N.slice(0,P-("/"===N[P-1]?1:0))+N.slice(P)}function st(N){return N&&"?"!==N[0]?"?"+N:N}let Ae=(()=>{class N{historyGo(P){throw new Error("Not implemented")}}return N.\u0275fac=function(P){return new(P||N)},N.\u0275prov=f.Yz7({token:N,factory:function(){return function xe(N){const z=(0,f.LFG)(_e).location;return new Re((0,f.LFG)(ge),z&&z.origin||"")}()},providedIn:"root"}),N})();const ne=new f.OlP("appBaseHref");let Re=(()=>{class N extends Ae{constructor(P,K){if(super(),this._platformLocation=P,this._removeListenerFns=[],null==K&&(K=this._platformLocation.getBaseHrefFromDOM()),null==K)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=K}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}prepareExternalUrl(P){return He(this._baseHref,P)}path(P=!1){const K=this._platformLocation.pathname+st(this._platformLocation.search),me=this._platformLocation.hash;return me&&P?`${K}${me}`:K}pushState(P,K,me,tt){const pt=this.prepareExternalUrl(me+st(tt));this._platformLocation.pushState(P,K,pt)}replaceState(P,K,me,tt){const pt=this.prepareExternalUrl(me+st(tt));this._platformLocation.replaceState(P,K,pt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(P=0){var K,me;null===(me=(K=this._platformLocation).historyGo)||void 0===me||me.call(K,P)}}return N.\u0275fac=function(P){return new(P||N)(f.LFG(ge),f.LFG(ne,8))},N.\u0275prov=f.Yz7({token:N,factory:N.\u0275fac}),N})(),Ue=(()=>{class N extends Ae{constructor(P,K){super(),this._platformLocation=P,this._baseHref="",this._removeListenerFns=[],null!=K&&(this._baseHref=K)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}path(P=!1){let K=this._platformLocation.hash;return null==K&&(K="#"),K.length>0?K.substring(1):K}prepareExternalUrl(P){const K=He(this._baseHref,P);return K.length>0?"#"+K:K}pushState(P,K,me,tt){let pt=this.prepareExternalUrl(me+st(tt));0==pt.length&&(pt=this._platformLocation.pathname),this._platformLocation.pushState(P,K,pt)}replaceState(P,K,me,tt){let pt=this.prepareExternalUrl(me+st(tt));0==pt.length&&(pt=this._platformLocation.pathname),this._platformLocation.replaceState(P,K,pt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(P=0){var K,me;null===(me=(K=this._platformLocation).historyGo)||void 0===me||me.call(K,P)}}return N.\u0275fac=function(P){return new(P||N)(f.LFG(ge),f.LFG(ne,8))},N.\u0275prov=f.Yz7({token:N,factory:N.\u0275fac}),N})(),at=(()=>{class N{constructor(P,K){this._subject=new f.vpe,this._urlChangeListeners=[],this._platformStrategy=P;const me=this._platformStrategy.getBaseHref();this._platformLocation=K,this._baseHref=ze(we(me)),this._platformStrategy.onPopState(tt=>{this._subject.emit({url:this.path(!0),pop:!0,state:tt.state,type:tt.type})})}path(P=!1){return this.normalize(this._platformStrategy.path(P))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(P,K=""){return this.path()==this.normalize(P+st(K))}normalize(P){return N.stripTrailingSlash(function Et(N,z){return N&&z.startsWith(N)?z.substring(N.length):z}(this._baseHref,we(P)))}prepareExternalUrl(P){return P&&"/"!==P[0]&&(P="/"+P),this._platformStrategy.prepareExternalUrl(P)}go(P,K="",me=null){this._platformStrategy.pushState(me,"",P,K),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+st(K)),me)}replaceState(P,K="",me=null){this._platformStrategy.replaceState(me,"",P,K),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+st(K)),me)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(P=0){var K,me;null===(me=(K=this._platformStrategy).historyGo)||void 0===me||me.call(K,P)}onUrlChange(P){this._urlChangeListeners.push(P),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(K=>{this._notifyUrlChangeListeners(K.url,K.state)}))}_notifyUrlChangeListeners(P="",K){this._urlChangeListeners.forEach(me=>me(P,K))}subscribe(P,K,me){return this._subject.subscribe({next:P,error:K,complete:me})}}return N.normalizeQueryParams=st,N.joinWithSlash=He,N.stripTrailingSlash=ze,N.\u0275fac=function(P){return new(P||N)(f.LFG(Ae),f.LFG(ge))},N.\u0275prov=f.Yz7({token:N,factory:function(){return function Ke(){return new at((0,f.LFG)(Ae),(0,f.LFG)(ge))}()},providedIn:"root"}),N})();function we(N){return N.replace(/\/index.html$/,"")}const nt={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Oe=(()=>((Oe=Oe||{})[Oe.Decimal=0]="Decimal",Oe[Oe.Percent=1]="Percent",Oe[Oe.Currency=2]="Currency",Oe[Oe.Scientific=3]="Scientific",Oe))(),Ne=(()=>((Ne=Ne||{})[Ne.Zero=0]="Zero",Ne[Ne.One=1]="One",Ne[Ne.Two=2]="Two",Ne[Ne.Few=3]="Few",Ne[Ne.Many=4]="Many",Ne[Ne.Other=5]="Other",Ne))(),Be=(()=>((Be=Be||{})[Be.Decimal=0]="Decimal",Be[Be.Group=1]="Group",Be[Be.List=2]="List",Be[Be.PercentSign=3]="PercentSign",Be[Be.PlusSign=4]="PlusSign",Be[Be.MinusSign=5]="MinusSign",Be[Be.Exponential=6]="Exponential",Be[Be.SuperscriptingExponent=7]="SuperscriptingExponent",Be[Be.PerMille=8]="PerMille",Be[Be.Infinity=9]="Infinity",Be[Be.NaN=10]="NaN",Be[Be.TimeSeparator=11]="TimeSeparator",Be[Be.CurrencyDecimal=12]="CurrencyDecimal",Be[Be.CurrencyGroup=13]="CurrencyGroup",Be))();function Dn(N,z){const P=(0,f.cg1)(N),K=P[f.wAp.NumberSymbols][z];if(void 0===K){if(z===Be.CurrencyDecimal)return P[f.wAp.NumberSymbols][Be.Decimal];if(z===Be.CurrencyGroup)return P[f.wAp.NumberSymbols][Be.Group]}return K}const Fn=f.kL8;const wr=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Tn(N,z,P,K,me){const pt=function Nn(N,z="-"){const P={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},K=N.split(";"),me=K[0],tt=K[1],pt=-1!==me.indexOf(".")?me.split("."):[me.substring(0,me.lastIndexOf("0")+1),me.substring(me.lastIndexOf("0")+1)],Vt=pt[0],yn=pt[1]||"";P.posPre=Vt.substr(0,Vt.indexOf("#"));for(let vr=0;vr<yn.length;vr++){const pn=yn.charAt(vr);"0"===pn?P.minFrac=P.maxFrac=vr+1:"#"===pn?P.maxFrac=vr+1:P.posSuf+=pn}const Bn=Vt.split(",");if(P.gSize=Bn[1]?Bn[1].length:0,P.lgSize=Bn[2]||Bn[1]?(Bn[2]||Bn[1]).length:0,tt){const vr=me.length-P.posPre.length-P.posSuf.length,pn=tt.indexOf("#");P.negPre=tt.substr(0,pn).replace(/'/g,""),P.negSuf=tt.substr(pn+vr).replace(/'/g,"")}else P.negPre=z+P.posPre,P.negSuf=P.posSuf;return P}(function yr(N,z){return(0,f.cg1)(N)[f.wAp.NumberFormats][z]}(z,Oe.Currency),Dn(z,Be.MinusSign));return pt.minFrac=function vt(N){let z;const P=nt[N];return P&&(z=P[2]),"number"==typeof z?z:2}(K),pt.maxFrac=pt.minFrac,function Lr(N,z,P,K,me,tt,pt=!1){let Vt="",yn=!1;if(isFinite(N)){let Bn=function br(N){let K,me,tt,pt,Vt,z=Math.abs(N)+"",P=0;for((me=z.indexOf("."))>-1&&(z=z.replace(".","")),(tt=z.search(/e/i))>0?(me<0&&(me=tt),me+=+z.slice(tt+1),z=z.substring(0,tt)):me<0&&(me=z.length),tt=0;"0"===z.charAt(tt);tt++);if(tt===(Vt=z.length))K=[0],me=1;else{for(Vt--;"0"===z.charAt(Vt);)Vt--;for(me-=tt,K=[],pt=0;tt<=Vt;tt++,pt++)K[pt]=Number(z.charAt(tt))}return me>22&&(K=K.splice(0,21),P=me-1,me=1),{digits:K,exponent:P,integerLen:me}}(N);pt&&(Bn=function cr(N){if(0===N.digits[0])return N;const z=N.digits.length-N.integerLen;return N.exponent?N.exponent+=2:(0===z?N.digits.push(0,0):1===z&&N.digits.push(0),N.integerLen+=2),N}(Bn));let vr=z.minInt,pn=z.minFrac,Wr=z.maxFrac;if(tt){const cs=tt.match(wr);if(null===cs)throw new Error(`${tt} is not a valid digit info`);const L=cs[1],x=cs[3],A=cs[5];null!=L&&(vr=xr(L)),null!=x&&(pn=xr(x)),null!=A?Wr=xr(A):null!=x&&pn>Wr&&(Wr=pn)}!function $n(N,z,P){if(z>P)throw new Error(`The minimum number of digits after fraction (${z}) is higher than the maximum (${P}).`);let K=N.digits,me=K.length-N.integerLen;const tt=Math.min(Math.max(z,me),P);let pt=tt+N.integerLen,Vt=K[pt];if(pt>0){K.splice(Math.max(N.integerLen,pt));for(let pn=pt;pn<K.length;pn++)K[pn]=0}else{me=Math.max(0,me),N.integerLen=1,K.length=Math.max(1,pt=tt+1),K[0]=0;for(let pn=1;pn<pt;pn++)K[pn]=0}if(Vt>=5)if(pt-1<0){for(let pn=0;pn>pt;pn--)K.unshift(0),N.integerLen++;K.unshift(1),N.integerLen++}else K[pt-1]++;for(;me<Math.max(0,tt);me++)K.push(0);let yn=0!==tt;const Bn=z+N.integerLen,vr=K.reduceRight(function(pn,Wr,ar,qt){return qt[ar]=(Wr+=pn)<10?Wr:Wr-10,yn&&(0===qt[ar]&&ar>=Bn?qt.pop():yn=!1),Wr>=10?1:0},0);vr&&(K.unshift(vr),N.integerLen++)}(Bn,pn,Wr);let ar=Bn.digits,qt=Bn.integerLen;const ri=Bn.exponent;let mi=[];for(yn=ar.every(cs=>!cs);qt<vr;qt++)ar.unshift(0);for(;qt<0;qt++)ar.unshift(0);qt>0?mi=ar.splice(qt,ar.length):(mi=ar,ar=[0]);const Ti=[];for(ar.length>=z.lgSize&&Ti.unshift(ar.splice(-z.lgSize,ar.length).join(""));ar.length>z.gSize;)Ti.unshift(ar.splice(-z.gSize,ar.length).join(""));ar.length&&Ti.unshift(ar.join("")),Vt=Ti.join(Dn(P,K)),mi.length&&(Vt+=Dn(P,me)+mi.join("")),ri&&(Vt+=Dn(P,Be.Exponential)+"+"+ri)}else Vt=Dn(P,Be.Infinity);return Vt=N<0&&!yn?z.negPre+Vt+z.negSuf:z.posPre+Vt+z.posSuf,Vt}(N,pt,z,Be.CurrencyGroup,Be.CurrencyDecimal,me).replace("\xa4",P).replace("\xa4","").trim()}function xr(N){const z=parseInt(N);if(isNaN(z))throw new Error("Invalid integer literal when parsing "+N);return z}class hn{}let ir=(()=>{class N extends hn{constructor(P){super(),this.locale=P}getPluralCategory(P,K){switch(Fn(K||this.locale)(P)){case Ne.Zero:return"zero";case Ne.One:return"one";case Ne.Two:return"two";case Ne.Few:return"few";case Ne.Many:return"many";default:return"other"}}}return N.\u0275fac=function(P){return new(P||N)(f.LFG(f.soG))},N.\u0275prov=f.Yz7({token:N,factory:N.\u0275fac}),N})();function ti(N,z){z=encodeURIComponent(z);for(const P of N.split(";")){const K=P.indexOf("="),[me,tt]=-1==K?[P,""]:[P.slice(0,K),P.slice(K+1)];if(me.trim()===z)return decodeURIComponent(tt)}return null}class Je{constructor(z,P,K,me){this.$implicit=z,this.ngForOf=P,this.index=K,this.count=me}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Pe=(()=>{class N{constructor(P,K,me){this._viewContainer=P,this._template=K,this._differs=me,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(P){this._ngForOf=P,this._ngForOfDirty=!0}set ngForTrackBy(P){this._trackByFn=P}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(P){P&&(this._template=P)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const P=this._ngForOf;!this._differ&&P&&(this._differ=this._differs.find(P).create(this.ngForTrackBy))}if(this._differ){const P=this._differ.diff(this._ngForOf);P&&this._applyChanges(P)}}_applyChanges(P){const K=this._viewContainer;P.forEachOperation((me,tt,pt)=>{if(null==me.previousIndex)K.createEmbeddedView(this._template,new Je(me.item,this._ngForOf,-1,-1),null===pt?void 0:pt);else if(null==pt)K.remove(null===tt?void 0:tt);else if(null!==tt){const Vt=K.get(tt);K.move(Vt,pt),Qe(Vt,me)}});for(let me=0,tt=K.length;me<tt;me++){const Vt=K.get(me).context;Vt.index=me,Vt.count=tt,Vt.ngForOf=this._ngForOf}P.forEachIdentityChange(me=>{Qe(K.get(me.currentIndex),me)})}static ngTemplateContextGuard(P,K){return!0}}return N.\u0275fac=function(P){return new(P||N)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},N.\u0275dir=f.lG2({type:N,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),N})();function Qe(N,z){N.context.$implicit=z.item}let bt=(()=>{class N{constructor(P,K){this._viewContainer=P,this._context=new Lt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=K}set ngIf(P){this._context.$implicit=this._context.ngIf=P,this._updateView()}set ngIfThen(P){sr("ngIfThen",P),this._thenTemplateRef=P,this._thenViewRef=null,this._updateView()}set ngIfElse(P){sr("ngIfElse",P),this._elseTemplateRef=P,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(P,K){return!0}}return N.\u0275fac=function(P){return new(P||N)(f.Y36(f.s_b),f.Y36(f.Rgc))},N.\u0275dir=f.lG2({type:N,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),N})();class Lt{constructor(){this.$implicit=null,this.ngIf=null}}function sr(N,z){if(z&&!z.createEmbeddedView)throw new Error(`${N} must be a TemplateRef, but received '${(0,f.AaK)(z)}'.`)}let Zi=(()=>{class N{constructor(P,K="USD"){this._locale=P,this._defaultCurrencyCode=K}transform(P,K=this._defaultCurrencyCode,me="symbol",tt,pt){if(!function as(N){return!(null==N||""===N||N!=N)}(P))return null;pt=pt||this._locale,"boolean"==typeof me&&(me=me?"symbol":"code");let Vt=K||this._defaultCurrencyCode;"code"!==me&&(Vt="symbol"===me||"symbol-narrow"===me?function oi(N,z,P="en"){const K=function tr(N){return(0,f.cg1)(N)[f.wAp.Currencies]}(P)[N]||nt[N]||[],me=K[1];return"narrow"===z&&"string"==typeof me?me:K[0]||N}(Vt,"symbol"===me?"wide":"narrow",pt):me);try{return Tn(function ui(N){if("string"==typeof N&&!isNaN(Number(N)-parseFloat(N)))return Number(N);if("number"!=typeof N)throw new Error(`${N} is not a number`);return N}(P),pt,Vt,K,tt)}catch(yn){throw function Gt(N,z){return new f.vHH(2100,"")}()}}}return N.\u0275fac=function(P){return new(P||N)(f.Y36(f.soG,16),f.Y36(f.EJc,16))},N.\u0275pipe=f.Yjl({name:"currency",type:N,pure:!0}),N})();let no=(()=>{class N{}return N.\u0275fac=function(P){return new(P||N)},N.\u0275mod=f.oAB({type:N}),N.\u0275inj=f.cJS({providers:[{provide:hn,useClass:ir}]}),N})();const ks="browser";function Fs(N){return"server"===N}let Ls=(()=>{class N{}return N.\u0275prov=(0,f.Yz7)({token:N,providedIn:"root",factory:()=>new Qi((0,f.LFG)(_e),window)}),N})();class Qi{constructor(z,P){this.document=z,this.window=P,this.offset=()=>[0,0]}setOffset(z){this.offset=Array.isArray(z)?()=>z:z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(z){this.supportsScrolling()&&this.window.scrollTo(z[0],z[1])}scrollToAnchor(z){if(!this.supportsScrolling())return;const P=function ki(N,z){const P=N.getElementById(z)||N.getElementsByName(z)[0];if(P)return P;if("function"==typeof N.createTreeWalker&&N.body&&(N.body.createShadowRoot||N.body.attachShadow)){const K=N.createTreeWalker(N.body,NodeFilter.SHOW_ELEMENT);let me=K.currentNode;for(;me;){const tt=me.shadowRoot;if(tt){const pt=tt.getElementById(z)||tt.querySelector(`[name="${z}"]`);if(pt)return pt}me=K.nextNode()}}return null}(this.document,z);P&&(this.scrollToElement(P),this.attemptFocus(P))}setHistoryScrollRestoration(z){if(this.supportScrollRestoration()){const P=this.window.history;P&&P.scrollRestoration&&(P.scrollRestoration=z)}}scrollToElement(z){const P=z.getBoundingClientRect(),K=P.left+this.window.pageXOffset,me=P.top+this.window.pageYOffset,tt=this.offset();this.window.scrollTo(K-tt[0],me-tt[1])}attemptFocus(z){return z.focus(),this.document.activeElement===z}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const z=or(this.window.history)||or(Object.getPrototypeOf(this.window.history));return!(!z||!z.writable&&!z.set)}catch(z){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(z){return!1}}}function or(N){return Object.getOwnPropertyDescriptor(N,"scrollRestoration")}class wn{}},5e3:(Me,ie,S)=>{"use strict";S.d(ie,{deG:()=>Ln,tb:()=>Nw,AFp:()=>Ow,ip1:()=>O_,CZH:()=>nf,hGG:()=>sI,z2F:()=>ig,sBO:()=>kb,Sil:()=>P_,_Vd:()=>Qp,EJc:()=>Fw,SBq:()=>Jp,qLn:()=>Ea,vpe:()=>fc,tBr:()=>Xs,XFs:()=>It,OlP:()=>Hn,zs3:()=>Aa,ZZ4:()=>zm,aQg:()=>Km,soG:()=>Gm,YKP:()=>zv,h0i:()=>Xh,PXZ:()=>Ab,R0b:()=>Za,FiY:()=>eo,Lbi:()=>Pw,g9A:()=>Rw,Qsj:()=>uE,FYo:()=>jv,JOm:()=>Xr,tp0:()=>Gs,Rgc:()=>ng,dDg:()=>Uw,q4F:()=>Hv,GfV:()=>$v,s_b:()=>Bm,ifc:()=>Bt,eFA:()=>$w,G48:()=>Nb,Gpc:()=>ee,X6Q:()=>Pb,_c5:()=>Jb,VLi:()=>Db,c2e:()=>kw,zSh:()=>Ah,wAp:()=>Xe,vHH:()=>ze,cg1:()=>H,kL8:()=>pe,dqk:()=>en,sIi:()=>Id,CqO:()=>Ip,QGY:()=>Ep,F4k:()=>bp,RDi:()=>Ni,AaK:()=>ge,qOj:()=>Nh,TTD:()=>as,_Bn:()=>Vv,xp6:()=>El,uIk:()=>dp,ekj:()=>kp,Suo:()=>lw,Xpm:()=>zn,lG2:()=>Sr,Yz7:()=>Rt,cJS:()=>Jn,oAB:()=>Fr,Yjl:()=>Cn,Y36:()=>Rl,_UZ:()=>Nl,qZA:()=>$h,TgZ:()=>Pl,EpF:()=>Ou,n5z:()=>si,LFG:()=>On,$8M:()=>vs,$Z:()=>jh,NdJ:()=>jc,CRH:()=>dw,oxw:()=>Cp,ALo:()=>tw,lcZ:()=>nw,gM2:()=>rw,Q6J:()=>xd,iGM:()=>cw,CHM:()=>Zt,LSH:()=>Wu,YNc:()=>pp,_uU:()=>Bp,Oqu:()=>Kh,hij:()=>cc});var f=S(7579),R=S(727),$=S(8306),le=S(6451),re=S(3099);function ye(t){for(let n in t)if(t[n]===ye)return n;throw Error("Could not find renamed property on target object.")}function _e(t,n){for(const s in n)n.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=n[s])}function ge(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ge).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const s=n.indexOf("\n");return-1===s?n:n.substring(0,s)}function oe(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const J=ye({__forward_ref__:ye});function ee(t){return t.__forward_ref__=ee,t.toString=function(){return ge(this())},t}function ae(t){return $e(t)?t():t}function $e(t){return"function"==typeof t&&t.hasOwnProperty(J)&&t.__forward_ref__===ee}class ze extends Error{constructor(n,s){super(function st(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,s)),this.code=n}}function Ae(t){return"string"==typeof t?t:null==t?"":String(t)}function xe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ae(t)}function at(t,n){const s=n?` in ${n}`:"";throw new ze(-201,`No provider for ${xe(t)} found${s}`)}function Ot(t,n){null==t&&function ft(t,n,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${n} <=Actual]`))}(n,t,null,"!=")}function Rt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Jn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Dn(t){return yr(t,tr)||yr(t,ot)}function yr(t,n){return t.hasOwnProperty(n)?t[n]:null}function ur(t){return t&&(t.hasOwnProperty(Fn)||t.hasOwnProperty(Xt))?t[Fn]:null}const tr=ye({\u0275prov:ye}),Fn=ye({\u0275inj:ye}),ot=ye({ngInjectableDef:ye}),Xt=ye({ngInjectorDef:ye});var It=(()=>((It=It||{})[It.Default=0]="Default",It[It.Host=1]="Host",It[It.Self=2]="Self",It[It.SkipSelf=4]="SkipSelf",It[It.Optional=8]="Optional",It))();let jn;function bn(t){const n=jn;return jn=t,n}function oi(t,n,s){const a=Dn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&It.Optional?null:void 0!==n?n:void at(ge(t),"Injector")}function vt(t){return{toString:t}.toString()}var an=(()=>((an=an||{})[an.OnPush=0]="OnPush",an[an.Default=1]="Default",an))(),Bt=(()=>{return(t=Bt||(Bt={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Bt;var t})();const Mt="undefined"!=typeof globalThis&&globalThis,$t="undefined"!=typeof window&&window,wi="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,en=Mt||"undefined"!=typeof global&&global||$t||wi,qr={},fe=[],De=ye({\u0275cmp:ye}),be=ye({\u0275dir:ye}),Ve=ye({\u0275pipe:ye}),Ze=ye({\u0275mod:ye}),Nt=ye({\u0275fac:ye}),Ut=ye({__NG_ELEMENT_ID__:ye});let Mn=0;function zn(t){return vt(()=>{const s={},a={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===an.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||fe,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Bt.Emulated,id:"c",styles:t.styles||fe,_:null,setInput:null,schemas:t.schemas||null,tView:null},c=t.directives,h=t.features,m=t.pipes;return a.id+=Mn++,a.inputs=cn(t.inputs,s),a.outputs=cn(t.outputs),h&&h.forEach(E=>E(a)),a.directiveDefs=c?()=>("function"==typeof c?c():c).map(Pr):null,a.pipeDefs=m?()=>("function"==typeof m?m():m).map(In):null,a})}function Pr(t){return Xn(t)||function wr(t){return t[be]||null}(t)}function In(t){return function _r(t){return t[Ve]||null}(t)}const lr={};function Fr(t){return vt(()=>{const n={type:t.type,bootstrap:t.bootstrap||fe,declarations:t.declarations||fe,imports:t.imports||fe,exports:t.exports||fe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(lr[t.id]=t.type),n})}function cn(t,n){if(null==t)return qr;const s={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),s[c]=a,n&&(n[c]=h)}return s}const Sr=zn;function Cn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Xn(t){return t[De]||null}function nr(t,n){const s=t[Ze]||null;if(!s&&!0===n)throw new Error(`Type ${ge(t)} does not have '\u0275mod' property.`);return s}function rr(t){return Array.isArray(t)&&"object"==typeof t[1]}function An(t){return Array.isArray(t)&&!0===t[1]}function Zr(t){return 0!=(8&t.flags)}function Ir(t){return 2==(2&t.flags)}function ce(t){return 1==(1&t.flags)}function ue(t){return null!==t.template}function te(t){return 0!=(512&t[2])}function os(t,n){return t.hasOwnProperty(Nt)?t[Nt]:null}class Zi{constructor(n,s,a){this.previousValue=n,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function as(){return ui}function ui(t){return t.type.prototype.ngOnChanges&&(t.setInput=ni),Ns}function Ns(){const t=ks(this),n=null==t?void 0:t.current;if(n){const s=t.previous;if(s===qr)t.previous=n;else for(let a in n)s[a]=n[a];t.current=null,this.ngOnChanges(n)}}function ni(t,n,s,a){const c=ks(t)||function ci(t,n){return t[no]=n}(t,{previous:qr,current:null}),h=c.current||(c.current={}),m=c.previous,E=this.declaredInputs[s],T=m[E];h[E]=new Zi(T&&T.currentValue,n,m===qr),t[a]=n}as.ngInherit=!0;const no="__ngSimpleChanges__";function ks(t){return t[no]||null}let us;function Ni(t){us=t}function or(t){return!!t.listen}const ki={createRenderer:(t,n)=>function Ls(){return void 0!==us?us:"undefined"!=typeof document?document:void 0}()};function wn(t){for(;Array.isArray(t);)t=t[0];return t}function P(t,n){return wn(n[t])}function K(t,n){return wn(n[t.index])}function tt(t,n){return t.data[n]}function pt(t,n){return t[n]}function Vt(t,n){const s=n[t];return rr(s)?s:s[0]}function yn(t){return 4==(4&t[2])}function Bn(t){return 128==(128&t[2])}function pn(t,n){return null==n?null:t[n]}function Wr(t){t[18]=0}function ar(t,n){t[5]+=n;let s=t,a=t[3];for(;null!==a&&(1===n&&1===s[5]||-1===n&&0===s[5]);)a[5]+=n,s=a,a=a[3]}const qt={lFrame:so(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function L(){return qt.bindingsEnabled}function U(){return qt.lFrame.lView}function je(){return qt.lFrame.tView}function Zt(t){return qt.lFrame.contextLView=t,t[8]}function En(){let t=Ur();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ur(){return qt.lFrame.currentTNode}function zr(t,n){const s=qt.lFrame;s.currentTNode=t,s.isParent=n}function Li(){return qt.lFrame.isParent}function Io(){return qt.isInCheckNoChangesMode}function Do(t){qt.isInCheckNoChangesMode=t}function Ii(){const t=qt.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Cs(){return qt.lFrame.bindingIndex++}function io(t,n){const s=qt.lFrame;s.bindingIndex=s.bindingRootIndex=t,Nr(n)}function Nr(t){qt.lFrame.currentDirectiveIndex=t}function jo(){return qt.lFrame.currentQueryIndex}function Us(t){qt.lFrame.currentQueryIndex=t}function Oa(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function $o(t,n,s){if(s&It.SkipSelf){let c=n,h=t;for(;!(c=c.parent,null!==c||s&It.Host||(c=Oa(h),null===c||(h=h[15],10&c.type))););if(null===c)return!1;n=c,t=h}const a=qt.lFrame=Ho();return a.currentTNode=n,a.lView=t,!0}function As(t){const n=Ho(),s=t[1];qt.lFrame=n,n.currentTNode=s.firstChild,n.lView=t,n.tView=s,n.contextLView=t,n.bindingIndex=s.bindingStartIndex,n.inI18n=!1}function Ho(){const t=qt.lFrame,n=null===t?null:t.child;return null===n?so(t):n}function so(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function To(){const t=qt.lFrame;return qt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const yo=To;function gs(){const t=To();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function li(){return qt.lFrame.selectedIndex}function Ai(t){qt.lFrame.selectedIndex=t}function Kr(){const t=qt.lFrame;return tt(t.tView,t.selectedIndex)}function oa(t,n){for(let s=n.directiveStart,a=n.directiveEnd;s<a;s++){const h=t.data[s].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:E,ngAfterViewInit:T,ngAfterViewChecked:B,ngOnDestroy:W}=h;m&&(t.contentHooks||(t.contentHooks=[])).push(-s,m),E&&((t.contentHooks||(t.contentHooks=[])).push(s,E),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,E)),T&&(t.viewHooks||(t.viewHooks=[])).push(-s,T),B&&((t.viewHooks||(t.viewHooks=[])).push(s,B),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,B)),null!=W&&(t.destroyHooks||(t.destroyHooks=[])).push(s,W)}}function es(t,n,s){Si(t,n,3,s)}function Wo(t,n,s,a){(3&t[2])===s&&Si(t,n,s,a)}function So(t,n){let s=t[2];(3&s)===n&&(s&=2047,s+=1,t[2]=s)}function Si(t,n,s,a){const h=null!=a?a:-1,m=n.length-1;let E=0;for(let T=void 0!==a?65535&t[18]:0;T<m;T++)if("number"==typeof n[T+1]){if(E=n[T],null!=a&&E>=a)break}else n[T]<0&&(t[18]+=65536),(E<h||-1==h)&&(Mo(t,s,n,T),t[18]=(4294901760&t[18])+T+2),T++}function Mo(t,n,s,a){const c=s[a]<0,h=s[a+1],E=t[c?-s[a]:s[a]];if(c){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{h.call(E)}finally{}}}else try{h.call(E)}finally{}}class Tr{constructor(n,s,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Di(t,n,s){const a=or(t);let c=0;for(;c<s.length;){const h=s[c];if("number"==typeof h){if(0!==h)break;c++;const m=s[c++],E=s[c++],T=s[c++];a?t.setAttribute(n,E,T,m):n.setAttributeNS(m,E,T)}else{const m=h,E=s[++c];b(m)?a&&t.setProperty(n,m,E):a?t.setAttribute(n,m,E):n.setAttribute(m,E),c++}}return c}function qo(t){return 3===t||4===t||6===t}function b(t){return 64===t.charCodeAt(0)}function D(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let s=-1;for(let a=0;a<n.length;a++){const c=n[a];"number"==typeof c?s=c:0===s||j(t,s,c,null,-1===s||2===s?n[++a]:null)}}return t}function j(t,n,s,a,c){let h=0,m=t.length;if(-1===n)m=-1;else for(;h<t.length;){const E=t[h++];if("number"==typeof E){if(E===n){m=-1;break}if(E>n){m=h-1;break}}}for(;h<t.length;){const E=t[h];if("number"==typeof E)break;if(E===s){if(null===a)return void(null!==c&&(t[h+1]=c));if(a===t[h+1])return void(t[h+2]=c)}h++,null!==a&&h++,null!==c&&h++}-1!==m&&(t.splice(m,0,n),h=m+1),t.splice(h++,0,s),null!==a&&t.splice(h++,0,a),null!==c&&t.splice(h++,0,c)}function ve(t){return-1!==t}function ht(t){return 32767&t}function ii(t,n){let s=function gn(t){return t>>16}(t),a=n;for(;s>0;)a=a[15],s--;return a}let Ui=!0;function fi(t){const n=Ui;return Ui=t,n}let yi=0;function js(t,n){const s=Ra(t,n);if(-1!==s)return s;const a=n[1];a.firstCreatePass&&(t.injectorIndex=n.length,la(a.data,t),la(n,null),la(a.blueprint,null));const c=St(t,n),h=t.injectorIndex;if(ve(c)){const m=ht(c),E=ii(c,n),T=E[1].data;for(let B=0;B<8;B++)n[h+B]=E[m+B]|T[m+B]}return n[h+8]=c,h}function la(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Ra(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function St(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,c=n;for(;null!==c;){const h=c[1],m=h.type;if(a=2===m?h.declTNode:1===m?c[6]:null,null===a)return-1;if(s++,c=c[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function I(t,n,s){!function ca(t,n,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Ut)&&(a=s[Ut]),null==a&&(a=s[Ut]=yi++);const c=255&a;n.data[t+(c>>5)]|=1<<c}(t,n,s)}function _(t,n,s){if(s&It.Optional)return t;at(n,"NodeInjector")}function C(t,n,s,a){if(s&It.Optional&&void 0===a&&(a=null),0==(s&(It.Self|It.Host))){const c=t[9],h=bn(void 0);try{return c?c.get(n,a,s&It.Optional):oi(n,a,s&It.Optional)}finally{bn(h)}}return _(a,n,s)}function k(t,n,s,a=It.Default,c){if(null!==t){const h=function Gn(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Ut)?t[Ut]:void 0;return"number"==typeof n?n>=0?255&n:Q:n}(s);if("function"==typeof h){if(!$o(n,t,a))return a&It.Host?_(c,s,a):C(n,s,a,c);try{const m=h(a);if(null!=m||a&It.Optional)return m;at(s)}finally{yo()}}else if("number"==typeof h){let m=null,E=Ra(t,n),T=-1,B=a&It.Host?n[16][6]:null;for((-1===E||a&It.SkipSelf)&&(T=-1===E?St(t,n):n[E+8],-1!==T&&dr(a,!1)?(m=n[1],E=ht(T),n=ii(T,n)):E=-1);-1!==E;){const W=n[1];if(mn(h,E,W.data)){const se=Y(E,n,s,m,a,B);if(se!==q)return se}T=n[E+8],-1!==T&&dr(a,n[1].data[E+8]===B)&&mn(h,E,n)?(m=W,E=ht(T),n=ii(T,n)):E=-1}}}return C(n,s,a,c)}const q={};function Q(){return new gr(En(),U())}function Y(t,n,s,a,c,h){const m=n[1],E=m.data[t+8],W=Ee(E,m,s,null==a?Ir(E)&&Ui:a!=m&&0!=(3&E.type),c&It.Host&&h===E);return null!==W?Ct(n,m,W,E):q}function Ee(t,n,s,a,c){const h=t.providerIndexes,m=n.data,E=1048575&h,T=t.directiveStart,W=h>>20,Se=c?E+W:t.directiveEnd;for(let qe=a?E:E+W;qe<Se;qe++){const dt=m[qe];if(qe<T&&s===dt||qe>=T&&dt.type===s)return qe}if(c){const qe=m[T];if(qe&&ue(qe)&&qe.type===s)return T}return null}function Ct(t,n,s,a){let c=t[s];const h=n.data;if(function ao(t){return t instanceof Tr}(c)){const m=c;m.resolving&&function ne(t,n){const s=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new ze(-200,`Circular dependency in DI detected for ${t}${s}`)}(xe(h[s]));const E=fi(m.canSeeViewProviders);m.resolving=!0;const T=m.injectImpl?bn(m.injectImpl):null;$o(t,a,It.Default);try{c=t[s]=m.factory(void 0,h,t,a),n.firstCreatePass&&s>=a.directiveStart&&function Ja(t,n,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:h}=n.type.prototype;if(a){const m=ui(n);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,m),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,m)}c&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,c),h&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,h),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,h))}(s,h[s],n)}finally{null!==T&&bn(T),fi(E),m.resolving=!1,yo()}}return c}function mn(t,n,s){return!!(s[n+(t>>5)]&1<<t)}function dr(t,n){return!(t&It.Self||t&It.Host&&n)}class gr{constructor(n,s){this._tNode=n,this._lView=s}get(n,s,a){return k(this._tNode,this._lView,n,a,s)}}function si(t){return vt(()=>{const n=t.prototype.constructor,s=n[Nt]||Ss(n),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const h=c[Nt]||Ss(c);if(h&&h!==s)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function Ss(t){return $e(t)?()=>{const n=Ss(ae(t));return n&&n()}:os(t)}function vs(t){return function w(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const s=t.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const h=s[c];if(qo(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(h===n)return s[c+1];c+=2}}}return null}(En(),t)}const uo="__parameters__";function Zn(t,n,s){return vt(()=>{const a=function Yo(t){return function(...s){if(t){const a=t(...s);for(const c in a)this[c]=a[c]}}}(n);function c(...h){if(this instanceof c)return a.apply(this,h),this;const m=new c(...h);return E.annotation=m,E;function E(T,B,W){const se=T.hasOwnProperty(uo)?T[uo]:Object.defineProperty(T,uo,{value:[]})[uo];for(;se.length<=W;)se.push(null);return(se[W]=se[W]||[]).push(m),T}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}class Hn{constructor(n,s){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Rt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ln=new Hn("AnalyzeForEntryComponents");function ds(t,n){void 0===n&&(n=t);for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?(n===t&&(n=t.slice(0,s)),ds(a,n)):n!==t&&n.push(a)}return n}function $s(t,n){t.forEach(s=>Array.isArray(s)?$s(s,n):n(s))}function ku(t,n,s){n>=t.length?t.push(s):t.splice(n,0,s)}function vo(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function ji(t,n,s){let a=fa(t,n);return a>=0?t[1|a]=s:(a=~a,function rn(t,n,s,a){let c=t.length;if(c==n)t.push(s,a);else if(1===c)t.push(a,t[0]),t[0]=s;else{for(c--,t.push(t[c-1],t[c]);c>n;)t[c]=t[c-2],c--;t[n]=s,t[n+1]=a}}(t,a,n,s)),a}function Fu(t,n){const s=fa(t,n);if(s>=0)return t[1|s]}function fa(t,n){return function eu(t,n,s){let a=0,c=t.length>>s;for(;c!==a;){const h=a+(c-a>>1),m=t[h<<s];if(n===m)return h<<s;m>n?c=h:a=h+1}return~(c<<s)}(t,n,1)}const Va={},yc="__NG_DI_FLAG__",M="ngTempTokenPath",Z=/\n/gm,Fe="__source",rt=ye({provide:String,useValue:ye});let mt;function Jt(t){const n=mt;return mt=t,n}function tn(t,n=It.Default){if(void 0===mt)throw new ze(203,"");return null===mt?oi(t,void 0,n):mt.get(t,n&It.Optional?null:void 0,n)}function On(t,n=It.Default){return(function Kt(){return jn}()||tn)(ae(t),n)}function Ms(t){const n=[];for(let s=0;s<t.length;s++){const a=ae(t[s]);if(Array.isArray(a)){if(0===a.length)throw new ze(900,"");let c,h=It.Default;for(let m=0;m<a.length;m++){const E=a[m],T=ma(E);"number"==typeof T?-1===T?c=E.token:h|=T:c=E}n.push(On(c,h))}else n.push(On(a))}return n}function Mi(t,n){return t[yc]=n,t.prototype[yc]=n,t}function ma(t){return t[yc]}const Xs=Mi(Zn("Inject",t=>({token:t})),-1),eo=Mi(Zn("Optional"),8),Gs=Mi(Zn("SkipSelf"),4);class nu{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function di(t){return t instanceof nu?t.changingThisBreaksApplicationSecurity:t}const Gd=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Kl=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var hi=(()=>((hi=hi||{})[hi.NONE=0]="NONE",hi[hi.HTML=1]="HTML",hi[hi.STYLE=2]="STYLE",hi[hi.SCRIPT=3]="SCRIPT",hi[hi.URL=4]="URL",hi[hi.RESOURCE_URL=5]="RESOURCE_URL",hi))();function Wu(t){const n=function zu(){const t=U();return t&&t[12]}();return n?n.sanitize(hi.URL,t)||"":function wa(t,n){const s=function Yc(t){return t instanceof nu&&t.getTypeName()||null}(t);if(null!=s&&s!==n){if("ResourceURL"===s&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===n}(t,"URL")?di(t):function $u(t){return(t=String(t)).match(Gd)||t.match(Kl)?t:"unsafe:"+t}(Ae(t))}const Jl="__ngContext__";function Gi(t,n){t[Jl]=n}function ol(t){const n=function su(t){return t[Jl]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function dl(t){return t.ngOriginalError}function hl(t,...n){t.error(...n)}class Ea{constructor(){this._console=console}handleError(n){const s=this._findOriginalError(n),a=function pf(t){return t&&t.ngErrorLogger||hl}(n);a(this._console,"ERROR",n),s&&a(this._console,"ORIGINAL ERROR",s)}_findOriginalError(n){let s=n&&dl(n);for(;s&&dl(s);)s=dl(s);return s||null}}const Ks=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(en))();function Fo(t){return t instanceof Function?t():t}var Xr=(()=>((Xr=Xr||{})[Xr.Important=1]="Important",Xr[Xr.DashCase=2]="DashCase",Xr))();function Xo(t,n){return undefined(t,n)}function Zu(t){const n=t[3];return An(n)?n[3]:n}function _t(t){return rs(t[13])}function Yu(t){return rs(t[4])}function rs(t){for(;null!==t&&!An(t);)t=t[4];return t}function ea(t,n,s,a,c){if(null!=a){let h,m=!1;An(a)?h=a:rr(a)&&(m=!0,a=a[0]);const E=wn(a);0===t&&null!==s?null==c?hr(n,s,E):Yt(n,s,E,c||null,!0):1===t&&null!==s?Yt(n,s,E,c||null,!0):2===t?function sd(t,n,s){const a=au(t,n);a&&function ou(t,n,s,a){or(t)?t.removeChild(n,s,a):n.removeChild(s)}(t,a,n,s)}(n,E,m):3===t&&n.destroyNode(E),null!=h&&function qm(t,n,s,a,c){const h=s[7];h!==wn(s)&&ea(n,t,a,h,c);for(let E=10;E<s.length;E++){const T=s[E];cu(T[1],T,t,n,a,h)}}(n,t,h,s,c)}}function gl(t,n,s){return or(t)?t.createElement(n,s):null===s?t.createElement(n):t.createElementNS(s,n)}function y(t,n){const s=t[9],a=s.indexOf(n),c=n[3];1024&n[2]&&(n[2]&=-1025,ar(c,-1)),s.splice(a,1)}function F(t,n){if(t.length<=10)return;const s=10+n,a=t[s];if(a){const c=a[17];null!==c&&c!==t&&y(c,a),n>0&&(t[s-1][4]=a[4]);const h=vo(t,10+n);!function rd(t,n){cu(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(a[1],a);const m=h[19];null!==m&&m.detachView(h[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function G(t,n){if(!(256&n[2])){const s=n[11];or(s)&&s.destroyNode&&cu(t,n,s,3,null,null),function g(t){let n=t[13];if(!n)return Ie(t[1],t);for(;n;){let s=null;if(rr(n))s=n[13];else{const a=n[10];a&&(s=a)}if(!s){for(;n&&!n[4]&&n!==t;)rr(n)&&Ie(n[1],n),n=n[3];null===n&&(n=t),rr(n)&&Ie(n[1],n),s=n&&n[4]}n=s}}(n)}}function Ie(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function xt(t,n){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const c=n[s[a]];if(!(c instanceof Tr)){const h=s[a+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const E=c[h[m]],T=h[m+1];try{T.call(E)}finally{}}else try{h.call(c)}finally{}}}}(t,n),function et(t,n){const s=t.cleanup,a=n[7];let c=-1;if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const m=s[h+1],E="function"==typeof m?m(n):wn(n[m]),T=a[c=s[h+2]],B=s[h+3];"boolean"==typeof B?E.removeEventListener(s[h],T,B):B>=0?a[c=B]():a[c=-B].unsubscribe(),h+=2}else{const m=a[c=s[h+1]];s[h].call(m)}if(null!==a){for(let h=c+1;h<a.length;h++)a[h]();n[7]=null}}(t,n),1===n[1].type&&or(n[11])&&n[11].destroy();const s=n[17];if(null!==s&&An(n[3])){s!==n[3]&&y(s,n);const a=n[19];null!==a&&a.detachView(t)}}}function Dt(t,n,s){return function nn(t,n,s){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return s[0];if(2&a.flags){const c=t.data[a.directiveStart].encapsulation;if(c===Bt.None||c===Bt.Emulated)return null}return K(a,s)}(t,n.parent,s)}function Yt(t,n,s,a,c){or(t)?t.insertBefore(n,s,a,c):n.insertBefore(s,a,c)}function hr(t,n,s){or(t)?t.appendChild(n,s):n.appendChild(s)}function Wi(t,n,s,a,c){null!==a?Yt(t,n,s,a,c):hr(t,n,s)}function au(t,n){return or(t)?t.parentNode(n):n.parentNode}let yl=function Cc(t,n,s){return 40&t.type?K(t,s):null};function ps(t,n,s,a){const c=Dt(t,a,n),h=n[11],E=function id(t,n,s){return yl(t,n,s)}(a.parent||n[6],a,n);if(null!=c)if(Array.isArray(s))for(let T=0;T<s.length;T++)Wi(h,c,s[T],E,!1);else Wi(h,c,s,E,!1)}function Qu(t,n){if(null!==n){const s=n.type;if(3&s)return K(n,t);if(4&s)return Tu(-1,t[n.index]);if(8&s){const a=n.child;if(null!==a)return Qu(t,a);{const c=t[n.index];return An(c)?Tu(-1,c):wn(c)}}if(32&s)return Xo(n,t)()||wn(t[n.index]);{const a=Ac(t,n);return null!==a?Array.isArray(a)?a[0]:Qu(Zu(t[16]),a):Qu(t,n.next)}}return null}function Ac(t,n){return null!==n?t[16][6].projection[n.projection]:null}function Tu(t,n){const s=10+t+1;if(s<n.length){const a=n[s],c=a[1].firstChild;if(null!==c)return Qu(a,c)}return n[7]}function uu(t,n,s,a,c,h,m){for(;null!=s;){const E=a[s.index],T=s.type;if(m&&0===n&&(E&&Gi(wn(E),a),s.flags|=4),64!=(64&s.flags))if(8&T)uu(t,n,s.child,a,c,h,!1),ea(n,t,c,E,h);else if(32&T){const B=Xo(s,a);let W;for(;W=B();)ea(n,t,c,W,h);ea(n,t,c,E,h)}else 16&T?Ju(t,n,a,s,c,h):ea(n,t,c,E,h);s=m?s.projectionNext:s.next}}function cu(t,n,s,a,c,h){uu(s,a,t.firstChild,n,c,h,!1)}function Ju(t,n,s,a,c,h){const m=s[16],T=m[6].projection[a.projection];if(Array.isArray(T))for(let B=0;B<T.length;B++)ea(n,t,c,T[B],h);else uu(t,n,T,m[3],c,h,!0)}function vf(t,n,s){or(t)?t.setAttribute(n,"style",s):n.style.cssText=s}function lu(t,n,s){or(t)?""===s?t.removeAttribute(n,"class"):t.setAttribute(n,"class",s):n.className=s}function Xu(t,n,s){let a=t.length;for(;;){const c=t.indexOf(n,s);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const h=n.length;if(c+h===a||t.charCodeAt(c+h)<=32)return c}s=c+1}}const wf="ng-template";function Zm(t,n,s){let a=0;for(;a<t.length;){let c=t[a++];if(s&&"class"===c){if(c=t[a],-1!==Xu(c.toLowerCase(),n,0))return!0}else if(1===c){for(;a<t.length&&"string"==typeof(c=t[a++]);)if(c.toLowerCase()===n)return!0;return!1}}return!1}function lg(t){return 4===t.type&&t.value!==wf}function Ym(t,n,s){return n===(4!==t.type||s?t.value:wf)}function Qm(t,n,s){let a=4;const c=t.attrs||[],h=function Xm(t){for(let n=0;n<t.length;n++)if(qo(t[n]))return n;return t.length}(c);let m=!1;for(let E=0;E<n.length;E++){const T=n[E];if("number"!=typeof T){if(!m)if(4&a){if(a=2|1&a,""!==T&&!Ym(t,T,s)||""===T&&1===n.length){if(Lo(a))return!1;m=!0}}else{const B=8&a?T:n[++E];if(8&a&&null!==t.attrs){if(!Zm(t.attrs,B,s)){if(Lo(a))return!1;m=!0}continue}const se=wl(8&a?"class":T,c,lg(t),s);if(-1===se){if(Lo(a))return!1;m=!0;continue}if(""!==B){let Se;Se=se>h?"":c[se+1].toLowerCase();const qe=8&a?Se:null;if(qe&&-1!==Xu(qe,B,0)||2&a&&B!==Se){if(Lo(a))return!1;m=!0}}}}else{if(!m&&!Lo(a)&&!Lo(T))return!1;if(m&&Lo(T))continue;m=!1,a=T|1&a}}return Lo(a)||m}function Lo(t){return 0==(1&t)}function wl(t,n,s,a){if(null===n)return-1;let c=0;if(a||!s){let h=!1;for(;c<n.length;){const m=n[c];if(m===t)return c;if(3===m||6===m)h=!0;else{if(1===m||2===m){let E=n[++c];for(;"string"==typeof E;)E=n[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=h?1:2}return-1}return function dg(t,n){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===n)return s;s++}return-1}(n,t)}function Ef(t,n,s=!1){for(let a=0;a<n.length;a++)if(Qm(t,n[a],s))return!0;return!1}function od(t,n){return t?":not("+n.trim()+")":n}function ey(t){let n=t[0],s=1,a=2,c="",h=!1;for(;s<t.length;){let m=t[s];if("string"==typeof m)if(2&a){const E=t[++s];c+="["+m+(E.length>0?'="'+E+'"':"")+"]"}else 8&a?c+="."+m:4&a&&(c+=" "+m);else""!==c&&!Lo(m)&&(n+=od(h,c),c=""),a=m,h=h||!Lo(a);s++}return""!==c&&(n+=od(h,c)),n}const Wn={};function El(t){ad(je(),U(),li()+t,Io())}function ad(t,n,s,a){if(!a)if(3==(3&n[2])){const h=t.preOrderCheckHooks;null!==h&&es(n,h,s)}else{const h=t.preOrderHooks;null!==h&&Wo(n,h,0,s)}Ai(s)}function nh(t,n){return t<<17|n<<2}function Ca(t){return t>>17&32767}function If(t){return 2|t}function du(t){return(131068&t)>>2}function ih(t,n){return-131069&t|n<<2}function Df(t){return 1|t}function fh(t,n){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const c=s[a],h=s[a+1];if(-1!==h){const m=t.data[h];Us(c),m.contentQueries(2,n[h],h)}}}function dd(t,n,s,a,c,h,m,E,T,B){const W=n.blueprint.slice();return W[0]=c,W[2]=140|a,Wr(W),W[3]=W[15]=t,W[8]=s,W[10]=m||t&&t[10],W[11]=E||t&&t[11],W[12]=T||t&&t[12]||null,W[9]=B||t&&t[9]||null,W[6]=h,W[16]=2==n.type?t[16]:W,W}function Dl(t,n,s,a,c){let h=t.data[n];if(null===h)h=function xf(t,n,s,a,c){const h=Ur(),m=Li(),T=t.data[n]=function hy(t,n,s,a,c,h){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,s,n,a,c);return null===t.firstChild&&(t.firstChild=T),null!==h&&(m?null==h.child&&null!==T.parent&&(h.child=T):null===h.next&&(h.next=T)),T}(t,n,s,a,c),function Uo(){return qt.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=s,h.value=a,h.attrs=c;const m=function bi(){const t=qt.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return zr(h,!0),h}function Cl(t,n,s,a){if(0===s)return-1;const c=n.length;for(let h=0;h<s;h++)n.push(a),t.blueprint.push(a),t.data.push(null);return c}function Su(t,n,s){As(n);try{const a=t.viewQuery;null!==a&&Eh(1,a,s);const c=t.template;null!==c&&ph(t,n,c,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&fh(t,n),t.staticViewQueries&&Eh(2,t.viewQuery,s);const h=t.components;null!==h&&function ly(t,n){for(let s=0;s<n.length;s++)$f(t,n[s])}(n,h)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{n[2]&=-5,gs()}}function rc(t,n,s,a){const c=n[2];if(256==(256&c))return;As(n);const h=Io();try{Wr(n),function ro(t){return qt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&ph(t,n,s,2,a);const m=3==(3&c);if(!h)if(m){const B=t.preOrderCheckHooks;null!==B&&es(n,B,null)}else{const B=t.preOrderHooks;null!==B&&Wo(n,B,0,null),So(n,0)}if(function Bf(t){for(let n=_t(t);null!==n;n=Yu(n)){if(!n[2])continue;const s=n[9];for(let a=0;a<s.length;a++){const c=s[a],h=c[3];0==(1024&c[2])&&ar(h,1),c[2]|=1024}}}(n),function gy(t){for(let n=_t(t);null!==n;n=Yu(n))for(let s=10;s<n.length;s++){const a=n[s],c=a[1];Bn(a)&&rc(c,a,c.template,a[8])}}(n),null!==t.contentQueries&&fh(t,n),!h)if(m){const B=t.contentCheckHooks;null!==B&&es(n,B)}else{const B=t.contentHooks;null!==B&&Wo(n,B,1),So(n,1)}!function ld(t,n){const s=t.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const c=s[a];if(c<0)Ai(~c);else{const h=c,m=s[++a],E=s[++a];io(m,h),E(2,n[h])}}}finally{Ai(-1)}}(t,n);const E=t.components;null!==E&&function Eg(t,n){for(let s=0;s<n.length;s++)jf(t,n[s])}(n,E);const T=t.viewQuery;if(null!==T&&Eh(2,T,a),!h)if(m){const B=t.viewCheckHooks;null!==B&&es(n,B)}else{const B=t.viewHooks;null!==B&&Wo(n,B,2),So(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),h||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,ar(n[3],-1))}finally{gs()}}function Tl(t,n,s,a){const c=n[10],h=!Io(),m=yn(n);try{h&&!m&&c.begin&&c.begin(),m&&Su(t,n,a),rc(t,n,s,a)}finally{h&&!m&&c.end&&c.end()}}function ph(t,n,s,a,c){const h=li(),m=2&a;try{Ai(-1),m&&n.length>20&&ad(t,n,20,Io()),s(a,c)}finally{Ai(h)}}function Sc(t,n,s){!L()||(function py(t,n,s,a){const c=s.directiveStart,h=s.directiveEnd;t.firstCreatePass||js(s,n),Gi(a,n);const m=s.initialInputs;for(let E=c;E<h;E++){const T=t.data[E],B=ue(T);B&&ic(n,s,T);const W=Ct(n,t,E,s);Gi(W,n),null!==m&&Sl(0,E-c,W,T,0,m),B&&(Vt(s.index,n)[8]=W)}}(t,n,s,K(s,n)),128==(128&s.flags)&&function Ff(t,n,s){const a=s.directiveStart,c=s.directiveEnd,m=s.index,E=function Bo(){return qt.lFrame.currentDirectiveIndex}();try{Ai(m);for(let T=a;T<c;T++){const B=t.data[T],W=n[T];Nr(T),(null!==B.hostBindings||0!==B.hostVars||null!==B.hostAttrs)&&Sg(B,W)}}finally{Ai(-1),Nr(E)}}(t,n,s))}function fd(t,n,s=K){const a=n.localNames;if(null!==a){let c=n.index+1;for(let h=0;h<a.length;h+=2){const m=a[h+1],E=-1===m?s(n,t):t[m];t[c++]=E}}}function Of(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Al(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function Al(t,n,s,a,c,h,m,E,T,B){const W=20+a,se=W+c,Se=function Rf(t,n){const s=[];for(let a=0;a<n;a++)s.push(a<t?null:Wn);return s}(W,se),qe="function"==typeof B?B():B;return Se[1]={type:t,blueprint:Se,template:s,queries:null,viewQuery:E,declTNode:n,data:Se.slice().fill(null,W),bindingStartIndex:W,expandoStartIndex:se,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:T,consts:qe,incompleteFirstPass:!1}}function gh(t,n,s,a){const c=kg(n);null===s?c.push(a):(c.push(s),t.firstCreatePass&&Fg(t).push(a,c.length-1))}function mh(t,n,s){for(let a in t)if(t.hasOwnProperty(a)){const c=t[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(n,c):s[a]=[n,c]}return s}function yh(t,n,s,a){let c=!1;if(L()){const h=function Lf(t,n,s){const a=t.directiveRegistry;let c=null;if(a)for(let h=0;h<a.length;h++){const m=a[h];Ef(s,m.selectors,!1)&&(c||(c=[]),I(js(s,n),t,m.type),ue(m)?(Mg(t,s),c.unshift(m)):c.push(m))}return c}(t,n,s),m=null===a?null:{"":-1};if(null!==h){c=!0,_h(s,t.data.length,h.length);for(let W=0;W<h.length;W++){const se=h[W];se.providersResolver&&se.providersResolver(se)}let E=!1,T=!1,B=Cl(t,n,h.length,null);for(let W=0;W<h.length;W++){const se=h[W];s.mergedAttrs=D(s.mergedAttrs,se.hostAttrs),Mc(t,s,n,B,se),Uf(B,se,m),null!==se.contentQueries&&(s.flags|=8),(null!==se.hostBindings||null!==se.hostAttrs||0!==se.hostVars)&&(s.flags|=128);const Se=se.type.prototype;!E&&(Se.ngOnChanges||Se.ngOnInit||Se.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),E=!0),!T&&(Se.ngOnChanges||Se.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),T=!0),B++}!function fy(t,n){const a=n.directiveEnd,c=t.data,h=n.attrs,m=[];let E=null,T=null;for(let B=n.directiveStart;B<a;B++){const W=c[B],se=W.inputs,Se=null===h||lg(n)?null:xg(se,h);m.push(Se),E=mh(se,B,E),T=mh(W.outputs,B,T)}null!==E&&(E.hasOwnProperty("class")&&(n.flags|=16),E.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=m,n.inputs=E,n.outputs=T}(t,s)}m&&function Vf(t,n,s){if(n){const a=t.localNames=[];for(let c=0;c<n.length;c+=2){const h=s[n[c+1]];if(null==h)throw new ze(-301,`Export of name '${n[c+1]}' not found!`);a.push(n[c],h)}}}(s,a,m)}return s.mergedAttrs=D(s.mergedAttrs,s.attrs),c}function Ag(t,n,s,a,c,h){const m=h.hostBindings;if(m){let E=t.hostBindingOpCodes;null===E&&(E=t.hostBindingOpCodes=[]);const T=~n.index;(function kf(t){let n=t.length;for(;n>0;){const s=t[--n];if("number"==typeof s&&s<0)return s}return 0})(E)!=T&&E.push(T),E.push(a,c,m)}}function Sg(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Mg(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function Uf(t,n,s){if(s){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)s[n.exportAs[a]]=t;ue(n)&&(s[""]=t)}}function _h(t,n,s){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+s,t.providerIndexes=n}function Mc(t,n,s,a,c){t.data[a]=c;const h=c.factory||(c.factory=os(c.type)),m=new Tr(h,ue(c),null);t.blueprint[a]=m,s[a]=m,Ag(t,n,0,a,Cl(t,s,c.hostVars,Wn),c)}function ic(t,n,s){const a=K(n,t),c=Of(s),h=t[10],m=vh(t,dd(t,c,null,s.onPush?64:16,a,n,h,h.createRenderer(a,s),null,null));t[n.index]=m}function Ta(t,n,s,a,c,h){const m=K(t,n);!function sc(t,n,s,a,c,h,m){if(null==h)or(t)?t.removeAttribute(n,c,s):n.removeAttribute(c);else{const E=null==m?Ae(h):m(h,a||"",c);or(t)?t.setAttribute(n,c,E,s):s?n.setAttributeNS(s,c,E):n.setAttribute(c,E)}}(n[11],m,h,t.value,s,a,c)}function Sl(t,n,s,a,c,h){const m=h[n];if(null!==m){const E=a.setInput;for(let T=0;T<m.length;){const B=m[T++],W=m[T++],se=m[T++];null!==E?a.setInput(s,se,B,W):s[W]=se}}}function xg(t,n){let s=null,a=0;for(;a<n.length;){const c=n[a];if(0!==c)if(5!==c){if("number"==typeof c)break;t.hasOwnProperty(c)&&(null===s&&(s=[]),s.push(c,t[c],n[a+1])),a+=2}else a+=2;else a+=4}return s}function Og(t,n,s,a){return new Array(t,!0,!1,n,null,0,a,s,null,null)}function jf(t,n){const s=Vt(n,t);if(Bn(s)){const a=s[1];80&s[2]?rc(a,s,a.template,s[8]):s[5]>0&&md(s)}}function md(t){for(let a=_t(t);null!==a;a=Yu(a))for(let c=10;c<a.length;c++){const h=a[c];if(1024&h[2]){const m=h[1];rc(m,h,m.template,h[8])}else h[5]>0&&md(h)}const s=t[1].components;if(null!==s)for(let a=0;a<s.length;a++){const c=Vt(s[a],t);Bn(c)&&c[5]>0&&md(c)}}function $f(t,n){const s=Vt(n,t),a=s[1];(function my(t,n){for(let s=n.length;s<t.blueprint.length;s++)n.push(t.blueprint[s])})(a,s),Su(a,s,s[8])}function vh(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function yd(t){for(;t;){t[2]|=64;const n=Zu(t);if(te(t)&&!n)return t;t=n}return null}function wh(t,n,s){const a=n[10];a.begin&&a.begin();try{rc(t,n,t.template,s)}catch(c){throw bh(n,c),c}finally{a.end&&a.end()}}function Rg(t){!function Gf(t){for(let n=0;n<t.components.length;n++){const s=t.components[n],a=ol(s),c=a[1];Tl(c,a,c.template,s)}}(t[8])}function Eh(t,n,s){Us(0),n(t,s)}const _y=(()=>Promise.resolve(null))();function kg(t){return t[7]||(t[7]=[])}function Fg(t){return t.cleanup||(t.cleanup=[])}function bh(t,n){const s=t[9],a=s?s.get(Ea,null):null;a&&a.handleError(n)}function Ih(t,n,s,a,c){for(let h=0;h<s.length;){const m=s[h++],E=s[h++],T=n[m],B=t.data[m];null!==B.setInput?B.setInput(T,c,a,E):T[E]=c}}function Ga(t,n,s){const a=P(n,t);!function Xd(t,n,s){or(t)?t.setValue(n,s):n.textContent=s}(t[11],a,s)}function Dh(t,n,s){let a=s?t.styles:null,c=s?t.classes:null,h=0;if(null!==n)for(let m=0;m<n.length;m++){const E=n[m];"number"==typeof E?h=E:1==h?c=oe(c,E):2==h&&(a=oe(a,E+": "+n[++m]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=c:t.classesWithoutHost=c}const Ch=new Hn("INJECTOR",-1);class Th{get(n,s=Va){if(s===Va){const a=new Error(`NullInjectorError: No provider for ${ge(n)}!`);throw a.name="NullInjectorError",a}return s}}const Ah=new Hn("Set Injector scope."),_d={},zf={};let Kf;function Sh(){return void 0===Kf&&(Kf=new Th),Kf}function Ug(t,n=null,s=null,a){const c=Mh(t,n,s,a);return c._resolveInjectorDefTypes(),c}function Mh(t,n=null,s=null,a){return new wy(t,s,n||Sh(),a)}class wy{constructor(n,s,a,c=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];s&&$s(s,E=>this.processProvider(E,n,s)),$s([n],E=>this.processInjectorType(E,[],h)),this.records.set(Ch,Oc(void 0,this));const m=this.records.get(Ah);this.scope=null!=m?m.value:null,this.source=c||("object"==typeof n?null:ge(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,s=Va,a=It.Default){this.assertNotDestroyed();const c=Jt(this),h=bn(void 0);try{if(!(a&It.SkipSelf)){let E=this.records.get(n);if(void 0===E){const T=function Iy(t){return"function"==typeof t||"object"==typeof t&&t instanceof Hn}(n)&&Dn(n);E=T&&this.injectableDefInScope(T)?Oc(vd(n),_d):null,this.records.set(n,E)}if(null!=E)return this.hydrate(n,E)}return(a&It.Self?Sh():this.parent).get(n,s=a&It.Optional&&s===Va?null:s)}catch(m){if("NullInjectorError"===m.name){if((m[M]=m[M]||[]).unshift(ge(n)),c)throw m;return function ya(t,n,s,a){const c=t[M];throw n[Fe]&&c.unshift(n[Fe]),t.message=function No(t,n,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let c=ge(n);if(Array.isArray(n))c=n.map(ge).join(" -> ");else if("object"==typeof n){let h=[];for(let m in n)if(n.hasOwnProperty(m)){let E=n[m];h.push(m+":"+("string"==typeof E?JSON.stringify(E):ge(E)))}c=`{${h.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${t.replace(Z,"\n  ")}`}("\n"+t.message,c,s,a),t.ngTokenPath=c,t[M]=null,t}(m,n,"R3InjectorError",this.source)}throw m}finally{bn(h),Jt(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((a,c)=>n.push(ge(c))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ze(205,"")}processInjectorType(n,s,a){if(!(n=ae(n)))return!1;let c=ur(n);const h=null==c&&n.ngModule||void 0,m=void 0===h?n:h,E=-1!==a.indexOf(m);if(void 0!==h&&(c=ur(h)),null==c)return!1;if(null!=c.imports&&!E){let W;a.push(m);try{$s(c.imports,se=>{this.processInjectorType(se,s,a)&&(void 0===W&&(W=[]),W.push(se))})}finally{}if(void 0!==W)for(let se=0;se<W.length;se++){const{ngModule:Se,providers:qe}=W[se];$s(qe,dt=>this.processProvider(dt,Se,qe||fe))}}this.injectorDefTypes.add(m);const T=os(m)||(()=>new m);this.records.set(m,Oc(T,_d));const B=c.providers;if(null!=B&&!E){const W=n;$s(B,se=>this.processProvider(se,W,B))}return void 0!==h&&void 0!==n.providers}processProvider(n,s,a){let c=Vo(n=ae(n))?n:ae(n&&n.provide);const h=function Zf(t,n,s){return xh(t)?Oc(void 0,t.useValue):Oc(xc(t),_d)}(n);if(Vo(n)||!0!==n.multi)this.records.get(c);else{let m=this.records.get(c);m||(m=Oc(void 0,_d,!0),m.factory=()=>Ms(m.multi),this.records.set(c,m)),c=n,m.multi.push(n)}this.records.set(c,h)}hydrate(n,s){return s.value===_d&&(s.value=zf,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Jf(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(n){if(!n.providedIn)return!1;const s=ae(n.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function vd(t){const n=Dn(t),s=null!==n?n.factory:os(t);if(null!==s)return s;if(t instanceof Hn)throw new ze(204,"");if(t instanceof Function)return function qf(t){const n=t.length;if(n>0)throw function Js(t,n){const s=[];for(let a=0;a<t;a++)s.push(n);return s}(n,"?"),new ze(204,"");const s=function fn(t){const n=t&&(t[tr]||t[ot]);if(n){const s=function Sn(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),n}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new ze(204,"")}function xc(t,n,s){let a;if(Vo(t)){const c=ae(t);return os(c)||vd(c)}if(xh(t))a=()=>ae(t.useValue);else if(function Yf(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Ms(t.deps||[]));else if(function Ey(t){return!(!t||!t.useExisting)}(t))a=()=>On(ae(t.useExisting));else{const c=ae(t&&(t.useClass||t.provide));if(!function by(t){return!!t.deps}(t))return os(c)||vd(c);a=()=>new c(...Ms(t.deps))}return a}function Oc(t,n,s=!1){return{factory:t,value:n,multi:s?[]:void 0}}function xh(t){return null!==t&&"object"==typeof t&&rt in t}function Vo(t){return"function"==typeof t}let Aa=(()=>{class t{static create(s,a){var c;if(Array.isArray(s))return Ug({name:""},a,s,"");{const h=null!==(c=s.name)&&void 0!==c?c:"";return Ug({name:h},s.parent,s.providers,h)}}}return t.THROW_IF_NOT_FOUND=Va,t.NULL=new Th,t.\u0275prov=Rt({token:t,providedIn:"any",factory:()=>On(Ch)}),t.__NG_ELEMENT_ID__=-1,t})();function Sy(t,n){oa(ol(t)[1],En())}function Nh(t){let n=function Ph(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;n;){let c;if(ue(t))c=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new ze(903,"");c=n.\u0275dir}if(c){if(s){a.push(c);const m=t;m.inputs=bd(t.inputs),m.declaredInputs=bd(t.declaredInputs),m.outputs=bd(t.outputs);const E=c.hostBindings;E&&up(t,E);const T=c.viewQuery,B=c.contentQueries;if(T&&ap(t,T),B&&kh(t,B),_e(t.inputs,c.inputs),_e(t.declaredInputs,c.declaredInputs),_e(t.outputs,c.outputs),ue(c)&&c.data.animation){const W=t.data;W.animation=(W.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let m=0;m<h.length;m++){const E=h[m];E&&E.ngInherit&&E(t),E===Nh&&(s=!1)}}n=Object.getPrototypeOf(n)}!function op(t){let n=0,s=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=n+=c.hostVars,c.hostAttrs=D(c.hostAttrs,s=D(s,c.hostAttrs))}}(a)}function bd(t){return t===qr?{}:t===fe?[]:t}function ap(t,n){const s=t.viewQuery;t.viewQuery=s?(a,c)=>{n(a,c),s(a,c)}:n}function kh(t,n){const s=t.contentQueries;t.contentQueries=s?(a,c,h)=>{n(a,c,h),s(a,c,h)}:n}function up(t,n){const s=t.hostBindings;t.hostBindings=s?(a,c)=>{n(a,c),s(a,c)}:n}let Ml=null;function Wa(){if(!Ml){const t=en.Symbol;if(t&&t.iterator)Ml=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<n.length;++s){const a=n[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Ml=a)}}}return Ml}function Id(t){return!!Fh(t)&&(Array.isArray(t)||!(t instanceof Map)&&Wa()in t)}function Fh(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function hu(t,n,s){return t[n]=s}function ho(t,n,s){return!Object.is(t[n],s)&&(t[n]=s,!0)}function Rc(t,n,s,a){const c=ho(t,n,s);return ho(t,n+1,a)||c}function dp(t,n,s,a){const c=U();return ho(c,Cs(),n)&&(je(),Ta(Kr(),c,t,n,s,a)),dp}function pp(t,n,s,a,c,h,m,E){const T=U(),B=je(),W=t+20,se=B.firstCreatePass?function Xg(t,n,s,a,c,h,m,E,T){const B=n.consts,W=Dl(n,t,4,m||null,pn(B,E));yh(n,s,W,pn(B,T)),oa(n,W);const se=W.tViews=Al(2,W,a,c,h,n.directiveRegistry,n.pipeRegistry,null,n.schemas,B);return null!==n.queries&&(n.queries.template(n,W),se.queries=n.queries.embeddedTView(W)),W}(W,B,T,n,s,a,c,h,m):B.data[W];zr(se,!1);const Se=T[11].createComment("");ps(B,T,Se,se),Gi(Se,T),vh(T,T[W]=Og(Se,T,Se,se)),ce(se)&&Sc(B,T,se),null!=m&&fd(T,se,E)}function Rl(t,n=It.Default){const s=U();return null===s?On(t,n):k(En(),s,ae(t),n)}function jh(){throw new Error("invalid")}function xd(t,n,s){const a=U();return ho(a,Cs(),n)&&function lo(t,n,s,a,c,h,m,E){const T=K(n,s);let W,B=n.inputs;!E&&null!=B&&(W=B[a])?(Ih(t,s,W,a,c),Ir(n)&&function Nf(t,n){const s=Vt(n,t);16&s[2]||(s[2]|=64)}(s,n.index)):3&n.type&&(a=function Pf(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=m?m(c,n.value||"",a):c,or(h)?h.setProperty(T,a,c):b(a)||(T.setProperty?T.setProperty(a,c):T[a]=c))}(je(),Kr(),a,t,n,a[11],s,!1),xd}function vp(t,n,s,a,c){const m=c?"class":"style";Ih(t,s,n.inputs[m],m,a)}function Pl(t,n,s,a){const c=U(),h=je(),m=20+t,E=c[11],T=c[m]=gl(E,n,function Ao(){return qt.lFrame.currentNamespace}()),B=h.firstCreatePass?function wp(t,n,s,a,c,h,m){const E=n.consts,B=Dl(n,t,2,c,pn(E,h));return yh(n,s,B,pn(E,m)),null!==B.attrs&&Dh(B,B.attrs,!1),null!==B.mergedAttrs&&Dh(B,B.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,B),B}(m,h,c,0,n,s,a):h.data[m];zr(B,!0);const W=B.mergedAttrs;null!==W&&Di(E,T,W);const se=B.classes;null!==se&&lu(E,T,se);const Se=B.styles;null!==Se&&vf(E,T,Se),64!=(64&B.flags)&&ps(h,c,T,B),0===function mi(){return qt.lFrame.elementDepthCount}()&&Gi(T,c),function Ti(){qt.lFrame.elementDepthCount++}(),ce(B)&&(Sc(h,c,B),function hd(t,n,s){if(Zr(n)){const c=n.directiveEnd;for(let h=n.directiveStart;h<c;h++){const m=t.data[h];m.contentQueries&&m.contentQueries(1,s[h],h)}}}(h,B,c)),null!==a&&fd(c,B)}function $h(){let t=En();Li()?function Qs(){qt.lFrame.isParent=!1}():(t=t.parent,zr(t,!1));const n=t;!function cs(){qt.lFrame.elementDepthCount--}();const s=je();s.firstCreatePass&&(oa(s,t),Zr(t)&&s.queries.elementEnd(t)),null!=n.classesWithoutHost&&function zo(t){return 0!=(16&t.flags)}(n)&&vp(s,n,U(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function _o(t){return 0!=(32&t.flags)}(n)&&vp(s,n,U(),n.stylesWithoutHost,!1)}function Nl(t,n,s,a){Pl(t,n,s,a),$h()}function Ou(){return U()}function Ep(t){return!!t&&"function"==typeof t.then}function bp(t){return!!t&&"function"==typeof t.subscribe}const Ip=bp;function jc(t,n,s,a){const c=U(),h=je(),m=En();return function cm(t,n,s,a,c,h,m,E){const T=ce(a),W=t.firstCreatePass&&Fg(t),se=n[8],Se=kg(n);let qe=!0;if(3&a.type||E){const zt=K(a,n),ln=E?E(zt):zt,wt=Se.length,Rn=E?Rr=>E(wn(Rr[a.index])):a.index;if(or(s)){let Rr=null;if(!E&&T&&(Rr=function $y(t,n,s,a){const c=t.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const m=c[h];if(m===s&&c[h+1]===a){const E=n[7],T=c[h+2];return E.length>T?E[T]:null}"string"==typeof m&&(h+=2)}return null}(t,n,c,a.index)),null!==Rr)(Rr.__ngLastListenerFn__||Rr).__ngNextListenerFn__=h,Rr.__ngLastListenerFn__=h,qe=!1;else{h=Dp(a,n,se,h,!1);const pi=s.listen(ln,c,h);Se.push(h,pi),W&&W.push(c,Rn,wt,wt+1)}}else h=Dp(a,n,se,h,!0),ln.addEventListener(c,h,m),Se.push(h),W&&W.push(c,Rn,wt,m)}else h=Dp(a,n,se,h,!1);const dt=a.outputs;let Ft;if(qe&&null!==dt&&(Ft=dt[c])){const zt=Ft.length;if(zt)for(let ln=0;ln<zt;ln+=2){const Ya=n[Ft[ln]][Ft[ln+1]].subscribe(h),Ld=Se.length;Se.push(h,Ya),W&&W.push(c,a.index,Ld,-(Ld+1))}}}(h,c,c[11],m,t,n,!!s,a),jc}function lm(t,n,s,a){try{return!1!==s(a)}catch(c){return bh(t,c),!1}}function Dp(t,n,s,a,c){return function h(m){if(m===Function)return a;const E=2&t.flags?Vt(t.index,n):n;0==(32&n[2])&&yd(E);let T=lm(n,0,a,m),B=h.__ngNextListenerFn__;for(;B;)T=lm(n,0,B,m)&&T,B=B.__ngNextListenerFn__;return c&&!1===T&&(m.preventDefault(),m.returnValue=!1),T}}function Cp(t=1){return function ia(t){return(qt.lFrame.contextLView=function _u(t,n){for(;t>0;)n=n[15],t--;return n}(t,qt.lFrame.contextLView))[8]}(t)}function Pu(t,n,s,a,c){const h=t[s+1],m=null===n;let E=a?Ca(h):du(h),T=!1;for(;0!==E&&(!1===T||m);){const W=t[E+1];zy(t[E],n)&&(T=!0,t[E+1]=a?Df(W):If(W)),E=a?Ca(W):du(W)}T&&(t[s+1]=a?If(h):Df(h))}function zy(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&fa(t,n)>=0}function kp(t,n){return function mu(t,n,s,a){const c=U(),h=je(),m=function Xi(t){const n=qt.lFrame,s=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,s}(2);h.firstUpdatePass&&function zh(t,n,s,a){const c=t.data;if(null===c[s+1]){const h=c[li()],m=function Em(t,n){return n>=t.expandoStartIndex}(t,s);(function fo(t,n){return 0!=(t.flags&(n?16:32))})(h,a)&&null===n&&!m&&(n=!1),n=function bm(t,n,s,a){const c=function Co(t){const n=qt.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let h=a?n.residualClasses:n.residualStyles;if(null===c)0===(a?n.classBindings:n.styleBindings)&&(s=Pd(s=Lp(null,t,n,s,a),n.attrs,a),h=null);else{const m=n.directiveStylingLast;if(-1===m||t[m]!==c)if(s=Lp(c,t,n,s,a),null===h){let T=function Im(t,n,s){const a=s?n.classBindings:n.styleBindings;if(0!==du(a))return t[Ca(a)]}(t,n,a);void 0!==T&&Array.isArray(T)&&(T=Lp(null,t,n,T[1],a),T=Pd(T,n.attrs,a),function Rd(t,n,s,a){t[Ca(s?n.classBindings:n.styleBindings)]=a}(t,n,a,T))}else h=function Fp(t,n,s){let a;const c=n.directiveEnd;for(let h=1+n.directiveStylingLast;h<c;h++)a=Pd(a,t[h].hostAttrs,s);return Pd(a,n.attrs,s)}(t,n,a)}return void 0!==h&&(a?n.residualClasses=h:n.residualStyles=h),s}(c,h,n,a),function Wy(t,n,s,a,c,h){let m=h?n.classBindings:n.styleBindings,E=Ca(m),T=du(m);t[a]=s;let W,B=!1;if(Array.isArray(s)){const se=s;W=se[1],(null===W||fa(se,W)>0)&&(B=!0)}else W=s;if(c)if(0!==T){const Se=Ca(t[E+1]);t[a+1]=nh(Se,E),0!==Se&&(t[Se+1]=ih(t[Se+1],a)),t[E+1]=function fg(t,n){return 131071&t|n<<17}(t[E+1],a)}else t[a+1]=nh(E,0),0!==E&&(t[E+1]=ih(t[E+1],a)),E=a;else t[a+1]=nh(T,0),0===E?E=a:t[T+1]=ih(t[T+1],a),T=a;B&&(t[a+1]=If(t[a+1])),Pu(t,W,a,!0),Pu(t,W,a,!1),function gm(t,n,s,a,c){const h=c?t.residualClasses:t.residualStyles;null!=h&&"string"==typeof n&&fa(h,n)>=0&&(s[a+1]=Df(s[a+1]))}(n,W,t,a,h),m=nh(E,T),h?n.classBindings=m:n.styleBindings=m}(c,h,n,s,m,a)}}(h,t,m,a),n!==Wn&&ho(c,m,n)&&function Vp(t,n,s,a,c,h,m,E){if(!(3&n.type))return;const T=t.data,B=T[E+1];yu(function sh(t){return 1==(1&t)}(B)?Up(T,n,s,c,du(B),m):void 0)||(yu(h)||function rh(t){return 2==(2&t)}(B)&&(h=Up(T,null,s,c,E,m)),function vl(t,n,s,a,c){const h=or(t);if(n)c?h?t.addClass(s,a):s.classList.add(a):h?t.removeClass(s,a):s.classList.remove(a);else{let m=-1===a.indexOf("-")?void 0:Xr.DashCase;if(null==c)h?t.removeStyle(s,a,m):s.style.removeProperty(a);else{const E="string"==typeof c&&c.endsWith("!important");E&&(c=c.slice(0,-10),m|=Xr.Important),h?t.setStyle(s,a,c,m):s.style.setProperty(a,c,E?"important":"")}}}(a,m,P(li(),s),c,h))}(h,h.data[li()],c,c[11],t,c[m+1]=function Ma(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=ge(di(t)))),t}(n,s),a,m)}(t,n,null,!0),kp}function Lp(t,n,s,a,c){let h=null;const m=s.directiveEnd;let E=s.directiveStylingLast;for(-1===E?E=s.directiveStart:E++;E<m&&(h=n[E],a=Pd(a,h.hostAttrs,c),h!==t);)E++;return null!==t&&(s.directiveStylingLast=E),a}function Pd(t,n,s){const a=s?1:2;let c=-1;if(null!==n)for(let h=0;h<n.length;h++){const m=n[h];"number"==typeof m?c=m:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ji(t,m,!!s||n[++h]))}return void 0===t?null:t}function Up(t,n,s,a,c,h){const m=null===n;let E;for(;c>0;){const T=t[c],B=Array.isArray(T),W=B?T[1]:T,se=null===W;let Se=s[c+1];Se===Wn&&(Se=se?fe:void 0);let qe=se?Fu(Se,a):W===a?Se:void 0;if(B&&!yu(qe)&&(qe=Fu(T,a)),yu(qe)&&(E=qe,m))return E;const dt=t[c+1];c=m?Ca(dt):du(dt)}if(null!==n){let T=h?n.residualClasses:n.residualStyles;null!=T&&(E=Fu(T,a))}return E}function yu(t){return void 0!==t}function Bp(t,n=""){const s=U(),a=je(),c=t+20,h=a.firstCreatePass?Dl(a,c,1,n,null):a.data[c],m=s[c]=function Da(t,n){return or(t)?t.createText(n):t.createTextNode(n)}(s[11],n);ps(a,s,m,h),zr(h,!1)}function Kh(t){return cc("",t,""),Kh}function cc(t,n,s){const a=U(),c=function Pc(t,n,s,a){return ho(t,Cs(),s)?n+Ae(s)+a:Wn}(a,t,n,s);return c!==Wn&&Ga(a,li(),c),cc}const o=void 0;var p=["en",[["a","p"],["AM","PM"],o],[["AM","PM"],o,o],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],o,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],o,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",o,"{1} 'at' {0}",o],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function u(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let v={};function H(t){const n=function Pt(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=ke(n);if(s)return s;const a=n.split("-")[0];if(s=ke(a),s)return s;if("en"===a)return p;throw new Error(`Missing locale data for the locale "${t}".`)}function pe(t){return H(t)[Xe.PluralCase]}function ke(t){return t in v||(v[t]=en.ng&&en.ng.common&&en.ng.common.locales&&en.ng.common.locales[t]),v[t]}var Xe=(()=>((Xe=Xe||{})[Xe.LocaleId=0]="LocaleId",Xe[Xe.DayPeriodsFormat=1]="DayPeriodsFormat",Xe[Xe.DayPeriodsStandalone=2]="DayPeriodsStandalone",Xe[Xe.DaysFormat=3]="DaysFormat",Xe[Xe.DaysStandalone=4]="DaysStandalone",Xe[Xe.MonthsFormat=5]="MonthsFormat",Xe[Xe.MonthsStandalone=6]="MonthsStandalone",Xe[Xe.Eras=7]="Eras",Xe[Xe.FirstDayOfWeek=8]="FirstDayOfWeek",Xe[Xe.WeekendRange=9]="WeekendRange",Xe[Xe.DateFormat=10]="DateFormat",Xe[Xe.TimeFormat=11]="TimeFormat",Xe[Xe.DateTimeFormat=12]="DateTimeFormat",Xe[Xe.NumberSymbols=13]="NumberSymbols",Xe[Xe.NumberFormats=14]="NumberFormats",Xe[Xe.CurrencyCode=15]="CurrencyCode",Xe[Xe.CurrencySymbol=16]="CurrencySymbol",Xe[Xe.CurrencyName=17]="CurrencyName",Xe[Xe.Currencies=18]="Currencies",Xe[Xe.Directionality=19]="Directionality",Xe[Xe.PluralCase=20]="PluralCase",Xe[Xe.ExtraData=21]="ExtraData",Xe))();const is="en-US";let kd=is;function d_(t,n,s,a,c){if(t=ae(t),Array.isArray(t))for(let h=0;h<t.length;h++)d_(t[h],n,s,a,c);else{const h=je(),m=U();let E=Vo(t)?t:ae(t.provide),T=xc(t);const B=En(),W=1048575&B.providerIndexes,se=B.directiveStart,Se=B.providerIndexes>>20;if(Vo(t)||!t.multi){const qe=new Tr(T,c,Rl),dt=f_(E,n,c?W:W+Se,se);-1===dt?(I(js(B,m),h,E),h_(h,t,n.length),n.push(E),B.directiveStart++,B.directiveEnd++,c&&(B.providerIndexes+=1048576),s.push(qe),m.push(qe)):(s[dt]=qe,m[dt]=qe)}else{const qe=f_(E,n,W+Se,se),dt=f_(E,n,W,W+Se),Ft=qe>=0&&s[qe],zt=dt>=0&&s[dt];if(c&&!zt||!c&&!Ft){I(js(B,m),h,E);const ln=function nE(t,n,s,a,c){const h=new Tr(t,s,Rl);return h.multi=[],h.index=n,h.componentProviders=0,Lv(h,c,a&&!s),h}(c?tE:eE,s.length,c,a,T);!c&&zt&&(s[dt].providerFactory=ln),h_(h,t,n.length,0),n.push(E),B.directiveStart++,B.directiveEnd++,c&&(B.providerIndexes+=1048576),s.push(ln),m.push(ln)}else h_(h,t,qe>-1?qe:dt,Lv(s[c?dt:qe],T,!c&&a));!c&&a&&zt&&s[dt].componentProviders++}}}function h_(t,n,s,a){const c=Vo(n),h=function Qf(t){return!!t.useClass}(n);if(c||h){const T=(h?ae(n.useClass):n).prototype.ngOnDestroy;if(T){const B=t.destroyHooks||(t.destroyHooks=[]);if(!c&&n.multi){const W=B.indexOf(s);-1===W?B.push(s,[a,T]):B[W+1].push(a,T)}else B.push(s,T)}}}function Lv(t,n,s){return s&&t.componentProviders++,t.multi.push(n)-1}function f_(t,n,s,a){for(let c=s;c<a;c++)if(n[c]===t)return c;return-1}function eE(t,n,s,a){return p_(this.multi,[])}function tE(t,n,s,a){const c=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,E=Ct(s,s[1],this.providerFactory.index,a);h=E.slice(0,m),p_(c,h);for(let T=m;T<E.length;T++)h.push(E[T])}else h=[],p_(c,h);return h}function p_(t,n){for(let s=0;s<t.length;s++)n.push((0,t[s])());return n}function Vv(t,n=[]){return s=>{s.providersResolver=(a,c)=>function X0(t,n,s){const a=je();if(a.firstCreatePass){const c=ue(t);d_(s,a.data,a.blueprint,c,!0),d_(n,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,n)}}class Uv{}class sE{resolveComponentFactory(n){throw function iE(t){const n=Error(`No component factory found for ${ge(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let Qp=(()=>{class t{}return t.NULL=new sE,t})();function oE(){return Jh(En(),U())}function Jh(t,n){return new Jp(K(t,n))}let Jp=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=oE,t})();function aE(t){return t instanceof Jp?t.nativeElement:t}class jv{}let uE=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function lE(){const t=U(),s=Vt(En().index,t);return function cE(t){return t[11]}(rr(s)?s:t)}(),t})(),dE=(()=>{class t{}return t.\u0275prov=Rt({token:t,providedIn:"root",factory:()=>null}),t})();class $v{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const Hv=new $v("13.1.3"),g_={};function Vm(t,n,s,a,c=!1){for(;null!==s;){const h=n[s.index];if(null!==h&&a.push(wn(h)),An(h))for(let E=10;E<h.length;E++){const T=h[E],B=T[1].firstChild;null!==B&&Vm(T[1],T,B,a)}const m=s.type;if(8&m)Vm(t,n,s.child,a);else if(32&m){const E=Xo(s,n);let T;for(;T=E();)a.push(T)}else if(16&m){const E=Ac(n,s);if(Array.isArray(E))a.push(...E);else{const T=Zu(n[16]);Vm(T[1],T,E,a,!0)}}s=c?s.projectionNext:s.next}return a}class Xp{constructor(n,s){this._lView=n,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,s=n[1];return Vm(s,n,s.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(An(n)){const s=n[8],a=s?s.indexOf(this):-1;a>-1&&(F(n,a),vo(s,a))}this._attachedToViewContainer=!1}G(this._lView[1],this._lView)}onDestroy(n){gh(this._lView[1],this._lView,null,n)}markForCheck(){yd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){wh(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Pg(t,n,s){Do(!0);try{wh(t,n,s)}finally{Do(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new ze(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function co(t,n){cu(t,n,n[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new ze(902,"");this._appRef=n}}class hE extends Xp{constructor(n){super(n),this._view=n}detectChanges(){Rg(this._view)}checkNoChanges(){!function Ng(t){Do(!0);try{Rg(t)}finally{Do(!1)}}(this._view)}get context(){return null}}class Gv extends Qp{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const s=Xn(n);return new m_(s,this.ngModule)}}function Wv(t){const n=[];for(let s in t)t.hasOwnProperty(s)&&n.push({propName:t[s],templateName:s});return n}const pE=new Hn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ks});class m_ extends Uv{constructor(n,s){super(),this.componentDef=n,this.ngModule=s,this.componentType=n.type,this.selector=function hg(t){return t.map(ey).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return Wv(this.componentDef.inputs)}get outputs(){return Wv(this.componentDef.outputs)}create(n,s,a,c){const h=(c=c||this.ngModule)?function gE(t,n){return{get:(s,a,c)=>{const h=t.get(s,g_,c);return h!==g_||a===g_?h:n.get(s,a,c)}}}(n,c.injector):n,m=h.get(jv,ki),E=h.get(dE,null),T=m.createRenderer(null,this.componentDef),B=this.componentDef.selectors[0][0]||"div",W=a?function bg(t,n,s){if(or(t))return t.selectRootElement(n,s===Bt.ShadowDom);let a="string"==typeof n?t.querySelector(n):n;return a.textContent="",a}(T,a,this.componentDef.encapsulation):gl(m.createRenderer(null,this.componentDef),B,function fE(t){const n=t.toLowerCase();return"svg"===n?"http://www.w3.org/2000/svg":"math"===n?"http://www.w3.org/1998/MathML/":null}(B)),se=this.componentDef.onPush?576:528,Se=function qg(t,n){return{components:[],scheduler:t||Ks,clean:_y,playerHandler:n||null,flags:0}}(),qe=Al(0,null,null,1,0,null,null,null,null,null),dt=dd(null,qe,Se,se,null,null,m,T,E,h);let Ft,zt;As(dt);try{const ln=function zg(t,n,s,a,c,h){const m=s[1];s[20]=t;const T=Dl(m,20,2,"#host",null),B=T.mergedAttrs=n.hostAttrs;null!==B&&(Dh(T,B,!0),null!==t&&(Di(c,t,B),null!==T.classes&&lu(c,t,T.classes),null!==T.styles&&vf(c,t,T.styles)));const W=a.createRenderer(t,n),se=dd(s,Of(n),null,n.onPush?64:16,s[20],T,a,W,h||null,null);return m.firstCreatePass&&(I(js(T,s),m,n.type),Mg(m,T),_h(T,s.length,1)),vh(s,se),s[20]=se}(W,this.componentDef,dt,m,T);if(W)if(a)Di(T,W,["ng-version",Hv.full]);else{const{attrs:wt,classes:Rn}=function bf(t){const n=[],s=[];let a=1,c=2;for(;a<t.length;){let h=t[a];if("string"==typeof h)2===c?""!==h&&n.push(h,t[++a]):8===c&&s.push(h);else{if(!Lo(c))break;c=h}a++}return{attrs:n,classes:s}}(this.componentDef.selectors[0]);wt&&Di(T,W,wt),Rn&&Rn.length>0&&lu(T,W,Rn.join(" "))}if(zt=tt(qe,20),void 0!==s){const wt=zt.projection=[];for(let Rn=0;Rn<this.ngContentSelectors.length;Rn++){const Rr=s[Rn];wt.push(null!=Rr?Array.from(Rr):null)}}Ft=function Kg(t,n,s,a,c){const h=s[1],m=function Tg(t,n,s){const a=En();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Mc(t,a,n,Cl(t,n,1,null),s));const c=Ct(n,t,a.directiveStart,a);Gi(c,n);const h=K(a,n);return h&&Gi(h,n),c}(h,s,n);if(a.components.push(m),t[8]=m,c&&c.forEach(T=>T(m,n)),n.contentQueries){const T=En();n.contentQueries(1,m,T.directiveStart)}const E=En();return!h.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(Ai(E.index),Ag(s[1],E,0,E.directiveStart,E.directiveEnd,n),Sg(n,m)),m}(ln,this.componentDef,dt,Se,[Sy]),Su(qe,dt,null)}finally{gs()}return new yE(this.componentType,Ft,Jh(zt,dt),dt,zt)}}class yE extends class rE{}{constructor(n,s,a,c,h){super(),this.location=a,this._rootLView=c,this._tNode=h,this.instance=s,this.hostView=this.changeDetectorRef=new hE(c),this.componentType=n}get injector(){return new gr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class Xh{}class zv{}const ef=new Map;class Zv extends Xh{constructor(n,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Gv(this);const a=nr(n);this._bootstrapComponents=Fo(a.bootstrap),this._r3Injector=Mh(n,s,[{provide:Xh,useValue:this},{provide:Qp,useValue:this.componentFactoryResolver}],ge(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,s=Aa.THROW_IF_NOT_FOUND,a=It.Default){return n===Aa||n===Xh||n===Ch?this:this._r3Injector.get(n,s,a)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class y_ extends zv{constructor(n){super(),this.moduleType=n,null!==nr(n)&&function vE(t){const n=new Set;!function s(a){const c=nr(a,!0),h=c.id;null!==h&&(function Kv(t,n,s){if(n&&n!==s)throw new Error(`Duplicate module registered for ${t} - ${ge(n)} vs ${ge(n.name)}`)}(h,ef.get(h),a),ef.set(h,a));const m=Fo(c.imports);for(const E of m)n.has(E)||(n.add(E),s(E))}(t)}(n)}create(n){return new Zv(this.moduleType,n)}}function eg(t,n){const s=t[n];return s===Wn?void 0:s}function Xv(t,n,s,a,c,h,m,E,T){const B=n+s;return function Sa(t,n,s,a,c,h){const m=Rc(t,n,s,a);return Rc(t,n+2,c,h)||m}(t,B,c,h,m,E)?hu(t,B+4,T?a.call(T,c,h,m,E):a(c,h,m,E)):eg(t,B+4)}function tw(t,n){const s=je();let a;const c=t+20;s.firstCreatePass?(a=function xE(t,n){if(n)for(let s=n.length-1;s>=0;s--){const a=n[s];if(t===a.name)return a}}(n,s.pipeRegistry),s.data[c]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(c,a.onDestroy)):a=s.data[c];const h=a.factory||(a.factory=os(a.type)),m=bn(Rl);try{const E=fi(!1),T=h();return fi(E),function Ry(t,n,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),n[s]=a}(s,U(),c,T),T}finally{bn(m)}}function nw(t,n,s){const a=t+20,c=U(),h=pt(c,a);return tg(c,a)?function Yv(t,n,s,a,c,h){const m=n+s;return ho(t,m,c)?hu(t,m+1,h?a.call(h,c):a(c)):eg(t,m+1)}(c,Ii(),n,h.transform,s,h):h.transform(s)}function rw(t,n,s,a,c,h){const m=t+20,E=U(),T=pt(E,m);return tg(E,m)?Xv(E,Ii(),n,T.transform,s,a,c,h,T):T.transform(s,a,c,h)}function tg(t,n){return t[1].data[n].pure}function __(t){return n=>{setTimeout(t,void 0,n)}}const fc=class NE extends f.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,s,a){var c,h,m;let E=n,T=s||(()=>null),B=a;if(n&&"object"==typeof n){const se=n;E=null===(c=se.next)||void 0===c?void 0:c.bind(se),T=null===(h=se.error)||void 0===h?void 0:h.bind(se),B=null===(m=se.complete)||void 0===m?void 0:m.bind(se)}this.__isAsync&&(T=__(T),E&&(E=__(E)),B&&(B=__(B)));const W=super.subscribe({next:E,error:T,complete:B});return n instanceof R.w0&&n.add(W),W}};function kE(){return this._results[Wa()]()}class v_{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Wa(),a=v_.prototype;a[s]||(a[s]=kE)}get changes(){return this._changes||(this._changes=new fc)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,s){return this._results.reduce(n,s)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,s){const a=this;a.dirty=!1;const c=ds(n);(this._changesDetected=!function Pi(t,n,s){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],h=n[a];if(s&&(c=s(c),h=s(h)),h!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let ng=(()=>{class t{}return t.__NG_ELEMENT_ID__=VE,t})();const FE=ng,LE=class extends FE{constructor(n,s,a){super(),this._declarationLView=n,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(n){const s=this._declarationTContainer.tViews,a=dd(this._declarationLView,s,n,16,null,s.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(a[19]=h.createEmbeddedView(s)),Su(s,a,n),new Xp(a)}};function VE(){return Um(En(),U())}function Um(t,n){return 4&t.type?new LE(n,t,Jh(t,n)):null}let Bm=(()=>{class t{}return t.__NG_ELEMENT_ID__=UE,t})();function UE(){return ow(En(),U())}const BE=Bm,iw=class extends BE{constructor(n,s,a){super(),this._lContainer=n,this._hostTNode=s,this._hostLView=a}get element(){return Jh(this._hostTNode,this._hostLView)}get injector(){return new gr(this._hostTNode,this._hostLView)}get parentInjector(){const n=St(this._hostTNode,this._hostLView);if(ve(n)){const s=ii(n,this._hostLView),a=ht(n);return new gr(s[1].data[a+8],s)}return new gr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const s=sw(this._lContainer);return null!==s&&s[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,s,a){const c=n.createEmbeddedView(s||{});return this.insert(c,a),c}createComponent(n,s,a,c,h){const m=n&&!function Ro(t){return"function"==typeof t}(n);let E;if(m)E=s;else{const se=s||{};E=se.index,a=se.injector,c=se.projectableNodes,h=se.ngModuleRef}const T=m?n:new m_(Xn(n)),B=a||this.parentInjector;if(!h&&null==T.ngModule&&B){const se=B.get(Xh,null);se&&(h=se)}const W=T.create(B,c,void 0,h);return this.insert(W.hostView,E),W}insert(n,s){const a=n._lView,c=a[1];if(function vr(t){return An(t[3])}(a)){const W=this.indexOf(n);if(-1!==W)this.detach(W);else{const se=a[3],Se=new iw(se,se[6],se[3]);Se.detach(Se.indexOf(n))}}const h=this._adjustIndex(s),m=this._lContainer;!function l(t,n,s,a){const c=10+a,h=s.length;a>0&&(s[c-1][4]=n),a<h-10?(n[4]=s[c],ku(s,10+a,n)):(s.push(n),n[4]=null),n[3]=s;const m=n[17];null!==m&&s!==m&&function d(t,n){const s=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===s?t[9]=[n]:s.push(n)}(m,n);const E=n[19];null!==E&&E.insertView(t),n[2]|=128}(c,a,m,h);const E=Tu(h,m),T=a[11],B=au(T,m[7]);return null!==B&&function eh(t,n,s,a,c,h){a[0]=c,a[6]=n,cu(t,a,s,1,c,h)}(c,m[6],T,a,B,E),n.attachToViewContainerRef(),ku(w_(m),h,n),n}move(n,s){return this.insert(n,s)}indexOf(n){const s=sw(this._lContainer);return null!==s?s.indexOf(n):-1}remove(n){const s=this._adjustIndex(n,-1),a=F(this._lContainer,s);a&&(vo(w_(this._lContainer),s),G(a[1],a))}detach(n){const s=this._adjustIndex(n,-1),a=F(this._lContainer,s);return a&&null!=vo(w_(this._lContainer),s)?new Xp(a):null}_adjustIndex(n,s=0){return null==n?this.length+s:n}};function sw(t){return t[8]}function w_(t){return t[8]||(t[8]=[])}function ow(t,n){let s;const a=n[t.index];if(An(a))s=a;else{let c;if(8&t.type)c=wn(a);else{const h=n[11];c=h.createComment("");const m=K(t,n);Yt(h,au(h,m),c,function ml(t,n){return or(t)?t.nextSibling(n):n.nextSibling}(h,m),!1)}n[t.index]=s=Og(a,n,c,t),vh(n,s)}return new iw(s,t,n)}class E_{constructor(n){this.queryList=n,this.matches=null}clone(){return new E_(this.queryList)}setDirty(){this.queryList.setDirty()}}class b_{constructor(n=[]){this.queries=n}createEmbeddedView(n){const s=n.queries;if(null!==s){const a=null!==n.contentQueries?n.contentQueries[0]:s.length,c=[];for(let h=0;h<a;h++){const m=s.getByIndex(h);c.push(this.queries[m.indexInDeclarationView].clone())}return new b_(c)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let s=0;s<this.queries.length;s++)null!==pw(n,s).matches&&this.queries[s].setDirty()}}class aw{constructor(n,s,a=null){this.predicate=n,this.flags=s,this.read=a}}class I_{constructor(n=[]){this.queries=n}elementStart(n,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,s)}elementEnd(n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(n)}embeddedTView(n){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,h=this.getByIndex(a).embeddedTView(n,c);h&&(h.indexInDeclarationView=a,null!==s?s.push(h):s=[h])}return null!==s?new I_(s):null}template(n,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,s)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class D_{constructor(n,s=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(n,s){this.isApplyingToNode(s)&&this.matchTNode(n,s)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,s){this.elementStart(n,s)}embeddedTView(n,s){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,s),new D_(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const h=a[c];this.matchTNodeWithReadOption(n,s,HE(s,h)),this.matchTNodeWithReadOption(n,s,Ee(s,n,h,!1,!1))}else a===ng?4&s.type&&this.matchTNodeWithReadOption(n,s,-1):this.matchTNodeWithReadOption(n,s,Ee(s,n,a,!1,!1))}matchTNodeWithReadOption(n,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===Jp||c===Bm||c===ng&&4&s.type)this.addMatch(s.index,-2);else{const h=Ee(s,n,c,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,a)}}addMatch(n,s){null===this.matches?this.matches=[n,s]:this.matches.push(n,s)}}function HE(t,n){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===n)return s[a+1];return null}function WE(t,n,s,a){return-1===s?function GE(t,n){return 11&t.type?Jh(t,n):4&t.type?Um(t,n):null}(n,t):-2===s?function zE(t,n,s){return s===Jp?Jh(n,t):s===ng?Um(n,t):s===Bm?ow(n,t):void 0}(t,n,a):Ct(t,t[1],s,n)}function uw(t,n,s,a){const c=n[19].queries[a];if(null===c.matches){const h=t.data,m=s.matches,E=[];for(let T=0;T<m.length;T+=2){const B=m[T];E.push(B<0?null:WE(n,h[B],m[T+1],s.metadata.read))}c.matches=E}return c.matches}function C_(t,n,s,a){const c=t.queries.getByIndex(s),h=c.matches;if(null!==h){const m=uw(t,n,c,s);for(let E=0;E<h.length;E+=2){const T=h[E];if(T>0)a.push(m[E/2]);else{const B=h[E+1],W=n[-T];for(let se=10;se<W.length;se++){const Se=W[se];Se[17]===Se[3]&&C_(Se[1],Se,B,a)}if(null!==W[9]){const se=W[9];for(let Se=0;Se<se.length;Se++){const qe=se[Se];C_(qe[1],qe,B,a)}}}}}return a}function cw(t){const n=U(),s=je(),a=jo();Us(a+1);const c=pw(s,a);if(t.dirty&&yn(n)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const h=c.crossesNgTemplate?C_(s,n,a,[]):uw(s,n,c,a);t.reset(h,aE),t.notifyOnChanges()}return!0}return!1}function lw(t,n,s,a){const c=je();if(c.firstCreatePass){const h=En();(function fw(t,n,s){null===t.queries&&(t.queries=new I_),t.queries.track(new D_(n,s))})(c,new aw(n,s,a),h.index),function ZE(t,n){const s=t.contentQueries||(t.contentQueries=[]);n!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,n)}(c,t),2==(2&s)&&(c.staticContentQueries=!0)}!function hw(t,n,s){const a=new v_(4==(4&s));gh(t,n,a,a.destroy),null===n[19]&&(n[19]=new b_),n[19].queries.push(new E_(a))}(c,U(),s)}function dw(){return function qE(t,n){return t[19].queries[n].queryList}(U(),jo())}function pw(t,n){return t.queries.getByIndex(n)}function Hm(...t){}const O_=new Hn("Application Initializer");let nf=(()=>{class t{constructor(s){this.appInits=s,this.resolve=Hm,this.reject=Hm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(Ep(h))s.push(h);else if(Ip(h)){const m=new Promise((E,T)=>{h.subscribe({complete:E,error:T})});s.push(m)}}Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(On(O_,8))},t.\u0275prov=Rt({token:t,factory:t.\u0275fac}),t})();const Ow=new Hn("AppId"),pb={provide:Ow,useFactory:function fb(){return`${R_()}${R_()}${R_()}`},deps:[]};function R_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Rw=new Hn("Platform Initializer"),Pw=new Hn("Platform ID"),Nw=new Hn("appBootstrapListener");let kw=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Rt({token:t,factory:t.\u0275fac}),t})();const Gm=new Hn("LocaleId"),Fw=new Hn("DefaultCurrencyCode");class gb{constructor(n,s){this.ngModuleFactory=n,this.componentFactories=s}}let P_=(()=>{class t{compileModuleSync(s){return new y_(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),h=Fo(nr(s).declarations).reduce((m,E)=>{const T=Xn(E);return T&&m.push(new m_(T)),m},[]);return new gb(a,h)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Rt({token:t,factory:t.\u0275fac}),t})();const yb=(()=>Promise.resolve(0))();function N_(t){"undefined"==typeof Zone?yb.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Za{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new fc(!1),this.onMicrotaskEmpty=new fc(!1),this.onStable=new fc(!1),this.onError=new fc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function _b(){let t=en.requestAnimationFrame,n=en.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function Eb(t){const n=()=>{!function wb(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(en,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,F_(t),t.isCheckStableRunning=!0,k_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),F_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,h,m,E)=>{try{return Lw(t),s.invokeTask(c,h,m,E)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||t.shouldCoalesceRunChangeDetection)&&n(),Vw(t)}},onInvoke:(s,a,c,h,m,E,T)=>{try{return Lw(t),s.invoke(c,h,m,E,T)}finally{t.shouldCoalesceRunChangeDetection&&n(),Vw(t)}},onHasTask:(s,a,c,h)=>{s.hasTask(c,h),a===c&&("microTask"==h.change?(t._hasPendingMicrotasks=h.microTask,F_(t),k_(t)):"macroTask"==h.change&&(t.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,a,c,h)=>(s.handleError(c,h),t.runOutsideAngular(()=>t.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Za.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Za.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,s,a){return this._inner.run(n,s,a)}runTask(n,s,a,c){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+c,n,vb,Hm,Hm);try{return h.runTask(m,s,a)}finally{h.cancelTask(m)}}runGuarded(n,s,a){return this._inner.runGuarded(n,s,a)}runOutsideAngular(n){return this._outer.run(n)}}const vb={};function k_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function F_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Lw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Vw(t){t._nesting--,k_(t)}class bb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new fc,this.onMicrotaskEmpty=new fc,this.onStable=new fc,this.onError=new fc}run(n,s,a){return n.apply(s,a)}runGuarded(n,s,a){return n.apply(s,a)}runOutsideAngular(n){return n()}runTask(n,s,a,c){return n.apply(s,a)}}let Uw=(()=>{class t{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Za.assertNotInAngularZone(),N_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())N_(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let h=-1;a&&a>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,a,c){return[]}}return t.\u0275fac=function(s){return new(s||t)(On(Za))},t.\u0275prov=Rt({token:t,factory:t.\u0275fac}),t})(),Bw=(()=>{class t{constructor(){this._applications=new Map,L_.addToWindow(this)}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return L_.findTestabilityInTree(this,s,a)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Rt({token:t,factory:t.\u0275fac}),t})();class Ib{addToWindow(n){}findTestabilityInTree(n,s,a){return null}}function Db(t){L_=t}let Nu,L_=new Ib;const jw=new Hn("AllowMultipleToken");class Ab{constructor(n,s){this.name=n,this.token=s}}function $w(t,n,s=[]){const a=`Platform: ${n}`,c=new Hn(a);return(h=[])=>{let m=Hw();if(!m||m.injector.get(jw,!1))if(t)t(s.concat(h).concat({provide:c,useValue:!0}));else{const E=s.concat(h).concat({provide:c,useValue:!0},{provide:Ah,useValue:"platform"});!function Sb(t){if(Nu&&!Nu.destroyed&&!Nu.injector.get(jw,!1))throw new ze(400,"");Nu=t.get(Gw);const n=t.get(Rw,null);n&&n.forEach(s=>s())}(Aa.create({providers:E,name:a}))}return function Mb(t){const n=Hw();if(!n)throw new ze(401,"");return n}()}}function Hw(){return Nu&&!Nu.destroyed?Nu:null}let Gw=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const E=function xb(t,n){let s;return s="noop"===t?new bb:("zone.js"===t?void 0:t)||new Za({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),s}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),T=[{provide:Za,useValue:E}];return E.run(()=>{const B=Aa.create({providers:T,parent:this.injector,name:s.moduleType.name}),W=s.create(B),se=W.injector.get(Ea,null);if(!se)throw new ze(402,"");return E.runOutsideAngular(()=>{const Se=E.onError.subscribe({next:qe=>{se.handleError(qe)}});W.onDestroy(()=>{V_(this._modules,W),Se.unsubscribe()})}),function Ob(t,n,s){try{const a=s();return Ep(a)?a.catch(c=>{throw n.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(se,E,()=>{const Se=W.injector.get(nf);return Se.runInitializers(),Se.donePromise.then(()=>(function u0(t){Ot(t,"Expected localeId to be defined"),"string"==typeof t&&(kd=t.toLowerCase().replace(/_/g,"-"))}(W.injector.get(Gm,is)||is),this._moduleDoBootstrap(W),W))})})}bootstrapModule(s,a=[]){const c=Ww({},a);return function Cb(t,n,s){const a=new y_(s);return Promise.resolve(a)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(s){const a=s.injector.get(ig);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new ze(403,"");s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ze(404,"");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(On(Aa))},t.\u0275prov=Rt({token:t,factory:t.\u0275fac}),t})();function Ww(t,n){return Array.isArray(n)?n.reduce(Ww,t):Object.assign(Object.assign({},t),n)}let ig=(()=>{class t{constructor(s,a,c,h,m){this._zone=s,this._injector=a,this._exceptionHandler=c,this._componentFactoryResolver=h,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new $.y(B=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{B.next(this._stable),B.complete()})}),T=new $.y(B=>{let W;this._zone.runOutsideAngular(()=>{W=this._zone.onStable.subscribe(()=>{Za.assertNotInAngularZone(),N_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,B.next(!0))})})});const se=this._zone.onUnstable.subscribe(()=>{Za.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{B.next(!1)}))});return()=>{W.unsubscribe(),se.unsubscribe()}});this.isStable=(0,le.T)(E,T.pipe((0,re.B)()))}bootstrap(s,a){if(!this._initStatus.done)throw new ze(405,"");let c;c=s instanceof Uv?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(c.componentType);const h=function Tb(t){return t.isBoundToModule}(c)?void 0:this._injector.get(Xh),E=c.create(Aa.NULL,[],a||c.selector,h),T=E.location.nativeElement,B=E.injector.get(Uw,null),W=B&&E.injector.get(Bw);return B&&W&&W.registerApplication(T,B),E.onDestroy(()=>{this.detachView(E.hostView),V_(this.components,E),W&&W.unregisterApplication(T)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new ze(101,"");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;V_(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(Nw,[]).concat(this._bootstrapListeners).forEach(c=>c(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(s){return new(s||t)(On(Za),On(Aa),On(Ea),On(Qp),On(nf))},t.\u0275prov=Rt({token:t,factory:t.\u0275fac}),t})();function V_(t,n){const s=t.indexOf(n);s>-1&&t.splice(s,1)}let Kw=!0,qw=!1;function Pb(){return qw=!0,Kw}function Nb(){if(qw)throw new Error("Cannot enable prod mode after platform setup.");Kw=!1}let kb=(()=>{class t{}return t.__NG_ELEMENT_ID__=Fb,t})();function Fb(t){return function Lb(t,n,s){if(Ir(t)&&!s){const a=Vt(t.index,n);return new Xp(a,a)}return 47&t.type?new Xp(n[16],n):null}(En(),U(),16==(16&t))}class e0{constructor(){}supports(n){return Id(n)}create(n){return new Hb(n)}}const $b=(t,n)=>n;class Hb{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||$b}forEachItem(n){let s;for(s=this._itHead;null!==s;s=s._next)n(s)}forEachOperation(n){let s=this._itHead,a=this._removalsHead,c=0,h=null;for(;s||a;){const m=!a||s&&s.currentIndex<n0(a,c,h)?s:a,E=n0(m,c,h),T=m.currentIndex;if(m===a)c--,a=a._nextRemoved;else if(s=s._next,null==m.previousIndex)c++;else{h||(h=[]);const B=E-c,W=T-c;if(B!=W){for(let Se=0;Se<B;Se++){const qe=Se<h.length?h[Se]:h[Se]=0,dt=qe+Se;W<=dt&&dt<B&&(h[Se]=qe+1)}h[m.previousIndex]=W-B}}E!==T&&n(m,E,T)}}forEachPreviousItem(n){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachMovedItem(n){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}forEachIdentityChange(n){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)n(s)}diff(n){if(null==n&&(n=[]),!Id(n))throw new ze(900,"");return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let c,h,m,s=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let E=0;E<this.length;E++)h=n[E],m=this._trackByFn(E,h),null!==s&&Object.is(s.trackById,m)?(a&&(s=this._verifyReinsertion(s,h,m,E)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,m,E),a=!0),s=s._next}else c=0,function Oy(t,n){if(Array.isArray(t))for(let s=0;s<t.length;s++)n(t[s]);else{const s=t[Wa()]();let a;for(;!(a=s.next()).done;)n(a.value)}}(n,E=>{m=this._trackByFn(c,E),null!==s&&Object.is(s.trackById,m)?(a&&(s=this._verifyReinsertion(s,E,m,c)),Object.is(s.item,E)||this._addIdentityChange(s,E)):(s=this._mismatch(s,E,m,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,s,a,c){let h;return null===n?h=this._itTail:(h=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._reinsertAfter(n,h,c)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._moveAfter(n,h,c)):n=this._addAfter(new Gb(s,a),h,c),n}_verifyReinsertion(n,s,a,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?n=this._reinsertAfter(h,n._prev,c):n.currentIndex!=c&&(n.currentIndex=c,this._addToMoves(n,c)),n}_truncate(n){for(;null!==n;){const s=n._next;this._addToRemovals(this._unlink(n)),n=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const c=n._prevRemoved,h=n._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(n,s,a),this._addToMoves(n,a),n}_moveAfter(n,s,a){return this._unlink(n),this._insertAfter(n,s,a),this._addToMoves(n,a),n}_addAfter(n,s,a){return this._insertAfter(n,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,s,a){const c=null===s?this._itHead:s._next;return n._next=c,n._prev=s,null===c?this._itTail=n:c._prev=n,null===s?this._itHead=n:s._next=n,null===this._linkedRecords&&(this._linkedRecords=new t0),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const s=n._prev,a=n._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,n}_addToMoves(n,s){return n.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new t0),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,s){return n.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class Gb{constructor(n,s){this.item=n,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Wb{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const s=n._prevDup,a=n._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class t0{constructor(){this.map=new Map}put(n){const s=n.trackById;let a=this.map.get(s);a||(a=new Wb,this.map.set(s,a)),a.add(n)}get(n,s){const c=this.map.get(n);return c?c.get(n,s):null}remove(n){const s=n.trackById;return this.map.get(s).remove(n)&&this.map.delete(s),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function n0(t,n,s){const a=t.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+n+c}class r0{constructor(){}supports(n){return n instanceof Map||Fh(n)}create(){return new zb}}class zb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let s;for(s=this._mapHead;null!==s;s=s._next)n(s)}forEachPreviousItem(n){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)n(s)}forEachChangedItem(n){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}diff(n){if(n){if(!(n instanceof Map||Fh(n)))throw new ze(900,"")}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,s){if(n){const a=n._prev;return s._next=n,s._prev=a,n._prev=s,a&&(a._next=s),n===this._mapHead&&(this._mapHead=s),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(n,s){if(this._records.has(n)){const c=this._records.get(n);this._maybeAddToChanges(c,s);const h=c._prev,m=c._next;return h&&(h._next=m),m&&(m._prev=h),c._next=null,c._prev=null,c}const a=new Kb(n);return this._records.set(n,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,s){Object.is(s,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=s,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,s){n instanceof Map?n.forEach(s):Object.keys(n).forEach(a=>s(n[a],a))}}class Kb{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function s0(){return new zm([new e0])}let zm=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||s0()),deps:[[t,new Gs,new eo]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new ze(901,"")}}return t.\u0275prov=Rt({token:t,providedIn:"root",factory:s0}),t})();function o0(){return new Km([new r0])}let Km=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||o0()),deps:[[t,new Gs,new eo]]}}find(s){const a=this.factories.find(h=>h.supports(s));if(a)return a;throw new ze(901,"")}}return t.\u0275prov=Rt({token:t,providedIn:"root",factory:o0}),t})();const qb=[new r0],Yb=new zm([new e0]),Qb=new Km(qb),Jb=$w(null,"core",[{provide:Pw,useValue:"unknown"},{provide:Gw,deps:[Aa]},{provide:Bw,deps:[]},{provide:kw,deps:[]}]),rI=[{provide:ig,useClass:ig,deps:[Za,Aa,Ea,Qp,nf]},{provide:pE,deps:[Za],useFactory:function iI(t){let n=[];return t.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(s){n.push(s)}}},{provide:nf,useClass:nf,deps:[[new eo,O_]]},{provide:P_,useClass:P_,deps:[]},pb,{provide:zm,useFactory:function Xb(){return Yb},deps:[]},{provide:Km,useFactory:function eI(){return Qb},deps:[]},{provide:Gm,useFactory:function tI(t){return t||function nI(){return"undefined"!=typeof $localize&&$localize.locale||is}()},deps:[[new Xs(Gm),new eo,new Gs]]},{provide:Fw,useValue:"USD"}];let sI=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(On(ig))},t.\u0275mod=Fr({type:t}),t.\u0275inj=Jn({providers:rI}),t})()},2382:(Me,ie,S)=>{"use strict";S.d(ie,{Fj:()=>Ue,qu:()=>Ti,u:()=>Zi,sg:()=>ss,nD:()=>Vt,JJ:()=>an,JL:()=>kt,wV:()=>Dr,UX:()=>ri,kI:()=>Oe,_Y:()=>Gt});var f=S(5e3),R=S(9808),$=S(8306),le=S(4742),re=S(8421),ye=S(7669),_e=S(5403),ge=S(3268),oe=S(1810),ee=S(8996),ae=S(4004);let $e=(()=>{class L{constructor(A,U){this._renderer=A,this._elementRef=U,this.onChange=je=>{},this.onTouched=()=>{}}setProperty(A,U){this._renderer.setProperty(this._elementRef.nativeElement,A,U)}registerOnTouched(A){this.onTouched=A}registerOnChange(A){this.onChange=A}setDisabledState(A){this.setProperty("disabled",A)}}return L.\u0275fac=function(A){return new(A||L)(f.Y36(f.Qsj),f.Y36(f.SBq))},L.\u0275dir=f.lG2({type:L}),L})(),He=(()=>{class L extends $e{}return L.\u0275fac=function(){let x;return function(U){return(x||(x=f.n5z(L)))(U||L)}}(),L.\u0275dir=f.lG2({type:L,features:[f.qOj]}),L})();const ze=new f.OlP("NgValueAccessor"),xe={provide:ze,useExisting:(0,f.Gpc)(()=>Ue),multi:!0},Re=new f.OlP("CompositionEventMode");let Ue=(()=>{class L extends $e{constructor(A,U,je){super(A,U),this._compositionMode=je,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ne(){const L=(0,R.q)()?(0,R.q)().getUserAgent():"";return/android (\d+)/.test(L.toLowerCase())}())}writeValue(A){this.setProperty("value",null==A?"":A)}_handleInput(A){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(A)}_compositionStart(){this._composing=!0}_compositionEnd(A){this._composing=!1,this._compositionMode&&this.onChange(A)}}return L.\u0275fac=function(A){return new(A||L)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(Re,8))},L.\u0275dir=f.lG2({type:L,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(A,U){1&A&&f.NdJ("input",function(Zt){return U._handleInput(Zt.target.value)})("blur",function(){return U.onTouched()})("compositionstart",function(){return U._compositionStart()})("compositionend",function(Zt){return U._compositionEnd(Zt.target.value)})},features:[f._Bn([xe]),f.qOj]}),L})();function at(L){return null==L||0===L.length}function Ke(L){return null!=L&&"number"==typeof L.length}const Et=new f.OlP("NgValidators"),we=new f.OlP("NgAsyncValidators"),nt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Oe{static min(x){return function Ne(L){return x=>{if(at(x.value)||at(L))return null;const A=parseFloat(x.value);return!isNaN(A)&&A<L?{min:{min:L,actual:x.value}}:null}}(x)}static max(x){return function We(L){return x=>{if(at(x.value)||at(L))return null;const A=parseFloat(x.value);return!isNaN(A)&&A>L?{max:{max:L,actual:x.value}}:null}}(x)}static required(x){return function Ge(L){return at(L.value)?{required:!0}:null}(x)}static requiredTrue(x){return function ct(L){return!0===L.value?null:{required:!0}}(x)}static email(x){return function Be(L){return at(L.value)||nt.test(L.value)?null:{email:!0}}(x)}static minLength(x){return function At(L){return x=>at(x.value)||!Ke(x.value)?null:x.value.length<L?{minlength:{requiredLength:L,actualLength:x.value.length}}:null}(x)}static maxLength(x){return on(x)}static pattern(x){return function kn(L){if(!L)return Ot;let x,A;return"string"==typeof L?(A="","^"!==L.charAt(0)&&(A+="^"),A+=L,"$"!==L.charAt(L.length-1)&&(A+="$"),x=new RegExp(A)):(A=L.toString(),x=L),U=>{if(at(U.value))return null;const je=U.value;return x.test(je)?null:{pattern:{requiredPattern:A,actualValue:je}}}}(x)}static nullValidator(x){return null}static compose(x){return Jn(x)}static composeAsync(x){return yr(x)}}function on(L){return x=>Ke(x.value)&&x.value.length>L?{maxlength:{requiredLength:L,actualLength:x.value.length}}:null}function Ot(L){return null}function ft(L){return null!=L}function dn(L){const x=(0,f.QGY)(L)?(0,ee.D)(L):L;return(0,f.CqO)(x),x}function Ht(L){let x={};return L.forEach(A=>{x=null!=A?Object.assign(Object.assign({},x),A):x}),0===Object.keys(x).length?null:x}function sn(L,x){return x.map(A=>A(L))}function Qn(L){return L.map(x=>function Rt(L){return!L.validate}(x)?x:A=>x.validate(A))}function Jn(L){if(!L)return null;const x=L.filter(ft);return 0==x.length?null:function(A){return Ht(sn(A,x))}}function Dn(L){return null!=L?Jn(Qn(L)):null}function yr(L){if(!L)return null;const x=L.filter(ft);return 0==x.length?null:function(A){return function J(...L){const x=(0,ye.jO)(L),{args:A,keys:U}=(0,le.D)(L),je=new $.y(Zt=>{const{length:En}=A;if(!En)return void Zt.complete();const Ur=new Array(En);let bi=En,zr=En;for(let Li=0;Li<En;Li++){let Qs=!1;(0,re.Xf)(A[Li]).subscribe(new _e.Q(Zt,Vs=>{Qs||(Qs=!0,zr--),Ur[Li]=Vs},()=>bi--,void 0,()=>{(!bi||!Qs)&&(zr||Zt.next(U?(0,oe.n)(U,Ur):Ur),Zt.complete())}))}});return x?je.pipe((0,ge.Z)(x)):je}(sn(A,x).map(dn)).pipe((0,ae.U)(Ht))}}function fn(L){return null!=L?yr(Qn(L)):null}function Sn(L,x){return null===L?[x]:Array.isArray(L)?[...L,x]:[L,x]}function ur(L){return L._rawValidators}function tr(L){return L._rawAsyncValidators}function Fn(L){return L?Array.isArray(L)?L:[L]:[]}function ot(L,x){return Array.isArray(L)?L.includes(x):L===x}function Xt(L,x){const A=Fn(x);return Fn(L).forEach(je=>{ot(A,je)||A.push(je)}),A}function It(L,x){return Fn(x).filter(A=>!ot(L,A))}class jn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(x){this._rawValidators=x||[],this._composedValidatorFn=Dn(this._rawValidators)}_setAsyncValidators(x){this._rawAsyncValidators=x||[],this._composedAsyncValidatorFn=fn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(x){this._onDestroyCallbacks.push(x)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(x=>x()),this._onDestroyCallbacks=[]}reset(x){this.control&&this.control.reset(x)}hasError(x,A){return!!this.control&&this.control.hasError(x,A)}getError(x,A){return this.control?this.control.getError(x,A):null}}class Kt extends jn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class bn extends jn{get formDirective(){return null}get path(){return null}}class oi{constructor(x){this._cd=x}is(x){var A,U,je;return"submitted"===x?!!(null===(A=this._cd)||void 0===A?void 0:A.submitted):!!(null===(je=null===(U=this._cd)||void 0===U?void 0:U.control)||void 0===je?void 0:je[x])}}let an=(()=>{class L extends oi{constructor(A){super(A)}}return L.\u0275fac=function(A){return new(A||L)(f.Y36(Kt,2))},L.\u0275dir=f.lG2({type:L,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(A,U){2&A&&f.ekj("ng-untouched",U.is("untouched"))("ng-touched",U.is("touched"))("ng-pristine",U.is("pristine"))("ng-dirty",U.is("dirty"))("ng-valid",U.is("valid"))("ng-invalid",U.is("invalid"))("ng-pending",U.is("pending"))},features:[f.qOj]}),L})(),kt=(()=>{class L extends oi{constructor(A){super(A)}}return L.\u0275fac=function(A){return new(A||L)(f.Y36(bn,10))},L.\u0275dir=f.lG2({type:L,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(A,U){2&A&&f.ekj("ng-untouched",U.is("untouched"))("ng-touched",U.is("touched"))("ng-pristine",U.is("pristine"))("ng-dirty",U.is("dirty"))("ng-valid",U.is("valid"))("ng-invalid",U.is("invalid"))("ng-pending",U.is("pending"))("ng-submitted",U.is("submitted"))},features:[f.qOj]}),L})();function Mn(L,x){In(L,x),x.valueAccessor.writeValue(L.value),function Fr(L,x){x.valueAccessor.registerOnChange(A=>{L._pendingValue=A,L._pendingChange=!0,L._pendingDirty=!0,"change"===L.updateOn&&cn(L,x)})}(L,x),function Sr(L,x){const A=(U,je)=>{x.valueAccessor.writeValue(U),je&&x.viewToModelUpdate(U)};L.registerOnChange(A),x._registerOnDestroy(()=>{L._unregisterOnChange(A)})}(L,x),function $r(L,x){x.valueAccessor.registerOnTouched(()=>{L._pendingTouched=!0,"blur"===L.updateOn&&L._pendingChange&&cn(L,x),"submit"!==L.updateOn&&L.markAsTouched()})}(L,x),function Pr(L,x){if(x.valueAccessor.setDisabledState){const A=U=>{x.valueAccessor.setDisabledState(U)};L.registerOnDisabledChange(A),x._registerOnDestroy(()=>{L._unregisterOnDisabledChange(A)})}}(L,x)}function zn(L,x,A=!0){const U=()=>{};x.valueAccessor&&(x.valueAccessor.registerOnChange(U),x.valueAccessor.registerOnTouched(U)),lr(L,x),L&&(x._invokeOnDestroyCallbacks(),L._registerOnCollectionChange(()=>{}))}function Un(L,x){L.forEach(A=>{A.registerOnValidatorChange&&A.registerOnValidatorChange(x)})}function In(L,x){const A=ur(L);null!==x.validator?L.setValidators(Sn(A,x.validator)):"function"==typeof A&&L.setValidators([A]);const U=tr(L);null!==x.asyncValidator?L.setAsyncValidators(Sn(U,x.asyncValidator)):"function"==typeof U&&L.setAsyncValidators([U]);const je=()=>L.updateValueAndValidity();Un(x._rawValidators,je),Un(x._rawAsyncValidators,je)}function lr(L,x){let A=!1;if(null!==L){if(null!==x.validator){const je=ur(L);if(Array.isArray(je)&&je.length>0){const Zt=je.filter(En=>En!==x.validator);Zt.length!==je.length&&(A=!0,L.setValidators(Zt))}}if(null!==x.asyncValidator){const je=tr(L);if(Array.isArray(je)&&je.length>0){const Zt=je.filter(En=>En!==x.asyncValidator);Zt.length!==je.length&&(A=!0,L.setAsyncValidators(Zt))}}}const U=()=>{};return Un(x._rawValidators,U),Un(x._rawAsyncValidators,U),A}function cn(L,x){L._pendingDirty&&L.markAsDirty(),L.setValue(L._pendingValue,{emitModelToViewChange:!1}),x.viewToModelUpdate(L._pendingValue),L._pendingChange=!1}function Hr(L,x){const A=L.indexOf(x);A>-1&&L.splice(A,1)}const Lr="VALID",Tn="INVALID",gt="PENDING",un="DISABLED";function cr(L){return(hn(L)?L.validators:L)||null}function br(L){return Array.isArray(L)?Dn(L):L||null}function $n(L,x){return(hn(x)?x.asyncValidators:L)||null}function xr(L){return Array.isArray(L)?fn(L):L||null}function hn(L){return null!=L&&!Array.isArray(L)&&"object"==typeof L}const Vr=L=>L instanceof Pe,ir=L=>L instanceof Qe,_n=L=>L instanceof yt;function ti(L){return Vr(L)?L.value:L.getRawValue()}function ai(L,x){const A=ir(L),U=L.controls;if(!(A?Object.keys(U):U).length)throw new f.vHH(1e3,"");if(!U[x])throw new f.vHH(1001,"")}function he(L,x){ir(L),L._forEachChild((U,je)=>{if(void 0===x[je])throw new f.vHH(1002,"")})}class Je{constructor(x,A){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=x,this._rawAsyncValidators=A,this._composedValidatorFn=br(this._rawValidators),this._composedAsyncValidatorFn=xr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(x){this._rawValidators=this._composedValidatorFn=x}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(x){this._rawAsyncValidators=this._composedAsyncValidatorFn=x}get parent(){return this._parent}get valid(){return this.status===Lr}get invalid(){return this.status===Tn}get pending(){return this.status==gt}get disabled(){return this.status===un}get enabled(){return this.status!==un}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(x){this._rawValidators=x,this._composedValidatorFn=br(x)}setAsyncValidators(x){this._rawAsyncValidators=x,this._composedAsyncValidatorFn=xr(x)}addValidators(x){this.setValidators(Xt(x,this._rawValidators))}addAsyncValidators(x){this.setAsyncValidators(Xt(x,this._rawAsyncValidators))}removeValidators(x){this.setValidators(It(x,this._rawValidators))}removeAsyncValidators(x){this.setAsyncValidators(It(x,this._rawAsyncValidators))}hasValidator(x){return ot(this._rawValidators,x)}hasAsyncValidator(x){return ot(this._rawAsyncValidators,x)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(x={}){this.touched=!0,this._parent&&!x.onlySelf&&this._parent.markAsTouched(x)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(x=>x.markAllAsTouched())}markAsUntouched(x={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(A=>{A.markAsUntouched({onlySelf:!0})}),this._parent&&!x.onlySelf&&this._parent._updateTouched(x)}markAsDirty(x={}){this.pristine=!1,this._parent&&!x.onlySelf&&this._parent.markAsDirty(x)}markAsPristine(x={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(A=>{A.markAsPristine({onlySelf:!0})}),this._parent&&!x.onlySelf&&this._parent._updatePristine(x)}markAsPending(x={}){this.status=gt,!1!==x.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!x.onlySelf&&this._parent.markAsPending(x)}disable(x={}){const A=this._parentMarkedDirty(x.onlySelf);this.status=un,this.errors=null,this._forEachChild(U=>{U.disable(Object.assign(Object.assign({},x),{onlySelf:!0}))}),this._updateValue(),!1!==x.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},x),{skipPristineCheck:A})),this._onDisabledChange.forEach(U=>U(!0))}enable(x={}){const A=this._parentMarkedDirty(x.onlySelf);this.status=Lr,this._forEachChild(U=>{U.enable(Object.assign(Object.assign({},x),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:x.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},x),{skipPristineCheck:A})),this._onDisabledChange.forEach(U=>U(!1))}_updateAncestors(x){this._parent&&!x.onlySelf&&(this._parent.updateValueAndValidity(x),x.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(x){this._parent=x}updateValueAndValidity(x={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Lr||this.status===gt)&&this._runAsyncValidator(x.emitEvent)),!1!==x.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!x.onlySelf&&this._parent.updateValueAndValidity(x)}_updateTreeValidity(x={emitEvent:!0}){this._forEachChild(A=>A._updateTreeValidity(x)),this.updateValueAndValidity({onlySelf:!0,emitEvent:x.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?un:Lr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(x){if(this.asyncValidator){this.status=gt,this._hasOwnPendingAsyncValidator=!0;const A=dn(this.asyncValidator(this));this._asyncValidationSubscription=A.subscribe(U=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(U,{emitEvent:x})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(x,A={}){this.errors=x,this._updateControlsErrors(!1!==A.emitEvent)}get(x){return function Nn(L,x,A){if(null==x||(Array.isArray(x)||(x=x.split(A)),Array.isArray(x)&&0===x.length))return null;let U=L;return x.forEach(je=>{U=ir(U)?U.controls.hasOwnProperty(je)?U.controls[je]:null:_n(U)&&U.at(je)||null}),U}(this,x,".")}getError(x,A){const U=A?this.get(A):this;return U&&U.errors?U.errors[x]:null}hasError(x,A){return!!this.getError(x,A)}get root(){let x=this;for(;x._parent;)x=x._parent;return x}_updateControlsErrors(x){this.status=this._calculateStatus(),x&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(x)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?un:this.errors?Tn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gt)?gt:this._anyControlsHaveStatus(Tn)?Tn:Lr}_anyControlsHaveStatus(x){return this._anyControls(A=>A.status===x)}_anyControlsDirty(){return this._anyControls(x=>x.dirty)}_anyControlsTouched(){return this._anyControls(x=>x.touched)}_updatePristine(x={}){this.pristine=!this._anyControlsDirty(),this._parent&&!x.onlySelf&&this._parent._updatePristine(x)}_updateTouched(x={}){this.touched=this._anyControlsTouched(),this._parent&&!x.onlySelf&&this._parent._updateTouched(x)}_isBoxedValue(x){return"object"==typeof x&&null!==x&&2===Object.keys(x).length&&"value"in x&&"disabled"in x}_registerOnCollectionChange(x){this._onCollectionChange=x}_setUpdateStrategy(x){hn(x)&&null!=x.updateOn&&(this._updateOn=x.updateOn)}_parentMarkedDirty(x){return!x&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Pe extends Je{constructor(x=null,A,U){super(cr(A),$n(U,A)),this._onChange=[],this._pendingChange=!1,this._applyFormState(x),this._setUpdateStrategy(A),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(x,A={}){this.value=this._pendingValue=x,this._onChange.length&&!1!==A.emitModelToViewChange&&this._onChange.forEach(U=>U(this.value,!1!==A.emitViewToModelChange)),this.updateValueAndValidity(A)}patchValue(x,A={}){this.setValue(x,A)}reset(x=null,A={}){this._applyFormState(x),this.markAsPristine(A),this.markAsUntouched(A),this.setValue(this.value,A),this._pendingChange=!1}_updateValue(){}_anyControls(x){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(x){this._onChange.push(x)}_unregisterOnChange(x){Hr(this._onChange,x)}registerOnDisabledChange(x){this._onDisabledChange.push(x)}_unregisterOnDisabledChange(x){Hr(this._onDisabledChange,x)}_forEachChild(x){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(x){this._isBoxedValue(x)?(this.value=this._pendingValue=x.value,x.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=x}}class Qe extends Je{constructor(x,A,U){super(cr(A),$n(U,A)),this.controls=x,this._initObservables(),this._setUpdateStrategy(A),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(x,A){return this.controls[x]?this.controls[x]:(this.controls[x]=A,A.setParent(this),A._registerOnCollectionChange(this._onCollectionChange),A)}addControl(x,A,U={}){this.registerControl(x,A),this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}removeControl(x,A={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),delete this.controls[x],this.updateValueAndValidity({emitEvent:A.emitEvent}),this._onCollectionChange()}setControl(x,A,U={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),delete this.controls[x],A&&this.registerControl(x,A),this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}contains(x){return this.controls.hasOwnProperty(x)&&this.controls[x].enabled}setValue(x,A={}){he(this,x),Object.keys(x).forEach(U=>{ai(this,U),this.controls[U].setValue(x[U],{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A)}patchValue(x,A={}){null!=x&&(Object.keys(x).forEach(U=>{this.controls[U]&&this.controls[U].patchValue(x[U],{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A))}reset(x={},A={}){this._forEachChild((U,je)=>{U.reset(x[je],{onlySelf:!0,emitEvent:A.emitEvent})}),this._updatePristine(A),this._updateTouched(A),this.updateValueAndValidity(A)}getRawValue(){return this._reduceChildren({},(x,A,U)=>(x[U]=ti(A),x))}_syncPendingControls(){let x=this._reduceChildren(!1,(A,U)=>!!U._syncPendingControls()||A);return x&&this.updateValueAndValidity({onlySelf:!0}),x}_forEachChild(x){Object.keys(this.controls).forEach(A=>{const U=this.controls[A];U&&x(U,A)})}_setUpControls(){this._forEachChild(x=>{x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(x){for(const A of Object.keys(this.controls)){const U=this.controls[A];if(this.contains(A)&&x(U))return!0}return!1}_reduceValue(){return this._reduceChildren({},(x,A,U)=>((A.enabled||this.disabled)&&(x[U]=A.value),x))}_reduceChildren(x,A){let U=x;return this._forEachChild((je,Zt)=>{U=A(U,je,Zt)}),U}_allControlsDisabled(){for(const x of Object.keys(this.controls))if(this.controls[x].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class yt extends Je{constructor(x,A,U){super(cr(A),$n(U,A)),this.controls=x,this._initObservables(),this._setUpdateStrategy(A),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(x){return this.controls[x]}push(x,A={}){this.controls.push(x),this._registerControl(x),this.updateValueAndValidity({emitEvent:A.emitEvent}),this._onCollectionChange()}insert(x,A,U={}){this.controls.splice(x,0,A),this._registerControl(A),this.updateValueAndValidity({emitEvent:U.emitEvent})}removeAt(x,A={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),this.controls.splice(x,1),this.updateValueAndValidity({emitEvent:A.emitEvent})}setControl(x,A,U={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),this.controls.splice(x,1),A&&(this.controls.splice(x,0,A),this._registerControl(A)),this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(x,A={}){he(this,x),x.forEach((U,je)=>{ai(this,je),this.at(je).setValue(U,{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A)}patchValue(x,A={}){null!=x&&(x.forEach((U,je)=>{this.at(je)&&this.at(je).patchValue(U,{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A))}reset(x=[],A={}){this._forEachChild((U,je)=>{U.reset(x[je],{onlySelf:!0,emitEvent:A.emitEvent})}),this._updatePristine(A),this._updateTouched(A),this.updateValueAndValidity(A)}getRawValue(){return this.controls.map(x=>ti(x))}clear(x={}){this.controls.length<1||(this._forEachChild(A=>A._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:x.emitEvent}))}_syncPendingControls(){let x=this.controls.reduce((A,U)=>!!U._syncPendingControls()||A,!1);return x&&this.updateValueAndValidity({onlySelf:!0}),x}_forEachChild(x){this.controls.forEach((A,U)=>{x(A,U)})}_updateValue(){this.value=this.controls.filter(x=>x.enabled||this.disabled).map(x=>x.value)}_anyControls(x){return this.controls.some(A=>A.enabled&&x(A))}_setUpControls(){this._forEachChild(x=>this._registerControl(x))}_allControlsDisabled(){for(const x of this.controls)if(x.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(x){x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange)}}let Gt=(()=>{class L{}return L.\u0275fac=function(A){return new(A||L)},L.\u0275dir=f.lG2({type:L,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),L})();const Vn={provide:ze,useExisting:(0,f.Gpc)(()=>Dr),multi:!0};let Dr=(()=>{class L extends He{writeValue(A){this.setProperty("value",null==A?"":A)}registerOnChange(A){this.onChange=U=>{A(""==U?null:parseFloat(U))}}}return L.\u0275fac=function(){let x;return function(U){return(x||(x=f.n5z(L)))(U||L)}}(),L.\u0275dir=f.lG2({type:L,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(A,U){1&A&&f.NdJ("input",function(Zt){return U.onChange(Zt.target.value)})("blur",function(){return U.onTouched()})},features:[f._Bn([Vn]),f.qOj]}),L})(),Ye=(()=>{class L{}return L.\u0275fac=function(A){return new(A||L)},L.\u0275mod=f.oAB({type:L}),L.\u0275inj=f.cJS({}),L})();const Or=new f.OlP("NgModelWithFormControlWarning"),Ki={provide:bn,useExisting:(0,f.Gpc)(()=>ss)};let ss=(()=>{class L extends bn{constructor(A,U){super(),this.validators=A,this.asyncValidators=U,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(A),this._setAsyncValidators(U)}ngOnChanges(A){this._checkFormPresent(),A.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(lr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(A){const U=this.form.get(A.path);return Mn(U,A),U.updateValueAndValidity({emitEvent:!1}),this.directives.push(A),U}getControl(A){return this.form.get(A.path)}removeControl(A){zn(A.control||null,A,!1),Hr(this.directives,A)}addFormGroup(A){this._setUpFormContainer(A)}removeFormGroup(A){this._cleanUpFormContainer(A)}getFormGroup(A){return this.form.get(A.path)}addFormArray(A){this._setUpFormContainer(A)}removeFormArray(A){this._cleanUpFormContainer(A)}getFormArray(A){return this.form.get(A.path)}updateModel(A,U){this.form.get(A.path).setValue(U)}onSubmit(A){return this.submitted=!0,function gi(L,x){L._syncPendingControls(),x.forEach(A=>{const U=A.control;"submit"===U.updateOn&&U._pendingChange&&(A.viewToModelUpdate(U._pendingValue),U._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(A),!1}onReset(){this.resetForm()}resetForm(A){this.form.reset(A),this.submitted=!1}_updateDomValue(){this.directives.forEach(A=>{const U=A.control,je=this.form.get(A.path);U!==je&&(zn(U||null,A),Vr(je)&&(Mn(je,A),A.control=je))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(A){const U=this.form.get(A.path);(function Cn(L,x){In(L,x)})(U,A),U.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(A){if(this.form){const U=this.form.get(A.path);U&&function Xn(L,x){return lr(L,x)}(U,A)&&U.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){In(this.form,this),this._oldForm&&lr(this._oldForm,this)}_checkFormPresent(){}}return L.\u0275fac=function(A){return new(A||L)(f.Y36(Et,10),f.Y36(we,10))},L.\u0275dir=f.lG2({type:L,selectors:[["","formGroup",""]],hostBindings:function(A,U){1&A&&f.NdJ("submit",function(Zt){return U.onSubmit(Zt)})("reset",function(){return U.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([Ki]),f.qOj,f.TTD]}),L})();const os={provide:Kt,useExisting:(0,f.Gpc)(()=>Zi)};let Zi=(()=>{class L extends Kt{constructor(A,U,je,Zt,En){super(),this._ngModelWarningConfig=En,this._added=!1,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=A,this._setValidators(U),this._setAsyncValidators(je),this.valueAccessor=function Mr(L,x){if(!x)return null;let A,U,je;return Array.isArray(x),x.forEach(Zt=>{Zt.constructor===Ue?A=Zt:function Er(L){return Object.getPrototypeOf(L.constructor)===He}(Zt)?U=Zt:je=Zt}),je||U||A||null}(0,Zt)}set isDisabled(A){}ngOnChanges(A){this._added||this._setUpControl(),function nr(L,x){if(!L.hasOwnProperty("model"))return!1;const A=L.model;return!!A.isFirstChange()||!Object.is(x,A.currentValue)}(A,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(A){this.viewModel=A,this.update.emit(A)}get path(){return function Ut(L,x){return[...x.path,L]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return L._ngModelWarningSentOnce=!1,L.\u0275fac=function(A){return new(A||L)(f.Y36(bn,13),f.Y36(Et,10),f.Y36(we,10),f.Y36(ze,10),f.Y36(Or,8))},L.\u0275dir=f.lG2({type:L,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([os]),f.qOj,f.TTD]}),L})();let Ni=(()=>{class L{constructor(){this._validator=Ot}ngOnChanges(A){if(this.inputName in A){const U=this.normalizeInput(A[this.inputName].currentValue);this._enabled=this.enabled(U),this._validator=this._enabled?this.createValidator(U):Ot,this._onChange&&this._onChange()}}validate(A){return this._validator(A)}registerOnValidatorChange(A){this._onChange=A}enabled(A){return null!=A}}return L.\u0275fac=function(A){return new(A||L)},L.\u0275dir=f.lG2({type:L,features:[f.TTD]}),L})();const pt={provide:Et,useExisting:(0,f.Gpc)(()=>Vt),multi:!0};let Vt=(()=>{class L extends Ni{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=A=>function Ds(L){return"number"==typeof L?L:parseInt(L,10)}(A),this.createValidator=A=>on(A)}}return L.\u0275fac=function(){let x;return function(U){return(x||(x=f.n5z(L)))(U||L)}}(),L.\u0275dir=f.lG2({type:L,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(A,U){2&A&&f.uIk("maxlength",U._enabled?U.maxlength:null)},inputs:{maxlength:"maxlength"},features:[f._Bn([pt]),f.qOj]}),L})(),ar=(()=>{class L{}return L.\u0275fac=function(A){return new(A||L)},L.\u0275mod=f.oAB({type:L}),L.\u0275inj=f.cJS({imports:[[Ye]]}),L})(),ri=(()=>{class L{static withConfig(A){return{ngModule:L,providers:[{provide:Or,useValue:A.warnOnNgModelWithFormControl}]}}}return L.\u0275fac=function(A){return new(A||L)},L.\u0275mod=f.oAB({type:L}),L.\u0275inj=f.cJS({imports:[ar]}),L})(),Ti=(()=>{class L{group(A,U=null){const je=this._reduceControls(A);let Ur,Zt=null,En=null;return null!=U&&(function mi(L){return void 0!==L.asyncValidators||void 0!==L.validators||void 0!==L.updateOn}(U)?(Zt=null!=U.validators?U.validators:null,En=null!=U.asyncValidators?U.asyncValidators:null,Ur=null!=U.updateOn?U.updateOn:void 0):(Zt=null!=U.validator?U.validator:null,En=null!=U.asyncValidator?U.asyncValidator:null)),new Qe(je,{asyncValidators:En,updateOn:Ur,validators:Zt})}control(A,U,je){return new Pe(A,U,je)}array(A,U,je){const Zt=A.map(En=>this._createControl(En));return new yt(Zt,U,je)}_reduceControls(A){const U={};return Object.keys(A).forEach(je=>{U[je]=this._createControl(A[je])}),U}_createControl(A){return Vr(A)||ir(A)||_n(A)?A:Array.isArray(A)?this.control(A[0],A.length>1?A[1]:null,A.length>2?A[2]:null):this.control(A)}}return L.\u0275fac=function(A){return new(A||L)},L.\u0275prov=f.Yz7({token:L,factory:L.\u0275fac,providedIn:ri}),L})()},6115:(Me,ie,S)=>{"use strict";S.d(ie,{F0:()=>Si,yS:()=>ao,Bz:()=>ht,lC:()=>us});var f=S(5e3),R=S(8306),$=S(4742),le=S(8996),re=S(4671),ye=S(3268),_e=S(7669),ge=S(1810),oe=S(5403),J=S(9672);function $e(I,w,_){I?(0,J.f)(_,I,w):w()}var He=S(8421);function ze(I){return new R.y(w=>{(0,He.Xf)(I()).subscribe(w)})}var st=S(727),Ae=S(4482);function xe(){return(0,Ae.e)((I,w)=>{let _=null;I._refCount++;const C=new oe.Q(w,void 0,void 0,void 0,()=>{if(!I||I._refCount<=0||0<--I._refCount)return void(_=null);const k=I._connection,q=_;_=null,k&&(!q||k===q)&&k.unsubscribe(),w.unsubscribe()});I.subscribe(C),C.closed||(_=I.connect())})}class ne extends R.y{constructor(w,_){super(),this.source=w,this.subjectFactory=_,this._subject=null,this._refCount=0,this._connection=null,(0,Ae.A)(w)&&(this.lift=w.lift)}_subscribe(w){return this.getSubject().subscribe(w)}getSubject(){const w=this._subject;return(!w||w.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:w}=this;this._subject=this._connection=null,null==w||w.unsubscribe()}connect(){let w=this._connection;if(!w){w=this._connection=new st.w0;const _=this.getSubject();w.add(this.source.subscribe(new oe.Q(_,void 0,()=>{this._teardown(),_.complete()},C=>{this._teardown(),_.error(C)},()=>this._teardown()))),w.closed&&(this._connection=null,w=st.w0.EMPTY)}return w}refCount(){return xe()(this)}}var Re=S(9646),Ue=S(1135),at=S(6805),Ke=S(7272),Et=S(515),we=S(7579),nt=S(9300);function Oe(I){return I<=0?()=>Et.E:(0,Ae.e)((w,_)=>{let C=[];w.subscribe(new oe.Q(_,k=>{C.push(k),I<C.length&&C.shift()},()=>{for(const k of C)_.next(k);_.complete()},void 0,()=>{C=null}))})}var Ne=S(8068),We=S(6590),Be=S(4004),At=S(3900),on=S(5698),kn=S(8675),Ot=S(5026),ft=S(262),dn=S(4351),Ht=S(590),sn=S(5577),Rt=S(8505),Qn=S(8189),Jn=S(9808);class Dn{constructor(w,_){this.id=w,this.url=_}}class yr extends Dn{constructor(w,_,C="imperative",k=null){super(w,_),this.navigationTrigger=C,this.restoredState=k}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class fn extends Dn{constructor(w,_,C){super(w,_),this.urlAfterRedirects=C}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Sn extends Dn{constructor(w,_,C){super(w,_),this.reason=C}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ur extends Dn{constructor(w,_,C){super(w,_),this.error=C}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class tr extends Dn{constructor(w,_,C,k){super(w,_),this.urlAfterRedirects=C,this.state=k}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fn extends Dn{constructor(w,_,C,k){super(w,_),this.urlAfterRedirects=C,this.state=k}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ot extends Dn{constructor(w,_,C,k,q){super(w,_),this.urlAfterRedirects=C,this.state=k,this.shouldActivate=q}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Xt extends Dn{constructor(w,_,C,k){super(w,_),this.urlAfterRedirects=C,this.state=k}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class It extends Dn{constructor(w,_,C,k){super(w,_),this.urlAfterRedirects=C,this.state=k}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jn{constructor(w){this.route=w}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Kt{constructor(w){this.route=w}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class bn{constructor(w){this.snapshot=w}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oi{constructor(w){this.snapshot=w}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qt{constructor(w){this.snapshot=w}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vt{constructor(w){this.snapshot=w}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class an{constructor(w,_,C){this.routerEvent=w,this.position=_,this.anchor=C}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const kt="primary";class Pn{constructor(w){this.params=w||{}}has(w){return Object.prototype.hasOwnProperty.call(this.params,w)}get(w){if(this.has(w)){const _=this.params[w];return Array.isArray(_)?_[0]:_}return null}getAll(w){if(this.has(w)){const _=this.params[w];return Array.isArray(_)?_:[_]}return[]}get keys(){return Object.keys(this.params)}}function Bt(I){return new Pn(I)}const Mt="ngNavigationCancelingError";function $t(I){const w=Error("NavigationCancelingError: "+I);return w[Mt]=!0,w}function pr(I,w,_){const C=_.path.split("/");if(C.length>I.length||"full"===_.pathMatch&&(w.hasChildren()||C.length<I.length))return null;const k={};for(let q=0;q<C.length;q++){const Q=C[q],Y=I[q];if(Q.startsWith(":"))k[Q.substring(1)]=Y;else if(Q!==Y.path)return null}return{consumed:I.slice(0,C.length),posParams:k}}function xn(I,w){const _=I?Object.keys(I):void 0,C=w?Object.keys(w):void 0;if(!_||!C||_.length!=C.length)return!1;let k;for(let q=0;q<_.length;q++)if(k=_[q],!Ar(I[k],w[k]))return!1;return!0}function Ar(I,w){if(Array.isArray(I)&&Array.isArray(w)){if(I.length!==w.length)return!1;const _=[...I].sort(),C=[...w].sort();return _.every((k,q)=>C[q]===k)}return I===w}function qr(I){return Array.prototype.concat.apply([],I)}function fe(I){return I.length>0?I[I.length-1]:null}function be(I,w){for(const _ in I)I.hasOwnProperty(_)&&w(I[_],_)}function Ve(I){return(0,f.CqO)(I)?I:(0,f.QGY)(I)?(0,le.D)(Promise.resolve(I)):(0,Re.of)(I)}const Nt={exact:function Un(I,w,_){if(!Xn(I.segments,w.segments)||!Fr(I.segments,w.segments,_)||I.numberOfChildren!==w.numberOfChildren)return!1;for(const C in w.children)if(!I.children[C]||!Un(I.children[C],w.children[C],_))return!1;return!0},subset:In},Ut={exact:function zn(I,w){return xn(I,w)},subset:function Pr(I,w){return Object.keys(w).length<=Object.keys(I).length&&Object.keys(w).every(_=>Ar(I[_],w[_]))},ignored:()=>!0};function Mn(I,w,_){return Nt[_.paths](I.root,w.root,_.matrixParams)&&Ut[_.queryParams](I.queryParams,w.queryParams)&&!("exact"===_.fragment&&I.fragment!==w.fragment)}function In(I,w,_){return lr(I,w,w.segments,_)}function lr(I,w,_,C){if(I.segments.length>_.length){const k=I.segments.slice(0,_.length);return!(!Xn(k,_)||w.hasChildren()||!Fr(k,_,C))}if(I.segments.length===_.length){if(!Xn(I.segments,_)||!Fr(I.segments,_,C))return!1;for(const k in w.children)if(!I.children[k]||!In(I.children[k],w.children[k],C))return!1;return!0}{const k=_.slice(0,I.segments.length),q=_.slice(I.segments.length);return!!(Xn(I.segments,k)&&Fr(I.segments,k,C)&&I.children[kt])&&lr(I.children[kt],w,q,C)}}function Fr(I,w,_){return w.every((C,k)=>Ut[_](I[k].parameters,C.parameters))}class $r{constructor(w,_,C){this.root=w,this.queryParams=_,this.fragment=C}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bt(this.queryParams)),this._queryParamMap}toString(){return Er.serialize(this)}}class cn{constructor(w,_){this.segments=w,this.children=_,this.parent=null,be(_,(C,k)=>C.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gi(this)}}class Sr{constructor(w,_){this.path=w,this.parameters=_}get parameterMap(){return this._parameterMap||(this._parameterMap=Bt(this.parameters)),this._parameterMap}toString(){return un(this)}}function Xn(I,w){return I.length===w.length&&I.every((_,C)=>_.path===w[C].path)}class _r{}class nr{parse(w){const _=new _n(w);return new $r(_.parseRootSegment(),_.parseQueryParams(),_.parseFragment())}serialize(w){const _=`/${Mr(w.root,!0)}`,C=function cr(I){const w=Object.keys(I).map(_=>{const C=I[_];return Array.isArray(C)?C.map(k=>`${Gr(_)}=${Gr(k)}`).join("&"):`${Gr(_)}=${Gr(C)}`}).filter(_=>!!_);return w.length?`?${w.join("&")}`:""}(w.queryParams);return`${_}${C}${"string"==typeof w.fragment?`#${function Wt(I){return encodeURI(I)}(w.fragment)}`:""}`}}const Er=new nr;function gi(I){return I.segments.map(w=>un(w)).join("/")}function Mr(I,w){if(!I.hasChildren())return gi(I);if(w){const _=I.children[kt]?Mr(I.children[kt],!1):"",C=[];return be(I.children,(k,q)=>{q!==kt&&C.push(`${q}:${Mr(k,!1)}`)}),C.length>0?`${_}(${C.join("//")})`:_}{const _=function wr(I,w){let _=[];return be(I.children,(C,k)=>{k===kt&&(_=_.concat(w(C,k)))}),be(I.children,(C,k)=>{k!==kt&&(_=_.concat(w(C,k)))}),_}(I,(C,k)=>k===kt?[Mr(I.children[kt],!1)]:[`${k}:${Mr(C,!1)}`]);return 1===Object.keys(I.children).length&&null!=I.children[kt]?`${gi(I)}/${_[0]}`:`${gi(I)}/(${_.join("//")})`}}function Hr(I){return encodeURIComponent(I).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gr(I){return Hr(I).replace(/%3B/gi,";")}function Lr(I){return Hr(I).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tn(I){return decodeURIComponent(I)}function gt(I){return Tn(I.replace(/\+/g,"%20"))}function un(I){return`${Lr(I.path)}${function Nn(I){return Object.keys(I).map(w=>`;${Lr(w)}=${Lr(I[w])}`).join("")}(I.parameters)}`}const br=/^[^\/()?;=#]+/;function $n(I){const w=I.match(br);return w?w[0]:""}const xr=/^[^=?&#]+/,Vr=/^[^&#]+/;class _n{constructor(w){this.url=w,this.remaining=w}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new cn([],{}):new cn([],this.parseChildren())}parseQueryParams(){const w={};if(this.consumeOptional("?"))do{this.parseQueryParam(w)}while(this.consumeOptional("&"));return w}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const w=[];for(this.peekStartsWith("(")||w.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),w.push(this.parseSegment());let _={};this.peekStartsWith("/(")&&(this.capture("/"),_=this.parseParens(!0));let C={};return this.peekStartsWith("(")&&(C=this.parseParens(!1)),(w.length>0||Object.keys(_).length>0)&&(C[kt]=new cn(w,_)),C}parseSegment(){const w=$n(this.remaining);if(""===w&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(w),new Sr(Tn(w),this.parseMatrixParams())}parseMatrixParams(){const w={};for(;this.consumeOptional(";");)this.parseParam(w);return w}parseParam(w){const _=$n(this.remaining);if(!_)return;this.capture(_);let C="";if(this.consumeOptional("=")){const k=$n(this.remaining);k&&(C=k,this.capture(C))}w[Tn(_)]=Tn(C)}parseQueryParam(w){const _=function hn(I){const w=I.match(xr);return w?w[0]:""}(this.remaining);if(!_)return;this.capture(_);let C="";if(this.consumeOptional("=")){const Q=function ir(I){const w=I.match(Vr);return w?w[0]:""}(this.remaining);Q&&(C=Q,this.capture(C))}const k=gt(_),q=gt(C);if(w.hasOwnProperty(k)){let Q=w[k];Array.isArray(Q)||(Q=[Q],w[k]=Q),Q.push(q)}else w[k]=q}parseParens(w){const _={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const C=$n(this.remaining),k=this.remaining[C.length];if("/"!==k&&")"!==k&&";"!==k)throw new Error(`Cannot parse url '${this.url}'`);let q;C.indexOf(":")>-1?(q=C.substr(0,C.indexOf(":")),this.capture(q),this.capture(":")):w&&(q=kt);const Q=this.parseChildren();_[q]=1===Object.keys(Q).length?Q[kt]:new cn([],Q),this.consumeOptional("//")}return _}peekStartsWith(w){return this.remaining.startsWith(w)}consumeOptional(w){return!!this.peekStartsWith(w)&&(this.remaining=this.remaining.substring(w.length),!0)}capture(w){if(!this.consumeOptional(w))throw new Error(`Expected "${w}".`)}}class ti{constructor(w){this._root=w}get root(){return this._root.value}parent(w){const _=this.pathFromRoot(w);return _.length>1?_[_.length-2]:null}children(w){const _=ai(w,this._root);return _?_.children.map(C=>C.value):[]}firstChild(w){const _=ai(w,this._root);return _&&_.children.length>0?_.children[0].value:null}siblings(w){const _=he(w,this._root);return _.length<2?[]:_[_.length-2].children.map(k=>k.value).filter(k=>k!==w)}pathFromRoot(w){return he(w,this._root).map(_=>_.value)}}function ai(I,w){if(I===w.value)return w;for(const _ of w.children){const C=ai(I,_);if(C)return C}return null}function he(I,w){if(I===w.value)return[w];for(const _ of w.children){const C=he(I,_);if(C.length)return C.unshift(w),C}return[]}class Je{constructor(w,_){this.value=w,this.children=_}toString(){return`TreeNode(${this.value})`}}function Pe(I){const w={};return I&&I.children.forEach(_=>w[_.value.outlet]=_),w}class Qe extends ti{constructor(w,_){super(w),this.snapshot=_,Zr(this,w)}toString(){return this.snapshot.toString()}}function yt(I,w){const _=function bt(I,w){const Q=new rr([],{},{},"",{},kt,w,null,I.root,-1,{});return new An("",new Je(Q,[]))}(I,w),C=new Ue.X([new Sr("",{})]),k=new Ue.X({}),q=new Ue.X({}),Q=new Ue.X({}),Y=new Ue.X(""),Ee=new Lt(C,k,Q,Y,q,kt,w,_.root);return Ee.snapshot=_.root,new Qe(new Je(Ee,[]),_)}class Lt{constructor(w,_,C,k,q,Q,Y,Ee){this.url=w,this.params=_,this.queryParams=C,this.fragment=k,this.data=q,this.outlet=Q,this.component=Y,this._futureSnapshot=Ee}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Be.U)(w=>Bt(w)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Be.U)(w=>Bt(w)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function sr(I,w="emptyOnly"){const _=I.pathFromRoot;let C=0;if("always"!==w)for(C=_.length-1;C>=1;){const k=_[C],q=_[C-1];if(k.routeConfig&&""===k.routeConfig.path)C--;else{if(q.component)break;C--}}return function Kn(I){return I.reduce((w,_)=>({params:Object.assign(Object.assign({},w.params),_.params),data:Object.assign(Object.assign({},w.data),_.data),resolve:Object.assign(Object.assign({},w.resolve),_._resolvedData)}),{params:{},data:{},resolve:{}})}(_.slice(C))}class rr{constructor(w,_,C,k,q,Q,Y,Ee,Ct,Gn,mn){this.url=w,this.params=_,this.queryParams=C,this.fragment=k,this.data=q,this.outlet=Q,this.component=Y,this.routeConfig=Ee,this._urlSegment=Ct,this._lastPathIndex=Gn,this._resolve=mn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Bt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(C=>C.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class An extends ti{constructor(w,_){super(_),this.url=w,Zr(this,_)}toString(){return Ir(this._root)}}function Zr(I,w){w.value._routerState=I,w.children.forEach(_=>Zr(I,_))}function Ir(I){const w=I.children.length>0?` { ${I.children.map(Ir).join(", ")} } `:"";return`${I.value}${w}`}function ce(I){if(I.snapshot){const w=I.snapshot,_=I._futureSnapshot;I.snapshot=_,xn(w.queryParams,_.queryParams)||I.queryParams.next(_.queryParams),w.fragment!==_.fragment&&I.fragment.next(_.fragment),xn(w.params,_.params)||I.params.next(_.params),function en(I,w){if(I.length!==w.length)return!1;for(let _=0;_<I.length;++_)if(!xn(I[_],w[_]))return!1;return!0}(w.url,_.url)||I.url.next(_.url),xn(w.data,_.data)||I.data.next(_.data)}else I.snapshot=I._futureSnapshot,I.data.next(I._futureSnapshot.data)}function ue(I,w){const _=xn(I.params,w.params)&&function Cn(I,w){return Xn(I,w)&&I.every((_,C)=>xn(_.parameters,w[C].parameters))}(I.url,w.url);return _&&!(!I.parent!=!w.parent)&&(!I.parent||ue(I.parent,w.parent))}function Le(I,w,_){if(_&&I.shouldReuseRoute(w.value,_.value.snapshot)){const C=_.value;C._futureSnapshot=w.value;const k=function ut(I,w,_){return w.children.map(C=>{for(const k of _.children)if(I.shouldReuseRoute(C.value,k.value.snapshot))return Le(I,C,k);return Le(I,C)})}(I,w,_);return new Je(C,k)}{if(I.shouldAttach(w.value)){const q=I.retrieve(w.value);if(null!==q){const Q=q.route;return Q.value._futureSnapshot=w.value,Q.children=w.children.map(Y=>Le(I,Y)),Q}}const C=function Gt(I){return new Lt(new Ue.X(I.url),new Ue.X(I.params),new Ue.X(I.queryParams),new Ue.X(I.fragment),new Ue.X(I.data),I.outlet,I.component,I)}(w.value),k=w.children.map(q=>Le(I,q));return new Je(C,k)}}function Dr(I){return"object"==typeof I&&null!=I&&!I.outlets&&!I.segmentPath}function Te(I){return"object"==typeof I&&null!=I&&I.outlets}function Ce(I,w,_,C,k){let q={};return C&&be(C,(Q,Y)=>{q[Y]=Array.isArray(Q)?Q.map(Ee=>`${Ee}`):`${Q}`}),new $r(_.root===I?w:Ye(_.root,I,w),q,k)}function Ye(I,w,_){const C={};return be(I.children,(k,q)=>{C[q]=k===w?_:Ye(k,w,_)}),new cn(I.segments,C)}class lt{constructor(w,_,C){if(this.isAbsolute=w,this.numberOfDoubleDots=_,this.commands=C,w&&C.length>0&&Dr(C[0]))throw new Error("Root segment cannot have matrix parameters");const k=C.find(Te);if(k&&k!==fe(C))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class jt{constructor(w,_,C){this.segmentGroup=w,this.processChildren=_,this.index=C}}function Ei(I,w,_){if(I||(I=new cn([],{})),0===I.segments.length&&I.hasChildren())return Ki(I,w,_);const C=function ss(I,w,_){let C=0,k=w;const q={match:!1,pathIndex:0,commandIndex:0};for(;k<I.segments.length;){if(C>=_.length)return q;const Q=I.segments[k],Y=_[C];if(Te(Y))break;const Ee=`${Y}`,Ct=C<_.length-1?_[C+1]:null;if(k>0&&void 0===Ee)break;if(Ee&&Ct&&"object"==typeof Ct&&void 0===Ct.outlets){if(!Is(Ee,Ct,Q))return q;C+=2}else{if(!Is(Ee,{},Q))return q;C++}k++}return{match:!0,pathIndex:k,commandIndex:C}}(I,w,_),k=_.slice(C.commandIndex);if(C.match&&C.pathIndex<I.segments.length){const q=new cn(I.segments.slice(0,C.pathIndex),{});return q.children[kt]=new cn(I.segments.slice(C.pathIndex),I.children),Ki(q,0,k)}return C.match&&0===k.length?new cn(I.segments,{}):C.match&&!I.hasChildren()?Es(I,w,_):C.match?Ki(I,0,k):Es(I,w,_)}function Ki(I,w,_){if(0===_.length)return new cn(I.segments,{});{const C=function qn(I){return Te(I[0])?I[0].outlets:{[kt]:I}}(_),k={};return be(C,(q,Q)=>{"string"==typeof q&&(q=[q]),null!==q&&(k[Q]=Ei(I.children[Q],w,q))}),be(I.children,(q,Q)=>{void 0===C[Q]&&(k[Q]=q)}),new cn(I.segments,k)}}function Es(I,w,_){const C=I.segments.slice(0,w);let k=0;for(;k<_.length;){const q=_[k];if(Te(q)){const Ee=qi(q.outlets);return new cn(C,Ee)}if(0===k&&Dr(_[0])){C.push(new Sr(I.segments[w].path,bs(_[0]))),k++;continue}const Q=Te(q)?q.outlets[kt]:`${q}`,Y=k<_.length-1?_[k+1]:null;Q&&Y&&Dr(Y)?(C.push(new Sr(Q,bs(Y))),k+=2):(C.push(new Sr(Q,{})),k++)}return new cn(C,{})}function qi(I){const w={};return be(I,(_,C)=>{"string"==typeof _&&(_=[_]),null!==_&&(w[C]=Es(new cn([],{}),0,_))}),w}function bs(I){const w={};return be(I,(_,C)=>w[C]=`${_}`),w}function Is(I,w,_){return I==_.path&&xn(w,_.parameters)}class os{constructor(w,_,C,k){this.routeReuseStrategy=w,this.futureState=_,this.currState=C,this.forwardEvent=k}activate(w){const _=this.futureState._root,C=this.currState?this.currState._root:null;this.deactivateChildRoutes(_,C,w),ce(this.futureState.root),this.activateChildRoutes(_,C,w)}deactivateChildRoutes(w,_,C){const k=Pe(_);w.children.forEach(q=>{const Q=q.value.outlet;this.deactivateRoutes(q,k[Q],C),delete k[Q]}),be(k,(q,Q)=>{this.deactivateRouteAndItsChildren(q,C)})}deactivateRoutes(w,_,C){const k=w.value,q=_?_.value:null;if(k===q)if(k.component){const Q=C.getContext(k.outlet);Q&&this.deactivateChildRoutes(w,_,Q.children)}else this.deactivateChildRoutes(w,_,C);else q&&this.deactivateRouteAndItsChildren(_,C)}deactivateRouteAndItsChildren(w,_){w.value.component&&this.routeReuseStrategy.shouldDetach(w.value.snapshot)?this.detachAndStoreRouteSubtree(w,_):this.deactivateRouteAndOutlet(w,_)}detachAndStoreRouteSubtree(w,_){const C=_.getContext(w.value.outlet),k=C&&w.value.component?C.children:_,q=Pe(w);for(const Q of Object.keys(q))this.deactivateRouteAndItsChildren(q[Q],k);if(C&&C.outlet){const Q=C.outlet.detach(),Y=C.children.onOutletDeactivated();this.routeReuseStrategy.store(w.value.snapshot,{componentRef:Q,route:w,contexts:Y})}}deactivateRouteAndOutlet(w,_){const C=_.getContext(w.value.outlet),k=C&&w.value.component?C.children:_,q=Pe(w);for(const Q of Object.keys(q))this.deactivateRouteAndItsChildren(q[Q],k);C&&C.outlet&&(C.outlet.deactivate(),C.children.onOutletDeactivated(),C.attachRef=null,C.resolver=null,C.route=null)}activateChildRoutes(w,_,C){const k=Pe(_);w.children.forEach(q=>{this.activateRoutes(q,k[q.value.outlet],C),this.forwardEvent(new vt(q.value.snapshot))}),w.children.length&&this.forwardEvent(new oi(w.value.snapshot))}activateRoutes(w,_,C){const k=w.value,q=_?_.value:null;if(ce(k),k===q)if(k.component){const Q=C.getOrCreateContext(k.outlet);this.activateChildRoutes(w,_,Q.children)}else this.activateChildRoutes(w,_,C);else if(k.component){const Q=C.getOrCreateContext(k.outlet);if(this.routeReuseStrategy.shouldAttach(k.snapshot)){const Y=this.routeReuseStrategy.retrieve(k.snapshot);this.routeReuseStrategy.store(k.snapshot,null),Q.children.onOutletReAttached(Y.contexts),Q.attachRef=Y.componentRef,Q.route=Y.route.value,Q.outlet&&Q.outlet.attach(Y.componentRef,Y.route.value),ce(Y.route.value),this.activateChildRoutes(w,null,Q.children)}else{const Y=function Zi(I){for(let w=I.parent;w;w=w.parent){const _=w.routeConfig;if(_&&_._loadedConfig)return _._loadedConfig;if(_&&_.component)return null}return null}(k.snapshot),Ee=Y?Y.module.componentFactoryResolver:null;Q.attachRef=null,Q.route=k,Q.resolver=Ee,Q.outlet&&Q.outlet.activateWith(k,Ee),this.activateChildRoutes(w,null,Q.children)}}else this.activateChildRoutes(w,null,C)}}class as{constructor(w,_){this.routes=w,this.module=_}}function ui(I){return"function"==typeof I}function ni(I){return I instanceof $r}const Yi=Symbol("INITIAL_VALUE");function Cr(){return(0,At.w)(I=>function ee(...I){const w=(0,_e.yG)(I),_=(0,_e.jO)(I),{args:C,keys:k}=(0,$.D)(I);if(0===C.length)return(0,le.D)([],w);const q=new R.y(function ae(I,w,_=re.y){return C=>{$e(w,()=>{const{length:k}=I,q=new Array(k);let Q=k,Y=k;for(let Ee=0;Ee<k;Ee++)$e(w,()=>{const Ct=(0,le.D)(I[Ee],w);let Gn=!1;Ct.subscribe(new oe.Q(C,mn=>{q[Ee]=mn,Gn||(Gn=!0,Y--),Y||C.next(_(q.slice()))},()=>{--Q||C.complete()}))},C)},C)}}(C,w,k?Q=>(0,ge.n)(k,Q):re.y));return _?q.pipe((0,ye.Z)(_)):q}(I.map(w=>w.pipe((0,on.q)(1),(0,kn.O)(Yi)))).pipe((0,Ot.R)((w,_)=>{let C=!1;return _.reduce((k,q,Q)=>k!==Yi?k:(q===Yi&&(C=!0),C||!1!==q&&Q!==_.length-1&&!ni(q)?k:q),w)},Yi),(0,nt.h)(w=>w!==Yi),(0,Be.U)(w=>ni(w)?w:!0===w),(0,on.q)(1)))}class Fs{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ds,this.attachRef=null}}class Ds{constructor(){this.contexts=new Map}onChildOutletCreated(w,_){const C=this.getOrCreateContext(w);C.outlet=_,this.contexts.set(w,C)}onChildOutletDestroyed(w){const _=this.getContext(w);_&&(_.outlet=null,_.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let _=this.getContext(w);return _||(_=new Fs,this.contexts.set(w,_)),_}getContext(w){return this.contexts.get(w)||null}}let us=(()=>{class I{constructor(_,C,k,q,Q){this.parentContexts=_,this.location=C,this.resolver=k,this.changeDetector=Q,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.name=q||kt,_.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const _=this.parentContexts.getContext(this.name);_&&_.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_.instance),_}attach(_,C){this.activated=_,this._activatedRoute=C,this.location.insert(_.hostView),this.attachEvents.emit(_.instance)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,C){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=_;const Q=(C=C||this.resolver).resolveComponentFactory(_._futureSnapshot.routeConfig.component),Y=this.parentContexts.getOrCreateContext(this.name).children,Ee=new Ni(_,Y,this.location.injector);this.activated=this.location.createComponent(Q,this.location.length,Ee),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return I.\u0275fac=function(_){return new(_||I)(f.Y36(Ds),f.Y36(f.s_b),f.Y36(f._Vd),f.$8M("name"),f.Y36(f.sBO))},I.\u0275dir=f.lG2({type:I,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),I})();class Ni{constructor(w,_,C){this.route=w,this.childContexts=_,this.parent=C}get(w,_){return w===Lt?this.route:w===Ds?this.childContexts:this.parent.get(w,_)}}let Ls=(()=>{class I{}return I.\u0275fac=function(_){return new(_||I)},I.\u0275cmp=f.Xpm({type:I,selectors:[["ng-component"]],decls:1,vars:0,template:function(_,C){1&_&&f._UZ(0,"router-outlet")},directives:[us],encapsulation:2}),I})();function Qi(I,w=""){for(let _=0;_<I.length;_++){const C=I[_];or(C,ki(w,C))}}function or(I,w){I.children&&Qi(I.children,w)}function ki(I,w){return w?I||w.path?I&&!w.path?`${I}/`:!I&&w.path?w.path:`${I}/${w.path}`:"":I}function Fi(I){const w=I.children&&I.children.map(Fi),_=w?Object.assign(Object.assign({},I),{children:w}):Object.assign({},I);return!_.component&&(w||_.loadChildren)&&_.outlet&&_.outlet!==kt&&(_.component=Ls),_}function wn(I){return I.outlet||kt}function N(I,w){const _=I.filter(C=>wn(C)===w);return _.push(...I.filter(C=>wn(C)!==w)),_}const z={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function P(I,w,_){var C;if(""===w.path)return"full"===w.pathMatch&&(I.hasChildren()||_.length>0)?Object.assign({},z):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const q=(w.matcher||pr)(_,I,w);if(!q)return Object.assign({},z);const Q={};be(q.posParams,(Ee,Ct)=>{Q[Ct]=Ee.path});const Y=q.consumed.length>0?Object.assign(Object.assign({},Q),q.consumed[q.consumed.length-1].parameters):Q;return{matched:!0,consumedSegments:q.consumed,lastChild:q.consumed.length,parameters:Y,positionalParamSegments:null!==(C=q.posParams)&&void 0!==C?C:{}}}function K(I,w,_,C,k="corrected"){if(_.length>0&&function pt(I,w,_){return _.some(C=>yn(I,w,C)&&wn(C)!==kt)}(I,_,C)){const Q=new cn(w,function tt(I,w,_,C){const k={};k[kt]=C,C._sourceSegment=I,C._segmentIndexShift=w.length;for(const q of _)if(""===q.path&&wn(q)!==kt){const Q=new cn([],{});Q._sourceSegment=I,Q._segmentIndexShift=w.length,k[wn(q)]=Q}return k}(I,w,C,new cn(_,I.children)));return Q._sourceSegment=I,Q._segmentIndexShift=w.length,{segmentGroup:Q,slicedSegments:[]}}if(0===_.length&&function Vt(I,w,_){return _.some(C=>yn(I,w,C))}(I,_,C)){const Q=new cn(I.segments,function me(I,w,_,C,k,q){const Q={};for(const Y of C)if(yn(I,_,Y)&&!k[wn(Y)]){const Ee=new cn([],{});Ee._sourceSegment=I,Ee._segmentIndexShift="legacy"===q?I.segments.length:w.length,Q[wn(Y)]=Ee}return Object.assign(Object.assign({},k),Q)}(I,w,_,C,I.children,k));return Q._sourceSegment=I,Q._segmentIndexShift=w.length,{segmentGroup:Q,slicedSegments:_}}const q=new cn(I.segments,I.children);return q._sourceSegment=I,q._segmentIndexShift=w.length,{segmentGroup:q,slicedSegments:_}}function yn(I,w,_){return(!(I.hasChildren()||w.length>0)||"full"!==_.pathMatch)&&""===_.path}function Bn(I,w,_,C){return!!(wn(I)===C||C!==kt&&yn(w,_,I))&&("**"===I.path||P(w,I,_).matched)}function vr(I,w,_){return 0===w.length&&!I.children[_]}class pn{constructor(w){this.segmentGroup=w||null}}class Wr{constructor(w){this.urlTree=w}}function ar(I){return new R.y(w=>w.error(new pn(I)))}function qt(I){return new R.y(w=>w.error(new Wr(I)))}function ri(I){return new R.y(w=>w.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${I}'`)))}class cs{constructor(w,_,C,k,q){this.configLoader=_,this.urlSerializer=C,this.urlTree=k,this.config=q,this.allowRedirects=!0,this.ngModule=w.get(f.h0i)}apply(){const w=K(this.urlTree.root,[],[],this.config).segmentGroup,_=new cn(w.segments,w.children);return this.expandSegmentGroup(this.ngModule,this.config,_,kt).pipe((0,Be.U)(q=>this.createUrlTree(x(q),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,ft.K)(q=>{if(q instanceof Wr)return this.allowRedirects=!1,this.match(q.urlTree);throw q instanceof pn?this.noMatchError(q):q}))}match(w){return this.expandSegmentGroup(this.ngModule,this.config,w.root,kt).pipe((0,Be.U)(k=>this.createUrlTree(x(k),w.queryParams,w.fragment))).pipe((0,ft.K)(k=>{throw k instanceof pn?this.noMatchError(k):k}))}noMatchError(w){return new Error(`Cannot match any routes. URL Segment: '${w.segmentGroup}'`)}createUrlTree(w,_,C){const k=w.segments.length>0?new cn([],{[kt]:w}):w;return new $r(k,_,C)}expandSegmentGroup(w,_,C,k){return 0===C.segments.length&&C.hasChildren()?this.expandChildren(w,_,C).pipe((0,Be.U)(q=>new cn([],q))):this.expandSegment(w,C,_,C.segments,k,!0)}expandChildren(w,_,C){const k=[];for(const q of Object.keys(C.children))"primary"===q?k.unshift(q):k.push(q);return(0,le.D)(k).pipe((0,dn.b)(q=>{const Q=C.children[q],Y=N(_,q);return this.expandSegmentGroup(w,Y,Q,q).pipe((0,Be.U)(Ee=>({segment:Ee,outlet:q})))}),(0,Ot.R)((q,Q)=>(q[Q.outlet]=Q.segment,q),{}),function Ge(I,w){const _=arguments.length>=2;return C=>C.pipe(I?(0,nt.h)((k,q)=>I(k,q,C)):re.y,Oe(1),_?(0,We.d)(w):(0,Ne.T)(()=>new at.K))}())}expandSegment(w,_,C,k,q,Q){return(0,le.D)(C).pipe((0,dn.b)(Y=>this.expandSegmentAgainstRoute(w,_,C,Y,k,q,Q).pipe((0,ft.K)(Ct=>{if(Ct instanceof pn)return(0,Re.of)(null);throw Ct}))),(0,Ht.P)(Y=>!!Y),(0,ft.K)((Y,Ee)=>{if(Y instanceof at.K||"EmptyError"===Y.name){if(vr(_,k,q))return(0,Re.of)(new cn([],{}));throw new pn(_)}throw Y}))}expandSegmentAgainstRoute(w,_,C,k,q,Q,Y){return Bn(k,_,q,Q)?void 0===k.redirectTo?this.matchSegmentAgainstRoute(w,_,k,q,Q):Y&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(w,_,C,k,q,Q):ar(_):ar(_)}expandSegmentAgainstRouteUsingRedirect(w,_,C,k,q,Q){return"**"===k.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(w,C,k,Q):this.expandRegularSegmentAgainstRouteUsingRedirect(w,_,C,k,q,Q)}expandWildCardWithParamsAgainstRouteUsingRedirect(w,_,C,k){const q=this.applyRedirectCommands([],C.redirectTo,{});return C.redirectTo.startsWith("/")?qt(q):this.lineralizeSegments(C,q).pipe((0,sn.z)(Q=>{const Y=new cn(Q,{});return this.expandSegment(w,Y,_,Q,k,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(w,_,C,k,q,Q){const{matched:Y,consumedSegments:Ee,lastChild:Ct,positionalParamSegments:Gn}=P(_,k,q);if(!Y)return ar(_);const mn=this.applyRedirectCommands(Ee,k.redirectTo,Gn);return k.redirectTo.startsWith("/")?qt(mn):this.lineralizeSegments(k,mn).pipe((0,sn.z)(dr=>this.expandSegment(w,_,C,dr.concat(q.slice(Ct)),Q,!1)))}matchSegmentAgainstRoute(w,_,C,k,q){if("**"===C.path)return C.loadChildren?(C._loadedConfig?(0,Re.of)(C._loadedConfig):this.configLoader.load(w.injector,C)).pipe((0,Be.U)(dr=>(C._loadedConfig=dr,new cn(k,{})))):(0,Re.of)(new cn(k,{}));const{matched:Q,consumedSegments:Y,lastChild:Ee}=P(_,C,k);if(!Q)return ar(_);const Ct=k.slice(Ee);return this.getChildConfig(w,C,k).pipe((0,sn.z)(mn=>{const dr=mn.module,gr=mn.routes,{segmentGroup:si,slicedSegments:Ss}=K(_,Y,Ct,gr),vs=new cn(si.segments,si.children);if(0===Ss.length&&vs.hasChildren())return this.expandChildren(dr,gr,vs).pipe((0,Be.U)(Zo=>new cn(Y,Zo)));if(0===gr.length&&0===Ss.length)return(0,Re.of)(new cn(Y,{}));const ls=wn(C)===q;return this.expandSegment(dr,vs,gr,Ss,ls?kt:q,!0).pipe((0,Be.U)(kr=>new cn(Y.concat(kr.segments),kr.children)))}))}getChildConfig(w,_,C){return _.children?(0,Re.of)(new as(_.children,w)):_.loadChildren?void 0!==_._loadedConfig?(0,Re.of)(_._loadedConfig):this.runCanLoadGuards(w.injector,_,C).pipe((0,sn.z)(k=>k?this.configLoader.load(w.injector,_).pipe((0,Be.U)(q=>(_._loadedConfig=q,q))):function mi(I){return new R.y(w=>w.error($t(`Cannot load children because the guard of the route "path: '${I.path}'" returned false`)))}(_))):(0,Re.of)(new as([],w))}runCanLoadGuards(w,_,C){const k=_.canLoad;if(!k||0===k.length)return(0,Re.of)(!0);const q=k.map(Q=>{const Y=w.get(Q);let Ee;if(function no(I){return I&&ui(I.canLoad)}(Y))Ee=Y.canLoad(_,C);else{if(!ui(Y))throw new Error("Invalid CanLoad guard");Ee=Y(_,C)}return Ve(Ee)});return(0,Re.of)(q).pipe(Cr(),(0,Rt.b)(Q=>{if(!ni(Q))return;const Y=$t(`Redirecting to "${this.urlSerializer.serialize(Q)}"`);throw Y.url=Q,Y}),(0,Be.U)(Q=>!0===Q))}lineralizeSegments(w,_){let C=[],k=_.root;for(;;){if(C=C.concat(k.segments),0===k.numberOfChildren)return(0,Re.of)(C);if(k.numberOfChildren>1||!k.children[kt])return ri(w.redirectTo);k=k.children[kt]}}applyRedirectCommands(w,_,C){return this.applyRedirectCreatreUrlTree(_,this.urlSerializer.parse(_),w,C)}applyRedirectCreatreUrlTree(w,_,C,k){const q=this.createSegmentGroup(w,_.root,C,k);return new $r(q,this.createQueryParams(_.queryParams,this.urlTree.queryParams),_.fragment)}createQueryParams(w,_){const C={};return be(w,(k,q)=>{if("string"==typeof k&&k.startsWith(":")){const Y=k.substring(1);C[q]=_[Y]}else C[q]=k}),C}createSegmentGroup(w,_,C,k){const q=this.createSegments(w,_.segments,C,k);let Q={};return be(_.children,(Y,Ee)=>{Q[Ee]=this.createSegmentGroup(w,Y,C,k)}),new cn(q,Q)}createSegments(w,_,C,k){return _.map(q=>q.path.startsWith(":")?this.findPosParam(w,q,k):this.findOrReturn(q,C))}findPosParam(w,_,C){const k=C[_.path.substring(1)];if(!k)throw new Error(`Cannot redirect to '${w}'. Cannot find '${_.path}'.`);return k}findOrReturn(w,_){let C=0;for(const k of _){if(k.path===w.path)return _.splice(C),k;C++}return w}}function x(I){const w={};for(const C of Object.keys(I.children)){const q=x(I.children[C]);(q.segments.length>0||q.hasChildren())&&(w[C]=q)}return function L(I){if(1===I.numberOfChildren&&I.children[kt]){const w=I.children[kt];return new cn(I.segments.concat(w.segments),w.children)}return I}(new cn(I.segments,w))}class U{constructor(w){this.path=w,this.route=this.path[this.path.length-1]}}class je{constructor(w,_){this.component=w,this.route=_}}function Zt(I,w,_){const C=I._root;return zr(C,w?w._root:null,_,[C.value])}function Ur(I,w,_){const C=function bi(I){if(!I)return null;for(let w=I.parent;w;w=w.parent){const _=w.routeConfig;if(_&&_._loadedConfig)return _._loadedConfig}return null}(w);return(C?C.module.injector:_).get(I)}function zr(I,w,_,C,k={canDeactivateChecks:[],canActivateChecks:[]}){const q=Pe(w);return I.children.forEach(Q=>{(function Li(I,w,_,C,k={canDeactivateChecks:[],canActivateChecks:[]}){const q=I.value,Q=w?w.value:null,Y=_?_.getContext(I.value.outlet):null;if(Q&&q.routeConfig===Q.routeConfig){const Ee=function Qs(I,w,_){if("function"==typeof _)return _(I,w);switch(_){case"pathParamsChange":return!Xn(I.url,w.url);case"pathParamsOrQueryParamsChange":return!Xn(I.url,w.url)||!xn(I.queryParams,w.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ue(I,w)||!xn(I.queryParams,w.queryParams);default:return!ue(I,w)}}(Q,q,q.routeConfig.runGuardsAndResolvers);Ee?k.canActivateChecks.push(new U(C)):(q.data=Q.data,q._resolvedData=Q._resolvedData),zr(I,w,q.component?Y?Y.children:null:_,C,k),Ee&&Y&&Y.outlet&&Y.outlet.isActivated&&k.canDeactivateChecks.push(new je(Y.outlet.component,Q))}else Q&&Vs(w,Y,k),k.canActivateChecks.push(new U(C)),zr(I,null,q.component?Y?Y.children:null:_,C,k)})(Q,q[Q.value.outlet],_,C.concat([Q.value]),k),delete q[Q.value.outlet]}),be(q,(Q,Y)=>Vs(Q,_.getContext(Y),k)),k}function Vs(I,w,_){const C=Pe(I),k=I.value;be(C,(q,Q)=>{Vs(q,k.component?w?w.children.getContext(Q):null:w,_)}),_.canDeactivateChecks.push(new je(k.component&&w&&w.outlet&&w.outlet.isActivated?w.outlet.component:null,k))}class Uo{}function Ts(I){return new R.y(w=>w.error(I))}class Bo{constructor(w,_,C,k,q,Q){this.rootComponentType=w,this.config=_,this.urlTree=C,this.url=k,this.paramsInheritanceStrategy=q,this.relativeLinkResolution=Q}recognize(){const w=K(this.urlTree.root,[],[],this.config.filter(Q=>void 0===Q.redirectTo),this.relativeLinkResolution).segmentGroup,_=this.processSegmentGroup(this.config,w,kt);if(null===_)return null;const C=new rr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},kt,this.rootComponentType,null,this.urlTree.root,-1,{}),k=new Je(C,_),q=new An(this.url,k);return this.inheritParamsAndData(q._root),q}inheritParamsAndData(w){const _=w.value,C=sr(_,this.paramsInheritanceStrategy);_.params=Object.freeze(C.params),_.data=Object.freeze(C.data),w.children.forEach(k=>this.inheritParamsAndData(k))}processSegmentGroup(w,_,C){return 0===_.segments.length&&_.hasChildren()?this.processChildren(w,_):this.processSegment(w,_,_.segments,C)}processChildren(w,_){const C=[];for(const q of Object.keys(_.children)){const Q=_.children[q],Y=N(w,q),Ee=this.processSegmentGroup(Y,Q,q);if(null===Ee)return null;C.push(...Ee)}const k=Us(C);return function Nr(I){I.sort((w,_)=>w.value.outlet===kt?-1:_.value.outlet===kt?1:w.value.outlet.localeCompare(_.value.outlet))}(k),k}processSegment(w,_,C,k){for(const q of w){const Q=this.processSegmentAgainstRoute(q,_,C,k);if(null!==Q)return Q}return vr(_,C,k)?[]:null}processSegmentAgainstRoute(w,_,C,k){if(w.redirectTo||!Bn(w,_,C,k))return null;let q,Q=[],Y=[];if("**"===w.path){const gr=C.length>0?fe(C).parameters:{};q=new rr(C,gr,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ho(w),wn(w),w.component,w,$o(_),As(_)+C.length,so(w))}else{const gr=P(_,w,C);if(!gr.matched)return null;Q=gr.consumedSegments,Y=C.slice(gr.lastChild),q=new rr(Q,gr.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ho(w),wn(w),w.component,w,$o(_),As(_)+Q.length,so(w))}const Ee=function Co(I){return I.children?I.children:I.loadChildren?I._loadedConfig.routes:[]}(w),{segmentGroup:Ct,slicedSegments:Gn}=K(_,Q,Y,Ee.filter(gr=>void 0===gr.redirectTo),this.relativeLinkResolution);if(0===Gn.length&&Ct.hasChildren()){const gr=this.processChildren(Ee,Ct);return null===gr?null:[new Je(q,gr)]}if(0===Ee.length&&0===Gn.length)return[new Je(q,[])];const mn=wn(w)===k,dr=this.processSegment(Ee,Ct,Gn,mn?kt:k);return null===dr?null:[new Je(q,dr)]}}function jo(I){const w=I.value.routeConfig;return w&&""===w.path&&void 0===w.redirectTo}function Us(I){const w=[],_=new Set;for(const C of I){if(!jo(C)){w.push(C);continue}const k=w.find(q=>C.value.routeConfig===q.value.routeConfig);void 0!==k?(k.children.push(...C.children),_.add(k)):w.push(C)}for(const C of _){const k=Us(C.children);w.push(new Je(C.value,k))}return w.filter(C=>!_.has(C))}function $o(I){let w=I;for(;w._sourceSegment;)w=w._sourceSegment;return w}function As(I){let w=I,_=w._segmentIndexShift?w._segmentIndexShift:0;for(;w._sourceSegment;)w=w._sourceSegment,_+=w._segmentIndexShift?w._segmentIndexShift:0;return _-1}function Ho(I){return I.data||{}}function so(I){return I.resolve||{}}function li(I){return(0,At.w)(w=>{const _=I(w);return _?(0,le.D)(_).pipe((0,Be.U)(()=>w)):(0,Re.of)(w)})}class Go extends class Kr{shouldDetach(w){return!1}store(w,_){}shouldAttach(w){return!1}retrieve(w){return null}shouldReuseRoute(w,_){return w.routeConfig===_.routeConfig}}{}const oo=new f.OlP("ROUTES");class Qa{constructor(w,_,C,k){this.injector=w,this.compiler=_,this.onLoadStartListener=C,this.onLoadEndListener=k}load(w,_){if(_._loader$)return _._loader$;this.onLoadStartListener&&this.onLoadStartListener(_);const k=this.loadModuleFactory(_.loadChildren).pipe((0,Be.U)(q=>{this.onLoadEndListener&&this.onLoadEndListener(_);const Q=q.create(w);return new as(qr(Q.injector.get(oo,void 0,f.XFs.Self|f.XFs.Optional)).map(Fi),Q)}),(0,ft.K)(q=>{throw _._loader$=void 0,q}));return _._loader$=new ne(k,()=>new we.x).pipe(xe()),_._loader$}loadModuleFactory(w){return Ve(w()).pipe((0,sn.z)(_=>_ instanceof f.YKP?(0,Re.of)(_):(0,le.D)(this.compiler.compileModuleAsync(_))))}}class Ao{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,_){return w}}function Ja(I){throw I}function oa(I,w,_){return w.parse("/")}function es(I,w){return(0,Re.of)(null)}const Wo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},So={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Si=(()=>{class I{constructor(_,C,k,q,Q,Y,Ee){this.rootComponentType=_,this.urlSerializer=C,this.rootContexts=k,this.location=q,this.config=Ee,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new we.x,this.errorHandler=Ja,this.malformedUriErrorHandler=oa,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:es,afterPreactivation:es},this.urlHandlingStrategy=new Ao,this.routeReuseStrategy=new Go,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Q.get(f.h0i),this.console=Q.get(f.c2e);const mn=Q.get(f.R0b);this.isNgZoneEnabled=mn instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(Ee),this.currentUrlTree=function Ze(){return new $r(new cn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Qa(Q,Y,dr=>this.triggerEvent(new jn(dr)),dr=>this.triggerEvent(new Kt(dr))),this.routerState=yt(this.currentUrlTree,this.rootComponentType),this.transitions=new Ue.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var _;return null===(_=this.location.getState())||void 0===_?void 0:_.\u0275routerPageId}setupNavigations(_){const C=this.events;return _.pipe((0,nt.h)(k=>0!==k.id),(0,Be.U)(k=>Object.assign(Object.assign({},k),{extractedUrl:this.urlHandlingStrategy.extract(k.rawUrl)})),(0,At.w)(k=>{let q=!1,Q=!1;return(0,Re.of)(k).pipe((0,Rt.b)(Y=>{this.currentNavigation={id:Y.id,initialUrl:Y.currentRawUrl,extractedUrl:Y.extractedUrl,trigger:Y.source,extras:Y.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,At.w)(Y=>{const Ee=this.browserUrlTree.toString(),Ct=!this.navigated||Y.extractedUrl.toString()!==Ee||Ee!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Ct)&&this.urlHandlingStrategy.shouldProcessUrl(Y.rawUrl))return Vi(Y.source)&&(this.browserUrlTree=Y.extractedUrl),(0,Re.of)(Y).pipe((0,At.w)(mn=>{const dr=this.transitions.getValue();return C.next(new yr(mn.id,this.serializeUrl(mn.extractedUrl),mn.source,mn.restoredState)),dr!==this.transitions.getValue()?Et.E:Promise.resolve(mn)}),function A(I,w,_,C){return(0,At.w)(k=>function Ti(I,w,_,C,k){return new cs(I,w,_,C,k).apply()}(I,w,_,k.extractedUrl,C).pipe((0,Be.U)(q=>Object.assign(Object.assign({},k),{urlAfterRedirects:q}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Rt.b)(mn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:mn.urlAfterRedirects})}),function To(I,w,_,C,k){return(0,sn.z)(q=>function io(I,w,_,C,k="emptyOnly",q="legacy"){try{const Q=new Bo(I,w,_,C,k,q).recognize();return null===Q?Ts(new Uo):(0,Re.of)(Q)}catch(Q){return Ts(Q)}}(I,w,q.urlAfterRedirects,_(q.urlAfterRedirects),C,k).pipe((0,Be.U)(Q=>Object.assign(Object.assign({},q),{targetSnapshot:Q}))))}(this.rootComponentType,this.config,mn=>this.serializeUrl(mn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Rt.b)(mn=>{if("eager"===this.urlUpdateStrategy){if(!mn.extras.skipLocationChange){const gr=this.urlHandlingStrategy.merge(mn.urlAfterRedirects,mn.rawUrl);this.setBrowserUrl(gr,mn)}this.browserUrlTree=mn.urlAfterRedirects}const dr=new tr(mn.id,this.serializeUrl(mn.extractedUrl),this.serializeUrl(mn.urlAfterRedirects),mn.targetSnapshot);C.next(dr)}));if(Ct&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:dr,extractedUrl:gr,source:si,restoredState:Ss,extras:vs}=Y,ls=new yr(dr,this.serializeUrl(gr),si,Ss);C.next(ls);const uo=yt(gr,this.rootComponentType).snapshot;return(0,Re.of)(Object.assign(Object.assign({},Y),{targetSnapshot:uo,urlAfterRedirects:gr,extras:Object.assign(Object.assign({},vs),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Y.rawUrl,Y.resolve(null),Et.E}),li(Y=>{const{targetSnapshot:Ee,id:Ct,extractedUrl:Gn,rawUrl:mn,extras:{skipLocationChange:dr,replaceUrl:gr}}=Y;return this.hooks.beforePreactivation(Ee,{navigationId:Ct,appliedUrlTree:Gn,rawUrlTree:mn,skipLocationChange:!!dr,replaceUrl:!!gr})}),(0,Rt.b)(Y=>{const Ee=new Fn(Y.id,this.serializeUrl(Y.extractedUrl),this.serializeUrl(Y.urlAfterRedirects),Y.targetSnapshot);this.triggerEvent(Ee)}),(0,Be.U)(Y=>Object.assign(Object.assign({},Y),{guards:Zt(Y.targetSnapshot,Y.currentSnapshot,this.rootContexts)})),function bo(I,w){return(0,sn.z)(_=>{const{targetSnapshot:C,currentSnapshot:k,guards:{canActivateChecks:q,canDeactivateChecks:Q}}=_;return 0===Q.length&&0===q.length?(0,Re.of)(Object.assign(Object.assign({},_),{guardsResult:!0})):function Io(I,w,_,C){return(0,le.D)(I).pipe((0,sn.z)(k=>function Xi(I,w,_,C,k){const q=w&&w.routeConfig?w.routeConfig.canDeactivate:null;if(!q||0===q.length)return(0,Re.of)(!0);const Q=q.map(Y=>{const Ee=Ur(Y,w,k);let Ct;if(function Yr(I){return I&&ui(I.canDeactivate)}(Ee))Ct=Ve(Ee.canDeactivate(I,w,_,C));else{if(!ui(Ee))throw new Error("Invalid CanDeactivate guard");Ct=Ve(Ee(I,w,_,C))}return Ct.pipe((0,Ht.P)())});return(0,Re.of)(Q).pipe(Cr())}(k.component,k.route,_,w,C)),(0,Ht.P)(k=>!0!==k,!0))}(Q,C,k,I).pipe((0,sn.z)(Y=>Y&&function Ns(I){return"boolean"==typeof I}(Y)?function Do(I,w,_,C){return(0,le.D)(w).pipe((0,dn.b)(k=>(0,Ke.z)(function Ji(I,w){return null!==I&&w&&w(new bn(I)),(0,Re.of)(!0)}(k.route.parent,C),function Ii(I,w){return null!==I&&w&&w(new Qt(I)),(0,Re.of)(!0)}(k.route,C),function Cs(I,w,_){const C=w[w.length-1],q=w.slice(0,w.length-1).reverse().map(Q=>function En(I){const w=I.routeConfig?I.routeConfig.canActivateChild:null;return w&&0!==w.length?{node:I,guards:w}:null}(Q)).filter(Q=>null!==Q).map(Q=>ze(()=>{const Y=Q.guards.map(Ee=>{const Ct=Ur(Ee,Q.node,_);let Gn;if(function ci(I){return I&&ui(I.canActivateChild)}(Ct))Gn=Ve(Ct.canActivateChild(C,I));else{if(!ui(Ct))throw new Error("Invalid CanActivateChild guard");Gn=Ve(Ct(C,I))}return Gn.pipe((0,Ht.P)())});return(0,Re.of)(Y).pipe(Cr())}));return(0,Re.of)(q).pipe(Cr())}(I,k.path,_),function ro(I,w,_){const C=w.routeConfig?w.routeConfig.canActivate:null;if(!C||0===C.length)return(0,Re.of)(!0);const k=C.map(q=>ze(()=>{const Q=Ur(q,w,_);let Y;if(function ks(I){return I&&ui(I.canActivate)}(Q))Y=Ve(Q.canActivate(w,I));else{if(!ui(Q))throw new Error("Invalid CanActivate guard");Y=Ve(Q(w,I))}return Y.pipe((0,Ht.P)())}));return(0,Re.of)(k).pipe(Cr())}(I,k.route,_))),(0,Ht.P)(k=>!0!==k,!0))}(C,q,I,w):(0,Re.of)(Y)),(0,Be.U)(Y=>Object.assign(Object.assign({},_),{guardsResult:Y})))})}(this.ngModule.injector,Y=>this.triggerEvent(Y)),(0,Rt.b)(Y=>{if(ni(Y.guardsResult)){const Ct=$t(`Redirecting to "${this.serializeUrl(Y.guardsResult)}"`);throw Ct.url=Y.guardsResult,Ct}const Ee=new ot(Y.id,this.serializeUrl(Y.extractedUrl),this.serializeUrl(Y.urlAfterRedirects),Y.targetSnapshot,!!Y.guardsResult);this.triggerEvent(Ee)}),(0,nt.h)(Y=>!!Y.guardsResult||(this.restoreHistory(Y),this.cancelNavigationTransition(Y,""),!1)),li(Y=>{if(Y.guards.canActivateChecks.length)return(0,Re.of)(Y).pipe((0,Rt.b)(Ee=>{const Ct=new Xt(Ee.id,this.serializeUrl(Ee.extractedUrl),this.serializeUrl(Ee.urlAfterRedirects),Ee.targetSnapshot);this.triggerEvent(Ct)}),(0,At.w)(Ee=>{let Ct=!1;return(0,Re.of)(Ee).pipe(function yo(I,w){return(0,sn.z)(_=>{const{targetSnapshot:C,guards:{canActivateChecks:k}}=_;if(!k.length)return(0,Re.of)(_);let q=0;return(0,le.D)(k).pipe((0,dn.b)(Q=>function gs(I,w,_,C){return function ia(I,w,_,C){const k=Object.keys(I);if(0===k.length)return(0,Re.of)({});const q={};return(0,le.D)(k).pipe((0,sn.z)(Q=>function _u(I,w,_,C){const k=Ur(I,w,C);return Ve(k.resolve?k.resolve(w,_):k(w,_))}(I[Q],w,_,C).pipe((0,Rt.b)(Y=>{q[Q]=Y}))),Oe(1),(0,sn.z)(()=>Object.keys(q).length===k.length?(0,Re.of)(q):Et.E))}(I._resolve,I,w,C).pipe((0,Be.U)(q=>(I._resolvedData=q,I.data=Object.assign(Object.assign({},I.data),sr(I,_).resolve),null)))}(Q.route,C,I,w)),(0,Rt.b)(()=>q++),Oe(1),(0,sn.z)(Q=>q===k.length?(0,Re.of)(_):Et.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Rt.b)({next:()=>Ct=!0,complete:()=>{Ct||(this.restoreHistory(Ee),this.cancelNavigationTransition(Ee,"At least one route resolver didn't emit any value."))}}))}),(0,Rt.b)(Ee=>{const Ct=new It(Ee.id,this.serializeUrl(Ee.extractedUrl),this.serializeUrl(Ee.urlAfterRedirects),Ee.targetSnapshot);this.triggerEvent(Ct)}))}),li(Y=>{const{targetSnapshot:Ee,id:Ct,extractedUrl:Gn,rawUrl:mn,extras:{skipLocationChange:dr,replaceUrl:gr}}=Y;return this.hooks.afterPreactivation(Ee,{navigationId:Ct,appliedUrlTree:Gn,rawUrlTree:mn,skipLocationChange:!!dr,replaceUrl:!!gr})}),(0,Be.U)(Y=>{const Ee=function te(I,w,_){const C=Le(I,w._root,_?_._root:void 0);return new Qe(C,w)}(this.routeReuseStrategy,Y.targetSnapshot,Y.currentRouterState);return Object.assign(Object.assign({},Y),{targetRouterState:Ee})}),(0,Rt.b)(Y=>{this.currentUrlTree=Y.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Y.urlAfterRedirects,Y.rawUrl),this.routerState=Y.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Y.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Y),this.browserUrlTree=Y.urlAfterRedirects)}),((I,w,_)=>(0,Be.U)(C=>(new os(w,C.targetRouterState,C.currentRouterState,_).activate(I),C)))(this.rootContexts,this.routeReuseStrategy,Y=>this.triggerEvent(Y)),(0,Rt.b)({next(){q=!0},complete(){q=!0}}),function ct(I){return(0,Ae.e)((w,_)=>{try{w.subscribe(_)}finally{_.add(I)}})}(()=>{var Y;q||Q||this.cancelNavigationTransition(k,`Navigation ID ${k.id} is not equal to the current navigation id ${this.navigationId}`),(null===(Y=this.currentNavigation)||void 0===Y?void 0:Y.id)===k.id&&(this.currentNavigation=null)}),(0,ft.K)(Y=>{if(Q=!0,function wi(I){return I&&I[Mt]}(Y)){const Ee=ni(Y.url);Ee||(this.navigated=!0,this.restoreHistory(k,!0));const Ct=new Sn(k.id,this.serializeUrl(k.extractedUrl),Y.message);C.next(Ct),Ee?setTimeout(()=>{const Gn=this.urlHandlingStrategy.merge(Y.url,this.rawUrlTree),mn={skipLocationChange:k.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Vi(k.source)};this.scheduleNavigation(Gn,"imperative",null,mn,{resolve:k.resolve,reject:k.reject,promise:k.promise})},0):k.resolve(!1)}else{this.restoreHistory(k,!0);const Ee=new ur(k.id,this.serializeUrl(k.extractedUrl),Y);C.next(Ee);try{k.resolve(this.errorHandler(Y))}catch(Ct){k.reject(Ct)}}return Et.E}))}))}resetRootComponentType(_){this.rootComponentType=_,this.routerState.root.component=this.rootComponentType}setTransition(_){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),_))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(_=>{const C="popstate"===_.type?"popstate":"hashchange";"popstate"===C&&setTimeout(()=>{var k;const q={replaceUrl:!0},Q=(null===(k=_.state)||void 0===k?void 0:k.navigationId)?_.state:null;if(Q){const Ee=Object.assign({},Q);delete Ee.navigationId,delete Ee.\u0275routerPageId,0!==Object.keys(Ee).length&&(q.state=Ee)}const Y=this.parseUrl(_.url);this.scheduleNavigation(Y,C,Q,q)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(_){this.events.next(_)}resetConfig(_){Qi(_),this.config=_.map(Fi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(_,C={}){const{relativeTo:k,queryParams:q,fragment:Q,queryParamsHandling:Y,preserveFragment:Ee}=C,Ct=k||this.routerState.root,Gn=Ee?this.currentUrlTree.fragment:Q;let mn=null;switch(Y){case"merge":mn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),q);break;case"preserve":mn=this.currentUrlTree.queryParams;break;default:mn=q||null}return null!==mn&&(mn=this.removeEmptyProps(mn)),function Vn(I,w,_,C,k){if(0===_.length)return Ce(w.root,w.root,w,C,k);const q=function Tt(I){if("string"==typeof I[0]&&1===I.length&&"/"===I[0])return new lt(!0,0,I);let w=0,_=!1;const C=I.reduce((k,q,Q)=>{if("object"==typeof q&&null!=q){if(q.outlets){const Y={};return be(q.outlets,(Ee,Ct)=>{Y[Ct]="string"==typeof Ee?Ee.split("/"):Ee}),[...k,{outlets:Y}]}if(q.segmentPath)return[...k,q.segmentPath]}return"string"!=typeof q?[...k,q]:0===Q?(q.split("/").forEach((Y,Ee)=>{0==Ee&&"."===Y||(0==Ee&&""===Y?_=!0:".."===Y?w++:""!=Y&&k.push(Y))}),k):[...k,q]},[]);return new lt(_,w,C)}(_);if(q.toRoot())return Ce(w.root,new cn([],{}),w,C,k);const Q=function er(I,w,_){if(I.isAbsolute)return new jt(w.root,!0,0);if(-1===_.snapshot._lastPathIndex){const q=_.snapshot._urlSegment;return new jt(q,q===w.root,0)}const C=Dr(I.commands[0])?0:1;return function Or(I,w,_){let C=I,k=w,q=_;for(;q>k;){if(q-=k,C=C.parent,!C)throw new Error("Invalid number of '../'");k=C.segments.length}return new jt(C,!1,k-q)}(_.snapshot._urlSegment,_.snapshot._lastPathIndex+C,I.numberOfDoubleDots)}(q,w,I),Y=Q.processChildren?Ki(Q.segmentGroup,Q.index,q.commands):Ei(Q.segmentGroup,Q.index,q.commands);return Ce(Q.segmentGroup,Y,w,C,k)}(Ct,this.currentUrlTree,_,mn,null!=Gn?Gn:null)}navigateByUrl(_,C={skipLocationChange:!1}){const k=ni(_)?_:this.parseUrl(_),q=this.urlHandlingStrategy.merge(k,this.rawUrlTree);return this.scheduleNavigation(q,"imperative",null,C)}navigate(_,C={skipLocationChange:!1}){return function Mo(I){for(let w=0;w<I.length;w++){const _=I[w];if(null==_)throw new Error(`The requested path contains ${_} segment at index ${w}`)}}(_),this.navigateByUrl(this.createUrlTree(_,C),C)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){let C;try{C=this.urlSerializer.parse(_)}catch(k){C=this.malformedUriErrorHandler(k,this.urlSerializer,_)}return C}isActive(_,C){let k;if(k=!0===C?Object.assign({},Wo):!1===C?Object.assign({},So):C,ni(_))return Mn(this.currentUrlTree,_,k);const q=this.parseUrl(_);return Mn(this.currentUrlTree,q,k)}removeEmptyProps(_){return Object.keys(_).reduce((C,k)=>{const q=_[k];return null!=q&&(C[k]=q),C},{})}processNavigations(){this.navigations.subscribe(_=>{this.navigated=!0,this.lastSuccessfulId=_.id,this.currentPageId=_.targetPageId,this.events.next(new fn(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,_.resolve(!0)},_=>{this.console.warn(`Unhandled Navigation Error: ${_}`)})}scheduleNavigation(_,C,k,q,Q){var Y,Ee,Ct;if(this.disposed)return Promise.resolve(!1);const Gn=this.transitions.value,mn=Vi(C)&&Gn&&!Vi(Gn.source),dr=Gn.rawUrl.toString()===_.toString(),gr=Gn.id===(null===(Y=this.currentNavigation)||void 0===Y?void 0:Y.id);if(mn&&dr&&gr)return Promise.resolve(!0);let Ss,vs,ls;Q?(Ss=Q.resolve,vs=Q.reject,ls=Q.promise):ls=new Promise((Zo,Yo)=>{Ss=Zo,vs=Yo});const uo=++this.navigationId;let kr;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(k=this.location.getState()),kr=k&&k.\u0275routerPageId?k.\u0275routerPageId:q.replaceUrl||q.skipLocationChange?null!==(Ee=this.browserPageId)&&void 0!==Ee?Ee:0:(null!==(Ct=this.browserPageId)&&void 0!==Ct?Ct:0)+1):kr=0,this.setTransition({id:uo,targetPageId:kr,source:C,restoredState:k,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:_,extras:q,resolve:Ss,reject:vs,promise:ls,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ls.catch(Zo=>Promise.reject(Zo))}setBrowserUrl(_,C){const k=this.urlSerializer.serialize(_),q=Object.assign(Object.assign({},C.extras.state),this.generateNgRouterState(C.id,C.targetPageId));this.location.isCurrentPathEqualTo(k)||C.extras.replaceUrl?this.location.replaceState(k,"",q):this.location.go(k,"",q)}restoreHistory(_,C=!1){var k,q;if("computed"===this.canceledNavigationResolution){const Q=this.currentPageId-_.targetPageId;"popstate"!==_.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(k=this.currentNavigation)||void 0===k?void 0:k.finalUrl)||0===Q?this.currentUrlTree===(null===(q=this.currentNavigation)||void 0===q?void 0:q.finalUrl)&&0===Q&&(this.resetState(_),this.browserUrlTree=_.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Q)}else"replace"===this.canceledNavigationResolution&&(C&&this.resetState(_),this.resetUrlToCurrentUrlTree())}resetState(_){this.routerState=_.currentRouterState,this.currentUrlTree=_.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(_,C){const k=new Sn(_.id,this.serializeUrl(_.extractedUrl),C);this.triggerEvent(k),_.resolve(!1)}generateNgRouterState(_,C){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:C}:{navigationId:_}}}return I.\u0275fac=function(_){f.$Z()},I.\u0275prov=f.Yz7({token:I,factory:I.\u0275fac}),I})();function Vi(I){return"imperative"!==I}let ao=(()=>{class I{constructor(_,C,k){this.router=_,this.route=C,this.locationStrategy=k,this.commands=null,this.href=null,this.onChanges=new we.x,this.subscription=_.events.subscribe(q=>{q instanceof fn&&this.updateTargetUrlAndHref()})}set routerLink(_){this.commands=null!=_?Array.isArray(_)?_:[_]:null}ngOnChanges(_){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(_,C,k,q,Q){if(0!==_||C||k||q||Q||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const Y={skipLocationChange:ms(this.skipLocationChange),replaceUrl:ms(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Y),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ms(this.preserveFragment)})}}return I.\u0275fac=function(_){return new(_||I)(f.Y36(Si),f.Y36(Lt),f.Y36(Jn.S$))},I.\u0275dir=f.lG2({type:I,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(_,C){1&_&&f.NdJ("click",function(q){return C.onClick(q.button,q.ctrlKey,q.shiftKey,q.altKey,q.metaKey)}),2&_&&f.uIk("target",C.target)("href",C.href,f.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[f.TTD]}),I})();function ms(I){return""===I||!!I}class zo{}class Ko{preload(w,_){return(0,Re.of)(null)}}let aa=(()=>{class I{constructor(_,C,k,q){this.router=_,this.injector=k,this.preloadingStrategy=q,this.loader=new Qa(k,C,Ee=>_.triggerEvent(new jn(Ee)),Ee=>_.triggerEvent(new Kt(Ee)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,nt.h)(_=>_ instanceof fn),(0,dn.b)(()=>this.preload())).subscribe(()=>{})}preload(){const _=this.injector.get(f.h0i);return this.processRoutes(_,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(_,C){const k=[];for(const q of C)if(q.loadChildren&&!q.canLoad&&q._loadedConfig){const Q=q._loadedConfig;k.push(this.processRoutes(Q.module,Q.routes))}else q.loadChildren&&!q.canLoad?k.push(this.preloadConfig(_,q)):q.children&&k.push(this.processRoutes(_,q.children));return(0,le.D)(k).pipe((0,Qn.J)(),(0,Be.U)(q=>{}))}preloadConfig(_,C){return this.preloadingStrategy.preload(C,()=>(C._loadedConfig?(0,Re.of)(C._loadedConfig):this.loader.load(_.injector,C)).pipe((0,sn.z)(q=>(C._loadedConfig=q,this.processRoutes(q.module,q.routes)))))}}return I.\u0275fac=function(_){return new(_||I)(f.LFG(Si),f.LFG(f.Sil),f.LFG(f.zs3),f.LFG(zo))},I.\u0275prov=f.Yz7({token:I,factory:I.\u0275fac}),I})(),Di=(()=>{class I{constructor(_,C,k={}){this.router=_,this.viewportScroller=C,this.options=k,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},k.scrollPositionRestoration=k.scrollPositionRestoration||"disabled",k.anchorScrolling=k.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(_=>{_ instanceof yr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=_.navigationTrigger,this.restoredId=_.restoredState?_.restoredState.navigationId:0):_ instanceof fn&&(this.lastId=_.id,this.scheduleScrollEvent(_,this.router.parseUrl(_.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(_=>{_ instanceof an&&(_.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(_.position):_.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(_.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(_,C){this.router.triggerEvent(new an(_,"popstate"===this.lastSource?this.store[this.restoredId]:null,C))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return I.\u0275fac=function(_){f.$Z()},I.\u0275prov=f.Yz7({token:I,factory:I.\u0275fac}),I})();const b=new f.OlP("ROUTER_CONFIGURATION"),D=new f.OlP("ROUTER_FORROOT_GUARD"),j=[Jn.Ye,{provide:_r,useClass:nr},{provide:Si,useFactory:function Bs(I,w,_,C,k,q,Q={},Y,Ee){const Ct=new Si(null,I,w,_,C,k,qr(q));return Y&&(Ct.urlHandlingStrategy=Y),Ee&&(Ct.routeReuseStrategy=Ee),function _s(I,w){I.errorHandler&&(w.errorHandler=I.errorHandler),I.malformedUriErrorHandler&&(w.malformedUriErrorHandler=I.malformedUriErrorHandler),I.onSameUrlNavigation&&(w.onSameUrlNavigation=I.onSameUrlNavigation),I.paramsInheritanceStrategy&&(w.paramsInheritanceStrategy=I.paramsInheritanceStrategy),I.relativeLinkResolution&&(w.relativeLinkResolution=I.relativeLinkResolution),I.urlUpdateStrategy&&(w.urlUpdateStrategy=I.urlUpdateStrategy),I.canceledNavigationResolution&&(w.canceledNavigationResolution=I.canceledNavigationResolution)}(Q,Ct),Q.enableTracing&&Ct.events.subscribe(Gn=>{var mn,dr;null===(mn=console.group)||void 0===mn||mn.call(console,`Router Event: ${Gn.constructor.name}`),console.log(Gn.toString()),console.log(Gn),null===(dr=console.groupEnd)||void 0===dr||dr.call(console)}),Ct},deps:[_r,Ds,Jn.Ye,f.zs3,f.Sil,oo,b,[class sa{},new f.FiY],[class Ai{},new f.FiY]]},Ds,{provide:Lt,useFactory:function ua(I){return I.routerState.root},deps:[Si]},aa,Ko,class _o{preload(w,_){return _().pipe((0,ft.K)(()=>(0,Re.of)(null)))}},{provide:b,useValue:{enableTracing:!1}}];function ve(){return new f.PXZ("Router",Si)}let ht=(()=>{class I{constructor(_,C){}static forRoot(_,C){return{ngModule:I,providers:[j,fi(_),{provide:D,useFactory:Ui,deps:[[Si,new f.FiY,new f.tp0]]},{provide:b,useValue:C||{}},{provide:Jn.S$,useFactory:ii,deps:[Jn.lw,[new f.tBr(Jn.mr),new f.FiY],b]},{provide:Di,useFactory:gn,deps:[Si,Jn.EM,b]},{provide:zo,useExisting:C&&C.preloadingStrategy?C.preloadingStrategy:Ko},{provide:f.PXZ,multi:!0,useFactory:ve},[yi,{provide:f.ip1,multi:!0,useFactory:ca,deps:[yi]},{provide:la,useFactory:js,deps:[yi]},{provide:f.tb,multi:!0,useExisting:la}]]}}static forChild(_){return{ngModule:I,providers:[fi(_)]}}}return I.\u0275fac=function(_){return new(_||I)(f.LFG(D,8),f.LFG(Si,8))},I.\u0275mod=f.oAB({type:I}),I.\u0275inj=f.cJS({}),I})();function gn(I,w,_){return _.scrollOffset&&w.setOffset(_.scrollOffset),new Di(I,w,_)}function ii(I,w,_={}){return _.useHash?new Jn.Do(I,w):new Jn.b0(I,w)}function Ui(I){return"guarded"}function fi(I){return[{provide:f.deG,multi:!0,useValue:I},{provide:oo,multi:!0,useValue:I}]}let yi=(()=>{class I{constructor(_){this.injector=_,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new we.x}appInitializer(){return this.injector.get(Jn.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let C=null;const k=new Promise(Y=>C=Y),q=this.injector.get(Si),Q=this.injector.get(b);return"disabled"===Q.initialNavigation?(q.setUpLocationChangeListener(),C(!0)):"enabled"===Q.initialNavigation||"enabledBlocking"===Q.initialNavigation?(q.hooks.afterPreactivation=()=>this.initNavigation?(0,Re.of)(null):(this.initNavigation=!0,C(!0),this.resultOfPreactivationDone),q.initialNavigation()):C(!0),k})}bootstrapListener(_){const C=this.injector.get(b),k=this.injector.get(aa),q=this.injector.get(Di),Q=this.injector.get(Si),Y=this.injector.get(f.z2F);_===Y.components[0]&&(("enabledNonBlocking"===C.initialNavigation||void 0===C.initialNavigation)&&Q.initialNavigation(),k.setUpPreloading(),q.init(),Q.resetRootComponentType(Y.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return I.\u0275fac=function(_){return new(_||I)(f.LFG(f.zs3))},I.\u0275prov=f.Yz7({token:I,factory:I.\u0275fac}),I})();function ca(I){return I.appInitializer.bind(I)}function js(I){return I.bootstrapListener.bind(I)}const la=new f.OlP("Router Initializer")},3942:(Me,ie,S)=>{"use strict";S.d(ie,{Z:()=>ze});var f=S(2090),R=S(4859),$=S(9681),le=S(1877);class re{constructor(Ae,xe){this._delegate=Ae,this.firebase=xe,(0,$._addComponent)(Ae,new R.wA("app-compat",()=>this,"PUBLIC")),this.container=Ae.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ae){this._delegate.automaticDataCollectionEnabled=Ae}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ae=>{this._delegate.checkDestroyed(),Ae()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,$.deleteApp)(this._delegate)))}_getService(Ae,xe=$._DEFAULT_ENTRY_NAME){var ne;this._delegate.checkDestroyed();const Re=this._delegate.container.getProvider(Ae);return!Re.isInitialized()&&"EXPLICIT"===(null===(ne=Re.getComponent())||void 0===ne?void 0:ne.instantiationMode)&&Re.initialize(),Re.getImmediate({identifier:xe})}_removeServiceInstance(Ae,xe=$._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ae).clearInstance(xe)}_addComponent(Ae){(0,$._addComponent)(this._delegate,Ae)}_addOrOverwriteComponent(Ae){(0,$._addOrOverwriteComponent)(this._delegate,Ae)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const _e=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),J=function oe(){const st=function ge(st){const Ae={},xe={__esModule:!0,initializeApp:function Ue(we,nt={}){const Oe=$.initializeApp(we,nt);if((0,f.r3)(Ae,Oe.name))return Ae[Oe.name];const Ne=new st(Oe,xe);return Ae[Oe.name]=Ne,Ne},app:Re,registerVersion:$.registerVersion,setLogLevel:$.setLogLevel,onLog:$.onLog,apps:null,SDK_VERSION:$.SDK_VERSION,INTERNAL:{registerComponent:function Ke(we){const nt=we.name,Oe=nt.replace("-compat","");if($._registerComponent(we)&&"PUBLIC"===we.type){const Ne=(We=Re())=>{if("function"!=typeof We[Oe])throw _e.create("invalid-app-argument",{appName:nt});return We[Oe]()};void 0!==we.serviceProps&&(0,f.ZB)(Ne,we.serviceProps),xe[Oe]=Ne,st.prototype[Oe]=function(...We){return this._getService.bind(this,nt).apply(this,we.multipleInstances?We:[])}}return"PUBLIC"===we.type?xe[Oe]:null},removeApp:function ne(we){delete Ae[we]},useAsService:function Et(we,nt){return"serverAuth"===nt?null:nt},modularAPIs:$}};function Re(we){if(!(0,f.r3)(Ae,we=we||$._DEFAULT_ENTRY_NAME))throw _e.create("no-app",{appName:we});return Ae[we]}return xe.default=xe,Object.defineProperty(xe,"apps",{get:function at(){return Object.keys(Ae).map(we=>Ae[we])}}),Re.App=st,xe}(re);return st.INTERNAL=Object.assign(Object.assign({},st.INTERNAL),{createFirebaseNamespace:oe,extendNamespace:function Ae(xe){(0,f.ZB)(st,xe)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),st}(),ee=new le.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){ee.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const st=self.firebase.SDK_VERSION;st&&st.indexOf("LITE")>=0&&ee.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ze=J;!function He(st){(0,$.registerVersion)("@firebase/app-compat","0.1.15",st)}()},9681:(Me,ie,S)=>{"use strict";S.r(ie),S.d(ie,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>ur,_DEFAULT_ENTRY_NAME:()=>kn,_addComponent:()=>Ht,_addOrOverwriteComponent:()=>sn,_apps:()=>ft,_clearComponents:()=>Dn,_components:()=>dn,_getProvider:()=>Qn,_registerComponent:()=>Rt,_removeServiceInstance:()=>Jn,deleteApp:()=>Xt,getApp:()=>Fn,getApps:()=>ot,initializeApp:()=>tr,onLog:()=>Kt,registerVersion:()=>jn,setLogLevel:()=>bn});var f=S(5861),R=S(4859),$=S(1877),le=S(2090);class re{constructor(vt){this.container=vt}getPlatformInfoString(){return this.container.getProviders().map(an=>{if(function ye(Qt){const vt=Qt.getComponent();return"VERSION"===(null==vt?void 0:vt.type)}(an)){const kt=an.getImmediate();return`${kt.library}/${kt.version}`}return null}).filter(an=>an).join(" ")}}const _e="@firebase/app",oe=new $.Yd("@firebase/app"),kn="[DEFAULT]",Ot={[_e]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ft=new Map,dn=new Map;function Ht(Qt,vt){try{Qt.container.addComponent(vt)}catch(an){oe.debug(`Component ${vt.name} failed to register with FirebaseApp ${Qt.name}`,an)}}function sn(Qt,vt){Qt.container.addOrOverwriteComponent(vt)}function Rt(Qt){const vt=Qt.name;if(dn.has(vt))return oe.debug(`There were multiple attempts to register component ${vt}.`),!1;dn.set(vt,Qt);for(const an of ft.values())Ht(an,Qt);return!0}function Qn(Qt,vt){return Qt.container.getProvider(vt)}function Jn(Qt,vt,an=kn){Qn(Qt,vt).clearInstance(an)}function Dn(){dn.clear()}const fn=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Sn{constructor(vt,an,kt){this._isDeleted=!1,this._options=Object.assign({},vt),this._config=Object.assign({},an),this._name=an.name,this._automaticDataCollectionEnabled=an.automaticDataCollectionEnabled,this._container=kt,this.container.addComponent(new R.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(vt){this.checkDestroyed(),this._automaticDataCollectionEnabled=vt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(vt){this._isDeleted=vt}checkDestroyed(){if(this.isDeleted)throw fn.create("app-deleted",{appName:this._name})}}const ur="9.6.4";function tr(Qt,vt={}){"object"!=typeof vt&&(vt={name:vt});const an=Object.assign({name:kn,automaticDataCollectionEnabled:!1},vt),kt=an.name;if("string"!=typeof kt||!kt)throw fn.create("bad-app-name",{appName:String(kt)});const Pn=ft.get(kt);if(Pn){if((0,le.vZ)(Qt,Pn.options)&&(0,le.vZ)(an,Pn.config))return Pn;throw fn.create("duplicate-app",{appName:kt})}const Bt=new R.H0(kt);for(const $t of dn.values())Bt.addComponent($t);const Mt=new Sn(Qt,an,Bt);return ft.set(kt,Mt),Mt}function Fn(Qt=kn){const vt=ft.get(Qt);if(!vt)throw fn.create("no-app",{appName:Qt});return vt}function ot(){return Array.from(ft.values())}function Xt(Qt){return It.apply(this,arguments)}function It(){return(It=(0,f.Z)(function*(Qt){const vt=Qt.name;ft.has(vt)&&(ft.delete(vt),yield Promise.all(Qt.container.getProviders().map(an=>an.delete())),Qt.isDeleted=!0)})).apply(this,arguments)}function jn(Qt,vt,an){var kt;let Pn=null!==(kt=Ot[Qt])&&void 0!==kt?kt:Qt;an&&(Pn+=`-${an}`);const Bt=Pn.match(/\s|\//),Mt=vt.match(/\s|\//);if(Bt||Mt){const $t=[`Unable to register library "${Pn}" with version "${vt}":`];return Bt&&$t.push(`library name "${Pn}" contains illegal characters (whitespace or "/")`),Bt&&Mt&&$t.push("and"),Mt&&$t.push(`version name "${vt}" contains illegal characters (whitespace or "/")`),void oe.warn($t.join(" "))}Rt(new R.wA(`${Pn}-version`,()=>({library:Pn,version:vt}),"VERSION"))}function Kt(Qt,vt){if(null!==Qt&&"function"!=typeof Qt)throw fn.create("invalid-log-argument");(0,$.Am)(Qt,vt)}function bn(Qt){(0,$.Ub)(Qt)}!function oi(Qt){Rt(new R.wA("platform-logger",vt=>new re(vt),"PRIVATE")),jn(_e,"0.7.14",Qt),jn(_e,"0.7.14","esm2017"),jn("fire-js","")}("")},4859:(Me,ie,S)=>{"use strict";S.d(ie,{wA:()=>$,H0:()=>ge});var f=S(5861),R=S(2090);class ${constructor(J,ee,ae){this.name=J,this.instanceFactory=ee,this.type=ae,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(J){return this.instantiationMode=J,this}setMultipleInstances(J){return this.multipleInstances=J,this}setServiceProps(J){return this.serviceProps=J,this}setInstanceCreatedCallback(J){return this.onInstanceCreated=J,this}}const le="[DEFAULT]";class re{constructor(J,ee){this.name=J,this.container=ee,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(J){const ee=this.normalizeInstanceIdentifier(J);if(!this.instancesDeferred.has(ee)){const ae=new R.BH;if(this.instancesDeferred.set(ee,ae),this.isInitialized(ee)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:ee});$e&&ae.resolve($e)}catch($e){}}return this.instancesDeferred.get(ee).promise}getImmediate(J){var ee;const ae=this.normalizeInstanceIdentifier(null==J?void 0:J.identifier),$e=null!==(ee=null==J?void 0:J.optional)&&void 0!==ee&&ee;if(!this.isInitialized(ae)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ae})}catch(He){if($e)return null;throw He}}getComponent(){return this.component}setComponent(J){if(J.name!==this.name)throw Error(`Mismatching Component ${J.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=J,this.shouldAutoInitialize()){if(function _e(oe){return"EAGER"===oe.instantiationMode}(J))try{this.getOrInitializeService({instanceIdentifier:le})}catch(ee){}for(const[ee,ae]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(ee);try{const He=this.getOrInitializeService({instanceIdentifier:$e});ae.resolve(He)}catch(He){}}}}clearInstance(J=le){this.instancesDeferred.delete(J),this.instancesOptions.delete(J),this.instances.delete(J)}delete(){var J=this;return(0,f.Z)(function*(){const ee=Array.from(J.instances.values());yield Promise.all([...ee.filter(ae=>"INTERNAL"in ae).map(ae=>ae.INTERNAL.delete()),...ee.filter(ae=>"_delete"in ae).map(ae=>ae._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(J=le){return this.instances.has(J)}getOptions(J=le){return this.instancesOptions.get(J)||{}}initialize(J={}){const{options:ee={}}=J,ae=this.normalizeInstanceIdentifier(J.instanceIdentifier);if(this.isInitialized(ae))throw Error(`${this.name}(${ae}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:ae,options:ee});for(const[He,ze]of this.instancesDeferred.entries())ae===this.normalizeInstanceIdentifier(He)&&ze.resolve($e);return $e}onInit(J,ee){var ae;const $e=this.normalizeInstanceIdentifier(ee),He=null!==(ae=this.onInitCallbacks.get($e))&&void 0!==ae?ae:new Set;He.add(J),this.onInitCallbacks.set($e,He);const ze=this.instances.get($e);return ze&&J(ze,$e),()=>{He.delete(J)}}invokeOnInitCallbacks(J,ee){const ae=this.onInitCallbacks.get(ee);if(ae)for(const $e of ae)try{$e(J,ee)}catch(He){}}getOrInitializeService({instanceIdentifier:J,options:ee={}}){let ae=this.instances.get(J);if(!ae&&this.component&&(ae=this.component.instanceFactory(this.container,{instanceIdentifier:(oe=J,oe===le?void 0:oe),options:ee}),this.instances.set(J,ae),this.instancesOptions.set(J,ee),this.invokeOnInitCallbacks(ae,J),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,J,ae)}catch($e){}var oe;return ae||null}normalizeInstanceIdentifier(J=le){return this.component?this.component.multipleInstances?J:le:J}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ge{constructor(J){this.name=J,this.providers=new Map}addComponent(J){const ee=this.getProvider(J.name);if(ee.isComponentSet())throw new Error(`Component ${J.name} has already been registered with ${this.name}`);ee.setComponent(J)}addOrOverwriteComponent(J){this.getProvider(J.name).isComponentSet()&&this.providers.delete(J.name),this.addComponent(J)}getProvider(J){if(this.providers.has(J))return this.providers.get(J);const ee=new re(J,this);return this.providers.set(J,ee),ee}getProviders(){return Array.from(this.providers.values())}}},1877:(Me,ie,S)=>{"use strict";S.d(ie,{in:()=>R,Yd:()=>_e,Ub:()=>ge,Am:()=>oe});const f=[];var R=(()=>{return(J=R||(R={}))[J.DEBUG=0]="DEBUG",J[J.VERBOSE=1]="VERBOSE",J[J.INFO=2]="INFO",J[J.WARN=3]="WARN",J[J.ERROR=4]="ERROR",J[J.SILENT=5]="SILENT",R;var J})();const $={debug:R.DEBUG,verbose:R.VERBOSE,info:R.INFO,warn:R.WARN,error:R.ERROR,silent:R.SILENT},le=R.INFO,re={[R.DEBUG]:"log",[R.VERBOSE]:"log",[R.INFO]:"info",[R.WARN]:"warn",[R.ERROR]:"error"},ye=(J,ee,...ae)=>{if(ee<J.logLevel)return;const $e=(new Date).toISOString(),He=re[ee];if(!He)throw new Error(`Attempted to log a message with an invalid logType (value: ${ee})`);console[He](`[${$e}]  ${J.name}:`,...ae)};class _e{constructor(ee){this.name=ee,this._logLevel=le,this._logHandler=ye,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(ee){if(!(ee in R))throw new TypeError(`Invalid value "${ee}" assigned to \`logLevel\``);this._logLevel=ee}setLogLevel(ee){this._logLevel="string"==typeof ee?$[ee]:ee}get logHandler(){return this._logHandler}set logHandler(ee){if("function"!=typeof ee)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ee}get userLogHandler(){return this._userLogHandler}set userLogHandler(ee){this._userLogHandler=ee}debug(...ee){this._userLogHandler&&this._userLogHandler(this,R.DEBUG,...ee),this._logHandler(this,R.DEBUG,...ee)}log(...ee){this._userLogHandler&&this._userLogHandler(this,R.VERBOSE,...ee),this._logHandler(this,R.VERBOSE,...ee)}info(...ee){this._userLogHandler&&this._userLogHandler(this,R.INFO,...ee),this._logHandler(this,R.INFO,...ee)}warn(...ee){this._userLogHandler&&this._userLogHandler(this,R.WARN,...ee),this._logHandler(this,R.WARN,...ee)}error(...ee){this._userLogHandler&&this._userLogHandler(this,R.ERROR,...ee),this._logHandler(this,R.ERROR,...ee)}}function ge(J){f.forEach(ee=>{ee.setLogLevel(J)})}function oe(J,ee){for(const ae of f){let $e=null;ee&&ee.level&&($e=$[ee.level]),ae.userLogHandler=null===J?null:(He,ze,...st)=>{const Ae=st.map(xe=>{if(null==xe)return null;if("string"==typeof xe)return xe;if("number"==typeof xe||"boolean"==typeof xe)return xe.toString();if(xe instanceof Error)return xe.message;try{return JSON.stringify(xe)}catch(ne){return null}}).filter(xe=>xe).join(" ");ze>=(null!=$e?$e:He.logLevel)&&J({level:R[ze].toLowerCase(),message:Ae,args:st,type:He.name})}}}},9565:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5e3),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5620),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(515),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8306),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9646),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6451),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(233),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4707),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3099),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9300),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4004),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4351),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1749),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8372),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(262),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5698),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2722),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3900),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(5684),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(5363),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1365),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(5026);class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(Me){const ie={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},S="function"==typeof Me?Me():Me,$=Object.assign({},ie,{features:S.features||!!S.logOnly&&{pause:!0,export:!0,test:!0}||ie.features},S);if($.maxAge&&$.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${$.maxAge}`);return $}const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(ie,S){if(this.action=ie,this.timestamp=S,this.type=PERFORM_ACTION,void 0===ie.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(ie){this.timestamp=ie,this.type=RESET}}class Rollback{constructor(ie){this.timestamp=ie,this.type=ROLLBACK}}class Commit{constructor(ie){this.timestamp=ie,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(ie){this.id=ie,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(ie,S,f=!0){this.start=ie,this.end=S,this.active=f,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(ie){this.index=ie,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(ie){this.actionId=ie,this.type=JUMP_TO_ACTION}}class ImportState{constructor(ie){this.nextLiftedState=ie,this.type=IMPORT_STATE}}class LockChanges{constructor(ie){this.status=ie,this.type=LOCK_CHANGES}}class PauseRecording{constructor(ie){this.status=ie,this.type=PAUSE_RECORDING}}function difference(Me,ie){return Me.filter(S=>ie.indexOf(S)<0)}function unliftState(Me){const{computedStates:ie,currentStateIndex:S}=Me;if(S>=ie.length){const{state:R}=ie[ie.length-1];return R}const{state:f}=ie[S];return f}function unliftAction(Me){return Me.actionsById[Me.nextActionId-1]}function liftAction(Me){return new PerformAction(Me,+Date.now())}function sanitizeActions(Me,ie){return Object.keys(ie).reduce((S,f)=>{const R=Number(f);return S[R]=sanitizeAction(Me,ie[R],R),S},{})}function sanitizeAction(Me,ie,S){return Object.assign(Object.assign({},ie),{action:Me(ie.action,S)})}function sanitizeStates(Me,ie){return ie.map((S,f)=>({state:sanitizeState(Me,S.state,f),error:S.error}))}function sanitizeState(Me,ie,S){return Me(ie,S)}function shouldFilterActions(Me){return Me.predicate||Me.actionsSafelist||Me.actionsBlocklist}function filterLiftedState(Me,ie,S,f){const R=[],$={},le=[];return Me.stagedActionIds.forEach((re,ye)=>{const _e=Me.actionsById[re];!_e||ye&&isActionFiltered(Me.computedStates[ye],_e,ie,S,f)||($[re]=_e,R.push(re),le.push(Me.computedStates[ye]))}),Object.assign(Object.assign({},Me),{stagedActionIds:R,actionsById:$,computedStates:le})}function isActionFiltered(Me,ie,S,f,R){const $=S&&!S(Me,ie.action),le=f&&!ie.action.type.match(f.map(ye=>escapeRegExp(ye)).join("|")),re=R&&ie.action.type.match(R.map(ye=>escapeRegExp(ye)).join("|"));return $||le||re}function escapeRegExp(Me){return Me.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(Me,ie,S,f,R){if(f)return{state:S,error:"Interrupted by an error up the chain"};let le,$=S;try{$=Me(S,ie)}catch(re){le=re.toString(),R.handleError(re)}return{state:$,error:le}}function recomputeStates(Me,ie,S,f,R,$,le,re,ye){if(ie>=Me.length&&Me.length===$.length)return Me;const _e=Me.slice(0,ie),ge=$.length-(ye?1:0);for(let oe=ie;oe<ge;oe++){const J=$[oe],ee=R[J].action,ae=_e[oe-1],$e=ae?ae.state:f,He=ae?ae.error:void 0,st=le.indexOf(J)>-1?ae:computeNextEntry(S,ee,$e,He,re);_e.push(st)}return ye&&_e.push(Me[Me.length-1]),_e}function liftInitialState(Me,ie){return{monitorState:ie(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:Me,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(Me,ie,S,f,R={}){return $=>(le,re)=>{let{monitorState:ye,actionsById:_e,nextActionId:ge,stagedActionIds:oe,skippedActionIds:J,committedState:ee,currentStateIndex:ae,computedStates:$e,isLocked:He,isPaused:ze}=le||ie;function st(ne){let Re=ne,Ue=oe.slice(1,Re+1);for(let at=0;at<Ue.length;at++){if($e[at+1].error){Re=at,Ue=oe.slice(1,Re+1);break}delete _e[Ue[at]]}J=J.filter(at=>-1===Ue.indexOf(at)),oe=[0,...oe.slice(Re+1)],ee=$e[Re].state,$e=$e.slice(Re),ae=ae>Re?ae-Re:0}function Ae(){_e={0:liftAction(INIT_ACTION)},ge=1,oe=[0],J=[],ee=$e[ae].state,ae=0,$e=[]}le||(_e=Object.create(_e));let xe=0;switch(re.type){case LOCK_CHANGES:He=re.status,xe=1/0;break;case PAUSE_RECORDING:ze=re.status,ze?(oe=[...oe,ge],_e[ge]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),ge++,xe=oe.length-1,$e=$e.concat($e[$e.length-1]),ae===oe.length-2&&ae++,xe=1/0):Ae();break;case RESET:_e={0:liftAction(INIT_ACTION)},ge=1,oe=[0],J=[],ee=Me,ae=0,$e=[];break;case COMMIT:Ae();break;case ROLLBACK:_e={0:liftAction(INIT_ACTION)},ge=1,oe=[0],J=[],ae=0,$e=[];break;case TOGGLE_ACTION:{const{id:ne}=re;J=-1===J.indexOf(ne)?[ne,...J]:J.filter(Ue=>Ue!==ne),xe=oe.indexOf(ne);break}case SET_ACTIONS_ACTIVE:{const{start:ne,end:Re,active:Ue}=re,at=[];for(let Ke=ne;Ke<Re;Ke++)at.push(Ke);J=Ue?difference(J,at):[...J,...at],xe=oe.indexOf(ne);break}case JUMP_TO_STATE:ae=re.index,xe=1/0;break;case JUMP_TO_ACTION:{const ne=oe.indexOf(re.actionId);-1!==ne&&(ae=ne),xe=1/0;break}case SWEEP:oe=difference(oe,J),J=[],ae=Math.min(ae,oe.length-1);break;case PERFORM_ACTION:{if(He)return le||ie;if(ze||le&&isActionFiltered(le.computedStates[ae],re,R.predicate,R.actionsSafelist,R.actionsBlocklist)){const Re=$e[$e.length-1];$e=[...$e.slice(0,-1),computeNextEntry($,re.action,Re.state,Re.error,S)],xe=1/0;break}R.maxAge&&oe.length===R.maxAge&&st(1),ae===oe.length-1&&ae++;const ne=ge++;_e[ne]=re,oe=[...oe,ne],xe=oe.length-1;break}case IMPORT_STATE:({monitorState:ye,actionsById:_e,nextActionId:ge,stagedActionIds:oe,skippedActionIds:J,committedState:ee,currentStateIndex:ae,computedStates:$e,isLocked:He,isPaused:ze}=re.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:xe=0,R.maxAge&&oe.length>R.maxAge&&($e=recomputeStates($e,xe,$,ee,_e,oe,J,S,ze),st(oe.length-R.maxAge),xe=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if($e.filter(Re=>Re.error).length>0)xe=0,R.maxAge&&oe.length>R.maxAge&&($e=recomputeStates($e,xe,$,ee,_e,oe,J,S,ze),st(oe.length-R.maxAge),xe=1/0);else{if(!ze&&!He){ae===oe.length-1&&ae++;const Re=ge++;_e[Re]=new PerformAction(re,+Date.now()),oe=[...oe,Re],xe=oe.length-1,$e=recomputeStates($e,xe,$,ee,_e,oe,J,S,ze)}$e=$e.map(Re=>Object.assign(Object.assign({},Re),{state:$(Re.state,RECOMPUTE_ACTION)})),ae=oe.length-1,R.maxAge&&oe.length>R.maxAge&&st(oe.length-R.maxAge),xe=1/0}break;default:xe=1/0}return $e=recomputeStates($e,xe,$,ee,_e,oe,J,S,ze),ye=f(ye,re),{monitorState:ye,actionsById:_e,nextActionId:ge,stagedActionIds:oe,skippedActionIds:J,committedState:ee,currentStateIndex:ae,computedStates:$e,isLocked:He,isPaused:ze}}}let DevtoolsDispatcher=(()=>{class Me extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return Me.\u0275fac=function(){let ie;return function(f){return(ie||(ie=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(Me)))(f||Me)}}(),Me.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Me,factory:Me.\u0275fac}),Me})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(Me,ie,S){this.config=ie,this.dispatcher=S,this.devtoolsExtension=Me,this.createActionStreams()}notify(Me,ie){if(this.devtoolsExtension)if(Me.type===PERFORM_ACTION){if(ie.isLocked||ie.isPaused)return;const S=unliftState(ie);if(shouldFilterActions(this.config)&&isActionFiltered(S,Me,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const f=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,S,ie.currentStateIndex):S,R=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,Me,ie.nextActionId):Me;this.sendToReduxDevtools(()=>this.extensionConnection.send(R,f))}else{const S=Object.assign(Object.assign({},ie),{stagedActionIds:ie.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,ie.actionsById):ie.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,ie.computedStates):ie.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,S,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(Me=>{const ie=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=ie,ie.init(),ie.subscribe(S=>Me.next(S)),ie.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const Me=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),ie=Me.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(re=>re.type===ExtensionActionTypes.START)),S=Me.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(re=>re.type===ExtensionActionTypes.STOP)),f=Me.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(re=>re.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(re=>this.unwrapAction(re.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(re=>re.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(ye=>ye.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>re),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(re)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(re))),$=Me.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(re=>re.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(re=>this.unwrapAction(re.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(S)),le=f.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(S));this.start$=ie.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(S)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>$)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>le))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(Me){var ie;const S={name:Me.name,features:Me.features,serialize:Me.serialize,autoPause:null!==(ie=Me.autoPause)&&void 0!==ie&&ie};return!1!==Me.maxAge&&(S.maxAge=Me.maxAge),S}sendToReduxDevtools(Me){try{Me()}catch(ie){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",ie)}}}return DevtoolsExtension.\u0275fac=function Me(ie){return new(ie||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})(),StoreDevtools=(()=>{class Me{constructor(S,f,R,$,le,re,ye,_e){const ge=liftInitialState(ye,_e.monitor),oe=liftReducerWith(ye,ge,re,_e.monitor,_e),J=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(f.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),$.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),S,$.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),ee=R.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(oe)),ae=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),$e=J.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(ee),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:Ae},[xe,ne])=>{let Re=ne(Ae,xe);return xe.type!==PERFORM_ACTION&&shouldFilterActions(_e)&&(Re=filterLiftedState(Re,_e.predicate,_e.actionsSafelist,_e.actionsBlocklist)),$.notify(xe,Re),{state:Re,action:xe}},{state:ge,action:null})).subscribe(({state:Ae,action:xe})=>{ae.next(Ae),xe.type===PERFORM_ACTION&&le.next(xe.action)}),He=$.start$.subscribe(()=>{this.refresh()}),ze=ae.asObservable(),st=ze.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=He,this.stateSubscription=$e,this.dispatcher=S,this.liftedState=ze,this.state=st}dispatch(S){this.dispatcher.next(S)}next(S){this.dispatcher.next(S)}error(S){}complete(){}performAction(S){this.dispatch(new PerformAction(S,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(S){this.dispatch(new ToggleAction(S))}jumpToAction(S){this.dispatch(new JumpToAction(S))}jumpToState(S){this.dispatch(new JumpToState(S))}importState(S){this.dispatch(new ImportState(S))}lockChanges(S){this.dispatch(new LockChanges(S))}pauseRecording(S){this.dispatch(new PauseRecording(S))}}return Me.\u0275fac=function(S){return new(S||Me)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},Me.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Me,factory:Me.\u0275fac}),Me})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(Me,ie){return Boolean(Me)||ie.monitor!==noMonitor}function createReduxDevtoolsExtension(){const Me="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&void 0!==window[Me]?window[Me]:null}function createStateObservable(Me){return Me.state}let StoreDevtoolsModule=(()=>{class Me{static instrument(S={}){return{ngModule:Me,providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:S},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}]}}}return Me.\u0275fac=function(S){return new(S||Me)},Me.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:Me}),Me.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),Me})()},5620:(Me,ie,S)=>{"use strict";S.d(ie,{UO:()=>ne,qg:()=>xe,Y6:()=>Ke,mK:()=>ur,n$:()=>Sn,Y$:()=>Xt,FR:()=>jn,yh:()=>Qt,Aw:()=>br,wb:()=>tr,PH:()=>He,Lq:()=>ai,on:()=>ti,Ky:()=>ze});var f=S(5e3),R=S(1135),$=S(8306),le=S(7579),re=S(233),ye=S(4004),ge=S(5363),oe=S(1365),J=S(5026),ee=S(1884);const ae={};function He(he,Je){if(ae[he]=(ae[he]||0)+1,"function"==typeof Je)return Ae(he,(...Qe)=>Object.assign(Object.assign({},Je(...Qe)),{type:he}));switch(Je?Je._as:"empty"){case"empty":return Ae(he,()=>({type:he}));case"props":return Ae(he,Qe=>Object.assign(Object.assign({},Qe),{type:he}));default:throw new Error("Unexpected config.")}}function ze(){return{_as:"props",_p:void 0}}function Ae(he,Je){return Object.defineProperty(Je,"type",{value:he,writable:!1})}const xe="@ngrx/store/init";let ne=(()=>{class he extends R.X{constructor(){super({type:xe})}next(Pe){if("function"==typeof Pe)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===Pe)throw new TypeError("Actions must be objects");if(void 0===Pe.type)throw new TypeError("Actions must have a type property");super.next(Pe)}complete(){}ngOnDestroy(){super.complete()}}return he.\u0275fac=function(Pe){return new(Pe||he)},he.\u0275prov=f.Yz7({token:he,factory:he.\u0275fac}),he})();const Re=[ne],Ue=new f.OlP("@ngrx/store Internal Root Guard"),at=new f.OlP("@ngrx/store Internal Initial State"),Ke=new f.OlP("@ngrx/store Initial State"),Et=new f.OlP("@ngrx/store Reducer Factory"),we=new f.OlP("@ngrx/store Internal Reducer Factory Provider"),nt=new f.OlP("@ngrx/store Initial Reducers"),Oe=new f.OlP("@ngrx/store Internal Initial Reducers"),Ne=new f.OlP("@ngrx/store Store Features"),We=new f.OlP("@ngrx/store Internal Store Reducers"),Ge=new f.OlP("@ngrx/store Internal Feature Reducers"),ct=new f.OlP("@ngrx/store Internal Feature Configs"),Be=new f.OlP("@ngrx/store Internal Store Features"),At=new f.OlP("@ngrx/store Internal Feature Reducers Token"),on=new f.OlP("@ngrx/store Feature Reducers"),kn=new f.OlP("@ngrx/store User Provided Meta Reducers"),Ot=new f.OlP("@ngrx/store Meta Reducers"),ft=new f.OlP("@ngrx/store Internal Resolved Meta Reducers"),dn=new f.OlP("@ngrx/store User Runtime Checks Config"),Ht=new f.OlP("@ngrx/store Internal User Runtime Checks Config"),sn=new f.OlP("@ngrx/store Internal Runtime Checks"),Rt=new f.OlP("@ngrx/store Check if Action types are unique");function Qn(he,Je={}){const Pe=Object.keys(he),Qe={};for(let bt=0;bt<Pe.length;bt++){const Lt=Pe[bt];"function"==typeof he[Lt]&&(Qe[Lt]=he[Lt])}const yt=Object.keys(Qe);return function(Lt,sr){Lt=void 0===Lt?Je:Lt;let Kn=!1;const rr={};for(let An=0;An<yt.length;An++){const Zr=yt[An],ce=Lt[Zr],ue=(0,Qe[Zr])(ce,sr);rr[Zr]=ue,Kn=Kn||ue!==ce}return Kn?rr:Lt}}function Dn(...he){return function(Je){if(0===he.length)return Je;const Pe=he[he.length-1];return he.slice(0,-1).reduceRight((yt,bt)=>bt(yt),Pe(Je))}}function yr(he,Je){return Array.isArray(Je)&&Je.length>0&&(he=Dn.apply(null,[...Je,he])),(Pe,Qe)=>{const yt=he(Pe);return(bt,Lt)=>yt(bt=void 0===bt?Qe:bt,Lt)}}class Sn extends $.y{}class ur extends ne{}const tr="@ngrx/store/update-reducers";let Fn=(()=>{class he extends R.X{constructor(Pe,Qe,yt,bt){super(bt(yt,Qe)),this.dispatcher=Pe,this.initialState=Qe,this.reducers=yt,this.reducerFactory=bt}get currentReducers(){return this.reducers}addFeature(Pe){this.addFeatures([Pe])}addFeatures(Pe){const Qe=Pe.reduce((yt,{reducers:bt,reducerFactory:Lt,metaReducers:sr,initialState:Kn,key:rr})=>{const An="function"==typeof bt?function fn(he){const Je=Array.isArray(he)&&he.length>0?Dn(...he):Pe=>Pe;return(Pe,Qe)=>(Pe=Je(Pe),(yt,bt)=>Pe(yt=void 0===yt?Qe:yt,bt))}(sr)(bt,Kn):yr(Lt,sr)(bt,Kn);return yt[rr]=An,yt},{});this.addReducers(Qe)}removeFeature(Pe){this.removeFeatures([Pe])}removeFeatures(Pe){this.removeReducers(Pe.map(Qe=>Qe.key))}addReducer(Pe,Qe){this.addReducers({[Pe]:Qe})}addReducers(Pe){this.reducers=Object.assign(Object.assign({},this.reducers),Pe),this.updateReducers(Object.keys(Pe))}removeReducer(Pe){this.removeReducers([Pe])}removeReducers(Pe){Pe.forEach(Qe=>{this.reducers=function Jn(he,Je){return Object.keys(he).filter(Pe=>Pe!==Je).reduce((Pe,Qe)=>Object.assign(Pe,{[Qe]:he[Qe]}),{})}(this.reducers,Qe)}),this.updateReducers(Pe)}updateReducers(Pe){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:tr,features:Pe})}ngOnDestroy(){this.complete()}}return he.\u0275fac=function(Pe){return new(Pe||he)(f.LFG(ur),f.LFG(Ke),f.LFG(nt),f.LFG(Et))},he.\u0275prov=f.Yz7({token:he,factory:he.\u0275fac}),he})();const ot=[Fn,{provide:Sn,useExisting:Fn},{provide:ur,useExisting:ne}];let Xt=(()=>{class he extends le.x{ngOnDestroy(){this.complete()}}return he.\u0275fac=function(){let Je;return function(Qe){return(Je||(Je=f.n5z(he)))(Qe||he)}}(),he.\u0275prov=f.Yz7({token:he,factory:he.\u0275fac}),he})();const It=[Xt];class jn extends $.y{}let Kt=(()=>{class he extends R.X{constructor(Pe,Qe,yt,bt){super(bt);const rr=Pe.pipe((0,ge.Q)(re.N)).pipe((0,oe.M)(Qe)).pipe((0,J.R)(bn,{state:bt}));this.stateSubscription=rr.subscribe(({state:An,action:Zr})=>{this.next(An),yt.next(Zr)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return he.INIT=xe,he.\u0275fac=function(Pe){return new(Pe||he)(f.LFG(ne),f.LFG(Sn),f.LFG(Xt),f.LFG(Ke))},he.\u0275prov=f.Yz7({token:he,factory:he.\u0275fac}),he})();function bn(he={state:void 0},[Je,Pe]){const{state:Qe}=he;return{state:Pe(Qe,Je),action:Je}}const oi=[Kt,{provide:jn,useExisting:Kt}];let Qt=(()=>{class he extends $.y{constructor(Pe,Qe,yt){super(),this.actionsObserver=Qe,this.reducerManager=yt,this.source=Pe}select(Pe,...Qe){return an.call(null,Pe,...Qe)(this)}lift(Pe){const Qe=new he(this,this.actionsObserver,this.reducerManager);return Qe.operator=Pe,Qe}dispatch(Pe){this.actionsObserver.next(Pe)}next(Pe){this.actionsObserver.next(Pe)}error(Pe){this.actionsObserver.error(Pe)}complete(){this.actionsObserver.complete()}addReducer(Pe,Qe){this.reducerManager.addReducer(Pe,Qe)}removeReducer(Pe){this.reducerManager.removeReducer(Pe)}}return he.\u0275fac=function(Pe){return new(Pe||he)(f.LFG(jn),f.LFG(ne),f.LFG(Fn))},he.\u0275prov=f.Yz7({token:he,factory:he.\u0275fac}),he})();const vt=[Qt];function an(he,Je,...Pe){return function(yt){let bt;if("string"==typeof he){const Lt=[Je,...Pe].filter(Boolean);bt=yt.pipe(function _e(...he){const Je=he.length;if(0===Je)throw new Error("list of properties cannot be empty.");return(0,ye.U)(Pe=>{let Qe=Pe;for(let yt=0;yt<Je;yt++){const bt=null==Qe?void 0:Qe[he[yt]];if(void 0===bt)return;Qe=bt}return Qe})}(he,...Lt))}else{if("function"!=typeof he)throw new TypeError(`Unexpected type '${typeof he}' in select operator, expected 'string' or 'function'`);bt=yt.pipe((0,ye.U)(Lt=>he(Lt,Je)))}return bt.pipe((0,ee.x)())}}const Pn="https://ngrx.io/guide/store/configuration/runtime-checks";function Bt(he){return void 0===he}function Mt(he){return null===he}function $t(he){return Array.isArray(he)}function xn(he){return"object"==typeof he&&null!==he}function fe(he){return"function"==typeof he}function Xn(he){Object.freeze(he);const Je=fe(he);return Object.getOwnPropertyNames(he).forEach(Pe=>{if(!Pe.startsWith("\u0275")&&function be(he,Je){return Object.prototype.hasOwnProperty.call(he,Je)}(he,Pe)&&(!Je||"caller"!==Pe&&"callee"!==Pe&&"arguments"!==Pe)){const Qe=he[Pe];(xn(Qe)||fe(Qe))&&!Object.isFrozen(Qe)&&Xn(Qe)}}),he}function _r(he,Je=[]){return(Bt(he)||Mt(he))&&0===Je.length?{path:["root"],value:he}:Object.keys(he).reduce((Qe,yt)=>{if(Qe)return Qe;const bt=he[yt];return function De(he){return fe(he)&&he.hasOwnProperty("\u0275cmp")}(bt)?Qe:!(Bt(bt)||Mt(bt)||function en(he){return"number"==typeof he}(bt)||function pr(he){return"boolean"==typeof he}(bt)||function wi(he){return"string"==typeof he}(bt)||$t(bt))&&(function qr(he){if(!function Ar(he){return xn(he)&&!$t(he)}(he))return!1;const Je=Object.getPrototypeOf(he);return Je===Object.prototype||null===Je}(bt)?_r(bt,[...Je,yt]):{path:[...Je,yt],value:bt})},!1)}function nr(he,Je){if(!1===he)return;const Pe=he.path.join("."),Qe=new Error(`Detected unserializable ${Je} at "${Pe}". ${Pn}#strict${Je}serializability`);throw Qe.value=he.value,Qe.unserializablePath=Pe,Qe}function gi(he){return(0,f.X6Q)()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},he):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Mr({strictActionSerializability:he,strictStateSerializability:Je}){return Pe=>he||Je?function wr(he,Je){return function(Pe,Qe){Je.action(Qe)&&nr(_r(Qe),"action");const yt=he(Pe,Qe);return Je.state()&&nr(_r(yt),"state"),yt}}(Pe,{action:Qe=>he&&!Gr(Qe),state:()=>Je}):Pe}function Hr({strictActionImmutability:he,strictStateImmutability:Je}){return Pe=>he||Je?function Cn(he,Je){return function(Pe,Qe){const yt=Je.action(Qe)?Xn(Qe):Qe,bt=he(Pe,yt);return Je.state()?Xn(bt):bt}}(Pe,{action:Qe=>he&&!Gr(Qe),state:()=>Je}):Pe}function Gr(he){return he.type.startsWith("@ngrx")}function Wt({strictActionWithinNgZone:he}){return Je=>he?function Er(he,Je){return function(Pe,Qe){if(Je.action(Qe)&&!f.R0b.isInAngularZone())throw new Error(`Action '${Qe.type}' running outside NgZone. ${Pn}#strictactionwithinngzone`);return he(Pe,Qe)}}(Je,{action:Pe=>he&&!Gr(Pe)}):Je}function Lr(he){return[{provide:Ht,useValue:he},{provide:dn,useFactory:gt,deps:[Ht]},{provide:sn,deps:[dn],useFactory:gi},{provide:Ot,multi:!0,deps:[sn],useFactory:Hr},{provide:Ot,multi:!0,deps:[sn],useFactory:Mr},{provide:Ot,multi:!0,deps:[sn],useFactory:Wt}]}function Tn(){return[{provide:Rt,multi:!0,deps:[sn],useFactory:un}]}function gt(he){return he}function un(he){if(!he.strictActionTypeUniqueness)return;const Je=Object.entries(ae).filter(([,Pe])=>Pe>1).map(([Pe])=>Pe);if(Je.length)throw new Error(`Action types are registered more than once, ${Je.map(Pe=>`"${Pe}"`).join(", ")}. ${Pn}#strictactiontypeuniqueness`)}let Nn=(()=>{class he{constructor(Pe,Qe,yt,bt,Lt,sr){}}return he.\u0275fac=function(Pe){return new(Pe||he)(f.LFG(ne),f.LFG(Sn),f.LFG(Xt),f.LFG(Qt),f.LFG(Ue,8),f.LFG(Rt,8))},he.\u0275mod=f.oAB({type:he}),he.\u0275inj=f.cJS({}),he})(),cr=(()=>{class he{constructor(Pe,Qe,yt,bt,Lt){this.features=Pe,this.featureReducers=Qe,this.reducerManager=yt;const sr=Pe.map((Kn,rr)=>{const Zr=Qe.shift()[rr];return Object.assign(Object.assign({},Kn),{reducers:Zr,initialState:Vr(Kn.initialState)})});yt.addFeatures(sr)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return he.\u0275fac=function(Pe){return new(Pe||he)(f.LFG(Be),f.LFG(on),f.LFG(Fn),f.LFG(Nn),f.LFG(Rt,8))},he.\u0275mod=f.oAB({type:he}),he.\u0275inj=f.cJS({}),he})(),br=(()=>{class he{static forRoot(Pe,Qe={}){return{ngModule:Nn,providers:[{provide:Ue,useFactory:_n,deps:[[Qt,new f.FiY,new f.tp0]]},{provide:at,useValue:Qe.initialState},{provide:Ke,useFactory:Vr,deps:[at]},{provide:Oe,useValue:Pe},{provide:We,useExisting:Pe instanceof f.OlP?Pe:Oe},{provide:nt,deps:[f.zs3,Oe,[new f.tBr(We)]],useFactory:$n},{provide:kn,useValue:Qe.metaReducers?Qe.metaReducers:[]},{provide:ft,deps:[Ot,kn],useFactory:ir},{provide:we,useValue:Qe.reducerFactory?Qe.reducerFactory:Qn},{provide:Et,deps:[we,ft],useFactory:yr},Re,ot,It,oi,vt,Lr(Qe.runtimeChecks),Tn()]}}static forFeature(Pe,Qe,yt={}){return{ngModule:cr,providers:[{provide:ct,multi:!0,useValue:Pe instanceof Object?{}:yt},{provide:Ne,multi:!0,useValue:{key:Pe instanceof Object?Pe.name:Pe,reducerFactory:yt instanceof f.OlP||!yt.reducerFactory?Qn:yt.reducerFactory,metaReducers:yt instanceof f.OlP||!yt.metaReducers?[]:yt.metaReducers,initialState:yt instanceof f.OlP||!yt.initialState?void 0:yt.initialState}},{provide:Be,deps:[f.zs3,ct,Ne],useFactory:xr},{provide:Ge,multi:!0,useValue:Pe instanceof Object?Pe.reducer:Qe},{provide:At,multi:!0,useExisting:Qe instanceof f.OlP?Qe:Ge},{provide:on,multi:!0,deps:[f.zs3,Ge,[new f.tBr(At)]],useFactory:hn},Tn()]}}}return he.\u0275fac=function(Pe){return new(Pe||he)},he.\u0275mod=f.oAB({type:he}),he.\u0275inj=f.cJS({}),he})();function $n(he,Je){return Je instanceof f.OlP?he.get(Je):Je}function xr(he,Je,Pe){return Pe.map((Qe,yt)=>{if(Je[yt]instanceof f.OlP){const bt=he.get(Je[yt]);return{key:Qe.key,reducerFactory:bt.reducerFactory?bt.reducerFactory:Qn,metaReducers:bt.metaReducers?bt.metaReducers:[],initialState:bt.initialState}}return Qe})}function hn(he,Je){return Je.map(Qe=>Qe instanceof f.OlP?he.get(Qe):Qe)}function Vr(he){return"function"==typeof he?he():he}function ir(he,Je){return he.concat(Je)}function _n(he){if(he)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function ti(...he){return{reducer:he.pop(),types:he.map(Qe=>Qe.type)}}function ai(he,...Je){const Pe=new Map;for(const Qe of Je)for(const yt of Qe.types){const bt=Pe.get(yt);Pe.set(yt,bt?(sr,Kn)=>Qe.reducer(bt(sr,Kn),Kn):Qe.reducer)}return function(Qe=he,yt){const bt=Pe.get(yt.type);return bt?bt(Qe,yt):Qe}}},5861:(Me,ie,S)=>{"use strict";function f($,le,re,ye,_e,ge,oe){try{var J=$[ge](oe),ee=J.value}catch(ae){return void re(ae)}J.done?le(ee):Promise.resolve(ee).then(ye,_e)}function R($){return function(){var le=this,re=arguments;return new Promise(function(ye,_e){var ge=$.apply(le,re);function oe(ee){f(ge,ye,_e,oe,J,"next",ee)}function J(ee){f(ge,ye,_e,oe,J,"throw",ee)}oe(void 0)})}}S.d(ie,{Z:()=>R})}},Me=>{Me(Me.s=4468)}]);